<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>What if I push a wrong commit? - Learn or Die</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Sometimes after pushing a new commit, we realise that there seems to be something wrong.  Don’t panic. In this case we could use git revert to cancel the commit. Now let me illustrate it as follows:">
<meta name="keywords" content="git revert">
<meta property="og:type" content="article">
<meta property="og:title" content="What if I push a wrong commit?">
<meta property="og:url" content="https://tn710617.github.io/gitRevert/index.html">
<meta property="og:site_name" content="Learn or Die">
<meta property="og:description" content="Sometimes after pushing a new commit, we realise that there seems to be something wrong.  Don’t panic. In this case we could use git revert to cancel the commit. Now let me illustrate it as follows:">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.imgur.com/CTs3Q41.png">
<meta property="og:image" content="https://i.imgur.com/RRSzhrW.png">
<meta property="og:image" content="https://i.imgur.com/lvgF0Vd.png">
<meta property="og:image" content="https://i.imgur.com/SpH8ur7.png">
<meta property="og:updated_time" content="2019-06-20T01:28:16.971Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="What if I push a wrong commit?">
<meta name="twitter:description" content="Sometimes after pushing a new commit, we realise that there seems to be something wrong.  Don’t panic. In this case we could use git revert to cancel the commit. Now let me illustrate it as follows:">
<meta name="twitter:image" content="https://i.imgur.com/CTs3Q41.png">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


    <link href="/zh-tw/gitRevert/" rel="alternate" hreflang="zh-TW">








    <meta name="description" content="Sometimes after pushing a new commit, we realise that there seems to be something wrong.  Don’t panic. In this case we could use git revert to cancel the commit. Now let me illustrate it as follows:">
<meta name="keywords" content="git revert">
<meta property="og:type" content="article">
<meta property="og:title" content="What if I push a wrong commit?">
<meta property="og:url" content="https://tn710617.github.io/gitRevert/index.html">
<meta property="og:site_name" content="Learn or Die">
<meta property="og:description" content="Sometimes after pushing a new commit, we realise that there seems to be something wrong.  Don’t panic. In this case we could use git revert to cancel the commit. Now let me illustrate it as follows:">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.imgur.com/CTs3Q41.png">
<meta property="og:image" content="https://i.imgur.com/RRSzhrW.png">
<meta property="og:image" content="https://i.imgur.com/lvgF0Vd.png">
<meta property="og:image" content="https://i.imgur.com/SpH8ur7.png">
<meta property="og:updated_time" content="2019-06-20T01:28:16.971Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="What if I push a wrong commit?">
<meta name="twitter:description" content="Sometimes after pushing a new commit, we realise that there seems to be something wrong.  Don’t panic. In this case we could use git revert to cancel the commit. Now let me illustrate it as follows:">
<meta name="twitter:image" content="https://i.imgur.com/CTs3Q41.png">





    <link rel="icon" href="/images/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/sunburst.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
        
    
        
    
        
    
        
    
        
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-135063928-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-135063928-1');
</script>


    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    Learn or Die
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/archives">Archives</a>
            
            <a class="navbar-item " href="/categories">Categories</a>
            
            <a class="navbar-item " href="/tags">Tags</a>
            
            <a class="navbar-item " href="/schedule">Schedule</a>
            
            <a class="navbar-item " href="/about">About</a>
            
            <a class="navbar-item " href="/japanese">Japanese</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="Table of Contents">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#Build-a-simulating-remote-folder-locally">1&nbsp;&nbsp;<b>Build a simulating remote folder locally</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Build-testing-environment-locally">2&nbsp;&nbsp;<b>Build testing environment locally</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Build-remote-branch">3&nbsp;&nbsp;<b>Build remote branch</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Revert-existing-commit">4&nbsp;&nbsp;<b>Revert existing commit</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Conclusion">5&nbsp;&nbsp;<b>Conclusion</b></a>
                    
                </div>
            </div>
            

            
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu7">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>English</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu" style="top:100%">
            <div class="dropdown-content">
            
                <a href="/gitRevert/" class="dropdown-item">
                    English
                </a>
            
                <a href="/zh-tw/gitRevert/" class="dropdown-item">
                    繁體中文
                </a>
            
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            What if I push a wrong commit?
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-02-12T00:00:28.000Z" itemprop="datePublished">Feb 12 2019</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/Git/">Git</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            4 minutes read (About 595 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>
Sometimes after pushing a new commit, we realise that there seems to be something wrong.

</p><p>Don’t panic. In this case we could use git revert to cancel the commit.</p>
<p>Now let me illustrate it as follows:</p>
<p></p>

<a id="more"></a> 

<h3 id="Build-a-simulating-remote-folder-locally"><a href="#Build-a-simulating-remote-folder-locally" class="headerlink" title="Build a simulating remote folder locally"></a>Build a simulating remote folder locally</h3><ul>
<li>Due to the inaccessibility of internet of some people, we are going to create a simulating remote folder locally</li>
<li>Go to the folder where normally you put your projects<ul>
<li><code>mkdir git_demonstration git_demonstration_central</code></li>
<li><code>cd git_demonstration_central</code></li>
<li><code>git init --bare</code></li>
</ul>
</li>
<li><code>git_demonstration_central</code> will be the remote repository in this article.</li>
</ul>
<h3 id="Build-testing-environment-locally"><a href="#Build-testing-environment-locally" class="headerlink" title="Build testing environment locally"></a>Build testing environment locally</h3><ul>
<li>Go to testing folder<ul>
<li><code>cd ../git_demonstration</code></li>
</ul>
</li>
<li>Intialize git<ul>
<li><code>git init</code></li>
</ul>
</li>
<li>Create a file called test<ul>
<li><code>touch test</code></li>
</ul>
</li>
<li>Add number 1 into the file test<ul>
<li><code>cat 1 &gt; test</code></li>
</ul>
</li>
<li>Add test file into git tracking list<ul>
<li><code>git add test</code></li>
</ul>
</li>
<li>Make a commit towards current file and content<ul>
<li><code>git commit -m&#39;1&#39;</code></li>
</ul>
</li>
<li>Add number 2 into file test, and make a commit named 2<ul>
<li><code>cat 2 &gt;&gt; test;git commit -am&#39;2&#39;</code></li>
</ul>
</li>
<li>Add number 3 into file test, and make a commit named 3<ul>
<li><code>cat 3 &gt;&gt; test;git commit -am&#39;3&#39;</code></li>
</ul>
</li>
</ul>
<h3 id="Build-remote-branch"><a href="#Build-remote-branch" class="headerlink" title="Build remote branch"></a>Build remote branch</h3><ul>
<li>Add the simulating remote repository as the remote of our testing folder.<ul>
<li><code>git remote add origin /user/yourUserName/yourDirectory/git_demonstration_central</code></li>
</ul>
</li>
<li>put current master branch to remote, and set the newly created remote branch as the local one’s upstream branch<ul>
<li><code>git push -u origin master</code></li>
</ul>
</li>
<li>Check the history of remote repository<ul>
<li><code>cd ../git_demonstration_central;git log</code><br><img src="https://i.imgur.com/CTs3Q41.png"></li>
</ul>
</li>
</ul>
<h3 id="Revert-existing-commit"><a href="#Revert-existing-commit" class="headerlink" title="Revert existing commit"></a>Revert existing commit</h3><ul>
<li>For example, we would like to remove the content recorded in commit 3<ul>
<li><code>git revert f06550f7</code><br><img src="https://i.imgur.com/RRSzhrW.png"></li>
</ul>
</li>
</ul>
<ul>
<li><p>Update the change to remote</p>
<ul>
<li><code>git push</code></li>
</ul>
</li>
<li><p>Check if the content of file test has changed</p>
<ul>
<li><code>cat test</code></li>
</ul>
</li>
<li><p>Got value <code>1 2</code>,  and the number 3 existed in commit 3 was already removed<br><img src="https://i.imgur.com/lvgF0Vd.png"></p>
</li>
<li><p>Check the history of remote repository</p>
<ul>
<li><p><code>cd ../git_demonstration_central;git log</code><br><img src="https://i.imgur.com/SpH8ur7.png"></p>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>
Some git novices might have the same confusion as mine when I learnt this part. Why don’t we just eliminate the commit? instead, we would we add one more?

</p></li>
</ul>
</li>
</ul>
<p>Here I would like to make a further explanation.<br>Normally, after pushing our commit to mutual repository, I strongly urge you not to revise the existing history. Because once you revise the existing history and push it to mutual repository, it could cause a huge impact to the history on everyone’s repository. After revising, every collaborator’s history will be different from yours, which would cause a lot of confusion and conflict.</p>
<p>What we want to take out is a code existing in the file, so realistically, we want to cancel the code, not history. In multi-collaboration, you could add new history, and not recommended revising old one. You could add a new commit specifying what you’ve done, but not to revise the history on your side, because only you know what you’ve done, and other people know nothing on your side.</p>
<p>In other words, before you push your part to mutual repository, you could do whatever you want (only to what you haven’t pushed. Don’t revise anything you’ve pushed), however, after pushing, don’t revise the history. If you want to do some revising on the file, just make a new commit explaining what you’ve done and push it, and then you could avoid possible confusion and conflict.</p>
<p>It’s my sharing today. See you guys.</p>
<p></p>


    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/git-revert/">#git revert</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/createAPersistentDisk/">Create a persistent disk in GCP</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/implementCIWithJenkinsOnAWS/">Implement CI with Jenkins on AWS</a>
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="sharethis-inline-share-buttons"></div>
<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c72643b9ea706001139fd89&amp;product=inline-share-buttons" async="async"></script>

</div>



<div class="comments">
    <h3 class="title is-4">Comments</h3>
    
<script>
    var disqus_config = function () {
        this.page.url = 'https://tn710617.github.io/gitRevert/';
        this.page.identifier = 'gitRevert/';
        
        this.language = 'en';
        
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'rayscodingjourney' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2021 Ray&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
                <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
                <script>
                    if (window.mermaid) {
                        mermaid.initialize({theme: 'default'});
                    }
                </script>
            

            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/tn710617">
                
                    <i class="fab fa-github"></i>
                
            </a>
            
            <a class="navbar-item" title="Medium" href="https://medium.com/@raycodingjourney">
                
                    <i class="fab fa-medium"></i>
                
            </a>
            
            <a class="navbar-item" title="Linkedin" href="https://www.linkedin.com/in/ray-lee-99315315a">
                
                    <i class="fab fa-linkedin"></i>
                
            </a>
            
            <a class="navbar-item" title="Facebook" href="https://www.facebook.com/profile.php?id=100001626039430">
                
                    <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="navbar-item" title="CakeResume" href="https://www.cakeresume.com/resumes/ray-6edaef/edit">
                
                    <i class="far fa-address-card"></i>
                
            </a>
            
            <a class="navbar-item" title="E-Mail" href="mailto:tn710617@gmail.com">
                
                    <i class="far fa-envelope"></i>
                
            </a>
            
            <a class="navbar-item" title="Skype" href="skype:adad0310?call|chat">
                
                    <i class="fab fa-skype"></i>
                
            </a>
            
            

        </div>
    </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>