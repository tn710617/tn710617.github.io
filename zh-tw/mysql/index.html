<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>MySQL 學習筆記 - Learn or Die</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="# 前言如果可以過目不忘, 那可能就不用寫 Blog 了…">
<meta name="keywords" content="MySQL">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 學習筆記">
<meta property="og:url" content="https://tn710617.github.io/zh-tw/mysql/index.html">
<meta property="og:site_name" content="Learn or Die">
<meta property="og:description" content="# 前言如果可以過目不忘, 那可能就不用寫 Blog 了…">
<meta property="og:locale" content="zh-tw">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dLHgEznBsXr7t-82j2rYygjpH1OHPP0bZCGAqyJ5WQFhUTvuc0_niupQiQAqC_vQustP5808xVodm9edAGaMUkzw_VQXiCF54XsSSSPmb3_3z38vlhj1AAKAh3LQfQXcy4xw9CUOMFHm3TWUURcUfWfQ=w554-h172-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/HoKpRaqnp69GFRRySf7YLuvwORyD-no4-1LyhADdw6bUxr7R7GwNcxzrV0GWPE2clKg_S0T9iLGOwNaC4aLOIjOngCia2cELgeR7HBsQFwW9bfWfI89fMo1CM4ofiuKUm_tgi23ipVgB2In_fgWSh2eHGbHNsrnqYTB5gBqalITl7aXhRlbJqDVOkyleCnodSlDKuEo3sRHutDsafnvuw4KjE3h2goMYuIXNk1XxVUW9Xv5PxOQs_avtunxYNx7fHAWJ-3grxeQkExQrCIWRFknirZpXmNhJizPGMhUkbOpShQ0u3TLVNTOHrntDuooU1m8FaxmnNBUponu7m6I-E66f5HAU5RPYcg7ns3Wq84wFshLkwb19B8m8M1hSBrlqg8TOOmZUoONKiDDR9FDqCNZ_evjJ33bQOgfFF_R6cqp_Qj-ZusHzxEeDj_s56OYiCueV0HovIGlEIdICwxLsy4xfm57SoDA1ly1qGWMgNPjsDXicfv8D6lE8VzIr_wPGUk7Onuy-iNt13JKiPv47W2Nfl3FjnThCoxIRpVLE48dOhRacw-T6tD0GLfSx_GAsAuSYlsjAYAScUw45Gb7njPrJITZrb9bmrRYEyU-JbwIeTTuaF7z72IfsKd18VFxYr0nq50Wc8tT9CaUVdeJEnCvt1hrUjS4coP-yRj09L7SvBtjEdulYDa7kKst3yGpqcoB3NudVIC3OFOLEWoRgLzHtb8vGUH95LPn1hYriGffFhojUSbGAIwDC=w522-h800-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cDOjbLekQ9V7XlmiZx-0WdkLFrixLUmqJexJrjH4sSgHqbah9RL1dlGo43plbONK2-BlrurueJStkN_0gMJDv9XZXPUii8KWAOqDEBXcreMHOGUMZiX09AXwZBs0p0tVBRzdTgfATycLshTKqnzvd4VA=w696-h1704-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fRVByzBoNC2ZHa5xcOibwQ4dg92GqTXG5GfTA4jGHwkUSKd-8Ut45re0xSI_QqBPteoUB6qiTdKQzOo8EeH2Qz8SrF_mbO6609SVRaOubpuyb-IobR676pAgkC4YCTdpmVnb4ZhfAeonbBMH4p1Bj31A=w1112-h1600-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cswXqSzJYPv7gonbHbRQ3kfpiuo-Ma864kWlcWKGRPMs1IkWTEWIRXU2_swnteQRHqaxSFr3r7E62UUD25fGBF-kSzudFxT1t2Dx_Ql7o5Iz71g_bOjE9bLfbwb2dssZo9Js_x2GL7ey5nAhcQWoAFZw=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dztqVh_OItXI8hcjMmg5fZXB-4eSVDsD-XbEJOZ2UHZ54hBjOei1E3m8wMPEoGlqb2id29hSxfwNBV7A_9nWzpKyxKir9gvQZ1Ke4_J-TEv9cSgz0gwzpsR3lEEeagtxxxbtId3sfEDHItrAncZmZKiw=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dDeUFBKih_YOvZUPhdjgtlj21G7dwDKlSWsfwtMIGb23uEmNldWDVoWlfWEKo63ixi5GqfPRpXAXjQSUO9SXRqs6-vQmqifLclt_z0gn9S9ZnJ8pmhYRfTMi95dtiAubODl_EFA3-FzO3AxpOvutr-HA=w1142-h1522-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fjW0XEfmW2DyzVQ4VCCMFUjfdGCpFWggzuTG071ohPhLEagEzLpyZ8BRURKjHsLcJMn5GRWweuRR0wyZzMvYTsP81Az-v0TXmvXiHiiAF2qlUuatDXSzpvf9iPksJQqcEDZ50CjN-VPq843gaJKr7saQ=w1920-h1440-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ekwu-P3VY_S0_1hK5J-kdfmp0wrN7clSPT-G2QjU6EKZSy3fCf0DAhzvrIx1KEg3VEt9dALWAzccCgUoHFTEiR496rvQ7eNS2mIwniIO6gpzvXKB25z9SlBiNKH5VwHoQxmAa2OmaOUkmIvNFwed_OwQ=w1922-h1082-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eNnbNqUcPVOcj7T89BAI0MySfznedETHOYkouABM3KqdJCYYznbPScZ_2GxXRIp7JSBPGSfsSqXC7gIu7c3PwOoERWGiZET0SF065Ag2ZQnLLQ8Rdu_xPfzqdWxNbJyn__xqHJqoiNyYMvgrYt9yOqIg=w1400-h1178-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cIlzcow0TaxIoSNLt8t-KlF4vTnzkHcxpAd5PY3G2ZO1fTRlCHs6mA1QIRfmvLrd_KEh6aAfrBwKnIYJ45atJjq-chqsdUFDTd-vGRFhPA5HemoO11mRlRgR6vCTg-tZtHlROplllre7DGo558OsoTxA=w1400-h1258-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cSrjdapjyC57uQPG55HZIc_KJxUokfg3YQzp0CX5D18325Cki7ho-O3jKdMCbKMdEym1LtUGrd72KnRLI40c-d3cFYiLzQE1m9NpMsLELWTS0x47Qs67rU3ugnXxufRO5grKF6s0YLFFhub4aVo3gBuw=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fgHsR4hH9u3VrwYE9FWHyJhZw4TsMHM5n9tbLKInhgwE4dX8_8woqOxqklNzkxmwPY6Qe55JyHP_7BA7BVBflzImjiwGuOfe5Dofwt1NUgn-DQTofoz41BRZeUrdnxC1mTKEUbFaN6znXnGRn31iH2QA=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ebqdFM2ZmkDrmMigbqRe887FSRNiO3_vPqVRBmxWNaspmbTGfZuQh45FpeF6sGvmpfK_R3AkEfTiuoit_CugmX_l9CGELIhDD2qNAbc-I_goMzK-A-20n6gJRwVsyfQ0hAfsVqsXTRYdNnHM8yfOdfUg=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3coTHFB5d9fvCUVMGMT-ygib7lAk8LmoaCKKdXoNapFR_1ux8klLdfDT_XMcctS-HK8Ts_djId1kf1-0Ut6SKCrLlXCQ0CiBBCJ5b6SIVXvRAb7wAvHhelbeA2oL98AKE4H5uR5ayP3OipquGwFNhIN6g=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dgsXj5ZD0YgEzsv6DA3YvsBMak86F_h23dEnDnd-hEJWuY9KV5s7eAcUb0D2b2I7kRHYahe25l2w9QsB2JB6ZA9YrZeUcR4lhTRpzdOVhnomMCtmDEW8NT6NrJvn1r-psDcyq0o-8UcLkST4t54ueztg=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f8F7UIcwsl1kqV9s8A-iZ62JiTHlM4hYJCsrvNeyVmTS_UlzKN97od8Ii-JRNAfYH5aH7xP5TopMTZdN-5YiNeWoI5q3_ptgXzreCB1EqaOlNi22_meBIrlSkRhCDb5zLE2IH2yeZlB6trQKVSyv8zYA=w1559-h744-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dLHgEznBsXr7t-82j2rYygjpH1OHPP0bZCGAqyJ5WQFhUTvuc0_niupQiQAqC_vQustP5808xVodm9edAGaMUkzw_VQXiCF54XsSSSPmb3_3z38vlhj1AAKAh3LQfQXcy4xw9CUOMFHm3TWUURcUfWfQ=w554-h172-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eITBPO8i_Eaq2_BvUbQNGY-rY5vbz9kVaNMCkotQXVIUkzjkjh6t0y1UI_gH04U9JrBvLNX8fSKCmBYx_5nMG9RV6mGCWg50y4g8XZoqqF4HyruWRhd9Mowml7yKFOmZl3d_PP49EmQtgbzJt2h-Qzvw=w2940-h374-no?authuser=2">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dnV6FOj-6J3wQ-FDwa2S46j11ngndzbvAaG03B6HA7oQrTP1xyyDigAyt4L-qgZWdgSAiG9JPg3DSEETU8rqnl7q5dTdUysgbXBYqh2ZMJHvKie7t4eFJWbbST28-cRH7DzQpkmhskx7zx2wI4tS8w7Q=w1350-h150-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f9w98Lp6bWxrsSeOPErWilxclYurqga7yfCDB3gdoR_J4CG_nYoUasEeGzfUdkH3JuFIvNQkfIz7pF6s-wXCh5KiucijT9sI9CjWe2aF4UpHQ5dwQiMsNvnD2V5f1cS4wMxoZV74RgnfGRlRdFTE2QfQ=w1098-h166-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eU2uwBaix5YszaenNWm8fXL3IJ0ayqe9qp8apx8-Nq-vJgUYvpbajziTM2EFmPxruDe5_oUEeWgdnxnHAaqResY3qLFF0RpN8IA_n3r-TCjneLaCexff3MWUz8_4u4Q7Hr46ZlNd_jXvvcWrX7XP71_A=w722-h282-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dKyHGO5w46f2XGJMjIE2hm8CLTOHEtA6ummhPc2JtSWVfW1zPZp0kfdg4psDTciLU5Jh8lgEUjJqd-RGGE3CjwdkHE_xqH4Yh215D-TEW2cvmkr3BsW3iL1c0zMODa_L4U2BY6U4uT1jSR71wWO5CTEA=w976-h156-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cRNgaEJnYozPr1Fu1JgGhNK1m9xvtJa_FMBBI1f_4VxpztvbMOG51HJseURsQ594Lm3nCVpCizBHk43n3zdaS0hyNqgUla1qMncCrOlegqsA6PUZDcfCZ4xdmNXZfNDm0PzrmznB-F2Pv_JHCykDF8gg=w1194-h210-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3d4VGASGTQBeW0k4Vl5RMAB4soLpPjR0DmM8GvLBhA6nTnohK7dkDxDEwBZ35QbYmV0vgqt3kE7yaJXG4NrB0oICf12ZkudAVgi1s_fvLG_OqofnS8cv8WULW7JfjEF81cDhwfgqUFLB748n2PzmDIDig=w408-h142-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f4lntKBqX4j2wgHYDVmtHRmM3rsj5T69tGNW1_T_NK13JKp5-GZAseiMbDlkmWtIEELMCrr58GMREp2RM1s1gZ7_LyDep5lqzlom536LkFYaoy5cnaGliBOj4rBAi2OLQj2LjLgVOKhUJZ-YNfLrzwFQ=w852-h142-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dtMv8Io-btkq2UQwoqVM0uo_vYJC6QCr29XDqc4lQ8ayt1h2d4vT_XURAirpy34KHND13o5DmB6Lp-gCMrIfG6di0ygI6u7vjT995tPwFABlkSkb10yj2QVCCAYuEdfhDwFclx5BdMhSU3MT9-aaQVow=w1200-h202-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3frOI8ATEShz_N1HZyXw8r-SeRN7VbBylhxdQ9zkCd8IYaTedU6_o7JH5TyRvIaUuS5-NPis4LpS9E1jzVQLAsih-DAfAxIdXdOKlmWB3QGWoLsvrGrCQCwbsF6-niBP2wA8TPeKgCXmVGM_M2ICx2meg=w1356-h218-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3frOI8ATEShz_N1HZyXw8r-SeRN7VbBylhxdQ9zkCd8IYaTedU6_o7JH5TyRvIaUuS5-NPis4LpS9E1jzVQLAsih-DAfAxIdXdOKlmWB3QGWoLsvrGrCQCwbsF6-niBP2wA8TPeKgCXmVGM_M2ICx2meg=w1356-h218-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eoskj7AUogq4jmWfLb7-dI5iGJUWz8UV6L5eDFXrafIGL9w5ZaVIHs9-XN3KiLWMuTQ_HKFvIpc6Za5G5YYlSJaQNwxp_gzNWrG9uYEwiEXvI8jKywSlEVtFVn3uzSRQq8Hw7fRgDQ-amYaa1-nW7mGA=w1352-h212-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3c3GhlwuBEL-0uPRC9FJ-ImkNJxSXb1HDkRz571CZkFs3ZfoH2f2TV3_t4QVeTvWIVyKMo6VniY6dzp-VfpvOiFWCzOEeCB0n1JysgCnDgVMGRWX7Da6IQY9jbsKy0i_9yDxGgQi6jKjkAgGkN62ZIXTQ=w1074-h260-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dlhJ2763E6CXuF5pp3k00zJTFc_7OJgHVvjth0NQCHyrPvo5pmY37E_9M14U5iyuZdAKV_ehH9IY1lGBpj5cKq0wM17AiyKUUbjFeGy4IyK_Oi335QExW8xShQH8eTfpI3uJRnuH2g2Q3u4_0zBWMnHA=w1072-h204-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3feB2ngYRfVdXNaL3c94cuoPCGBleI_fkgIZxm-CgRI6ALNMgPcRshpeLH_ZGDJtO1NZG8axLMUO7h4W-2m6IXVBgsAn7imnLlN1w9EMLOe83frCffIpBtJN5IDcfqwdqrsmjvxk8zpebhTSIExlYgKaA=w1254-h152-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eLNtMOG3MF8YjmvFeuyU0E_1DFukmbz5JOT_ZUOH6GXoUnsjao1HKaWmlr7tjvXHeCo1G2DnO8iOBgqa1SvPgKgYbL2hsdrMTyhERwgLWbHrO2ShsIbjIbhY5asOEUyPYYh_CO62Me0zz4SRLOB822Jg=w618-h152-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f2Q6KEQsP2PqS2DY-m8VwUYZAvw2gifnl2WZQgR-4ftknaxYFuLYMskW8AHy2Rejfk8iYdsP1ubbgILMXyl9_Q440wcP9YiqzNjsRQ7w_jop4QttbJsFZdZgSZg4HA1_zxLT8L54XkbgAjPqYFdxOMgw=w732-h102-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dF4ZjW2F4Us_lz5QG_fhn3FgK_vDcwYXzsH84ISaw24SAKvuMXX1Om0FLDBv0CjOPDctRE4vhWsq_TESBvtvOhw5xX37XjGLJ8aJfMfcOhTnMap2rS4zEenBIVFUJZRPVxIXx2uuwcpL7up-iua1iGCA=w1658-h102-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fPAS4KqqtzGeAU12yKAWD2BP9Zen-xVonh7-Gh6E5EE8jc8HenpqFzj3OUG58SVoA7N2tqY4__6RJoTRi4j05QyWYjoJ8NRj7yt5AThkItAJjPcGd6uGvFIWrnHmlc4Pk4JibmiSHF_A3_PpBedzAzjA=w1044-h280-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dZmUV2lxpqaVP8bgD6SCJAjA-vaPSY0RQaYfWCYqo0NlODpYV_1xfvpo_BKcVeVquShiT50JFTyzzjUTd56MBxHDgizOwff27--7doto15R4hZVqJRdqCg5iq5o9p9BGA9EoLtZTUzRWb0QdOO-3Whig=w710-h160-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dBcljw4liFBsgiYPQ9qeStIrWDoE22Xba3Zyd4446hYqcdDfCmTWijLiSWx-5bMkxdlZQ5M8H8nToPlxfjf79xR710ax3LazSzRJOEv_0xxvh5ApzpT-IY2R5peojEnIX1fVOpC2FQRCvsrUnUOk-W_Q=w710-h160-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fv-rQ7tzspcmyeZ2XQUaRcRD9rrd0RyH-gxr7NOXB-jOBoIUKZRf8Zm9ww6m1veO0MO7Z5F4H4U6Ho4MOpnsiZlm-_kamXXv-Dk3MU8EYSz297cq8MZH56BqOIy_0xaVwBqssH7tsSmAHIcHg8iPr77w=w774-h224-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eTTAw26GSGEeuRePK-a-nHoYnqV-CnjY-sYCnF6QrevQ_Sbnm5J99Mn2tTK_Kkn23uaLSuc9v1K_o7gDKfNOkLxhmX5ilCqlF9zLluV-KtnjEN6q05faeaiVmLTA4MbmEXYPdfteBZezRladlBEhqcmg=w214-h164-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3evheWl4A6EdFxznfZBHZ2EZrpoCIfbblBndOR4rE69PPacvJNTtvPak2V5f9fqwFWhVdsFnjNKSu49PlvOakOKJMWqvdCBe2JfDetwMba9_gO1z_3zj20FuZwoHJT7ux4V_IS1cdPwFyqekyiGNykNaw=w364-h248-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3e2PdSbQRQ1cIqySO17As5bRqmoyyPF4pWMGWCPPB7YOs3tLsB7t7aV-MQZ3a1pCmJVsJ6h-losYKEbbedwOLjzhu1CIer8tE9pHU5phwm1dlldS3Xj6K-6ZzaCa8gX5wOKkvqtKmFHNrrrX9GZwZXjuw=w264-h248-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dAIYjJ92lwi-2YKq_9IVVY-779K6GbYuQfgdjCGlSJAgWeaBVWJrzwMtQL2wk6G_o8vLbJuuyIT3BcHq0OTvlw08sMFaZMMytL10EbfhiiIwQyDRglE6XGJMXJlfYVjufFRRSWLIlmTI8pnIniMb71Ww=w3414-h2002-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eO_NrScVvF5M6te4kEX7VTplPkSEI-_0gkyRvJgKbeeANIH1XkUiS6nXi7ELtyGh0EDk4S6z0CR3WtHfsdEuGh4OQYaISqeEioE2dY6p0d0ENZAgD10YOsvnXs8desk4fYwGgPX7vv9Pa8Rq_P04qshw=w920-h472-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cyStcyEOpQ3RC-ZwRm0sdp2S0QJmpG6vdYXhw1tIk3TqLLIGYxiS6zcaFguwpOxOfCbxNI5CP6JT10C90alEBwRuDEF5Fo8qTm54RRQ2k4jEZBVwqn_pM4NmB5aYf7YVCJx1B75F_EzGPAEv7pzsMMLw=w3158-h214-no?authuser=2">
<meta property="og:updated_time" content="2021-03-16T14:04:44.439Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL 學習筆記">
<meta name="twitter:description" content="# 前言如果可以過目不忘, 那可能就不用寫 Blog 了…">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


    <link href="/mysql/" rel="alternate" hreflang="en">








    <meta name="description" content="# 前言如果可以過目不忘, 那可能就不用寫 Blog 了…">
<meta name="keywords" content="MySQL">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 學習筆記">
<meta property="og:url" content="https://tn710617.github.io/zh-tw/mysql/index.html">
<meta property="og:site_name" content="Learn or Die">
<meta property="og:description" content="# 前言如果可以過目不忘, 那可能就不用寫 Blog 了…">
<meta property="og:locale" content="zh-tw">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dLHgEznBsXr7t-82j2rYygjpH1OHPP0bZCGAqyJ5WQFhUTvuc0_niupQiQAqC_vQustP5808xVodm9edAGaMUkzw_VQXiCF54XsSSSPmb3_3z38vlhj1AAKAh3LQfQXcy4xw9CUOMFHm3TWUURcUfWfQ=w554-h172-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/HoKpRaqnp69GFRRySf7YLuvwORyD-no4-1LyhADdw6bUxr7R7GwNcxzrV0GWPE2clKg_S0T9iLGOwNaC4aLOIjOngCia2cELgeR7HBsQFwW9bfWfI89fMo1CM4ofiuKUm_tgi23ipVgB2In_fgWSh2eHGbHNsrnqYTB5gBqalITl7aXhRlbJqDVOkyleCnodSlDKuEo3sRHutDsafnvuw4KjE3h2goMYuIXNk1XxVUW9Xv5PxOQs_avtunxYNx7fHAWJ-3grxeQkExQrCIWRFknirZpXmNhJizPGMhUkbOpShQ0u3TLVNTOHrntDuooU1m8FaxmnNBUponu7m6I-E66f5HAU5RPYcg7ns3Wq84wFshLkwb19B8m8M1hSBrlqg8TOOmZUoONKiDDR9FDqCNZ_evjJ33bQOgfFF_R6cqp_Qj-ZusHzxEeDj_s56OYiCueV0HovIGlEIdICwxLsy4xfm57SoDA1ly1qGWMgNPjsDXicfv8D6lE8VzIr_wPGUk7Onuy-iNt13JKiPv47W2Nfl3FjnThCoxIRpVLE48dOhRacw-T6tD0GLfSx_GAsAuSYlsjAYAScUw45Gb7njPrJITZrb9bmrRYEyU-JbwIeTTuaF7z72IfsKd18VFxYr0nq50Wc8tT9CaUVdeJEnCvt1hrUjS4coP-yRj09L7SvBtjEdulYDa7kKst3yGpqcoB3NudVIC3OFOLEWoRgLzHtb8vGUH95LPn1hYriGffFhojUSbGAIwDC=w522-h800-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cDOjbLekQ9V7XlmiZx-0WdkLFrixLUmqJexJrjH4sSgHqbah9RL1dlGo43plbONK2-BlrurueJStkN_0gMJDv9XZXPUii8KWAOqDEBXcreMHOGUMZiX09AXwZBs0p0tVBRzdTgfATycLshTKqnzvd4VA=w696-h1704-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fRVByzBoNC2ZHa5xcOibwQ4dg92GqTXG5GfTA4jGHwkUSKd-8Ut45re0xSI_QqBPteoUB6qiTdKQzOo8EeH2Qz8SrF_mbO6609SVRaOubpuyb-IobR676pAgkC4YCTdpmVnb4ZhfAeonbBMH4p1Bj31A=w1112-h1600-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cswXqSzJYPv7gonbHbRQ3kfpiuo-Ma864kWlcWKGRPMs1IkWTEWIRXU2_swnteQRHqaxSFr3r7E62UUD25fGBF-kSzudFxT1t2Dx_Ql7o5Iz71g_bOjE9bLfbwb2dssZo9Js_x2GL7ey5nAhcQWoAFZw=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dztqVh_OItXI8hcjMmg5fZXB-4eSVDsD-XbEJOZ2UHZ54hBjOei1E3m8wMPEoGlqb2id29hSxfwNBV7A_9nWzpKyxKir9gvQZ1Ke4_J-TEv9cSgz0gwzpsR3lEEeagtxxxbtId3sfEDHItrAncZmZKiw=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dDeUFBKih_YOvZUPhdjgtlj21G7dwDKlSWsfwtMIGb23uEmNldWDVoWlfWEKo63ixi5GqfPRpXAXjQSUO9SXRqs6-vQmqifLclt_z0gn9S9ZnJ8pmhYRfTMi95dtiAubODl_EFA3-FzO3AxpOvutr-HA=w1142-h1522-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fjW0XEfmW2DyzVQ4VCCMFUjfdGCpFWggzuTG071ohPhLEagEzLpyZ8BRURKjHsLcJMn5GRWweuRR0wyZzMvYTsP81Az-v0TXmvXiHiiAF2qlUuatDXSzpvf9iPksJQqcEDZ50CjN-VPq843gaJKr7saQ=w1920-h1440-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ekwu-P3VY_S0_1hK5J-kdfmp0wrN7clSPT-G2QjU6EKZSy3fCf0DAhzvrIx1KEg3VEt9dALWAzccCgUoHFTEiR496rvQ7eNS2mIwniIO6gpzvXKB25z9SlBiNKH5VwHoQxmAa2OmaOUkmIvNFwed_OwQ=w1922-h1082-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eNnbNqUcPVOcj7T89BAI0MySfznedETHOYkouABM3KqdJCYYznbPScZ_2GxXRIp7JSBPGSfsSqXC7gIu7c3PwOoERWGiZET0SF065Ag2ZQnLLQ8Rdu_xPfzqdWxNbJyn__xqHJqoiNyYMvgrYt9yOqIg=w1400-h1178-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cIlzcow0TaxIoSNLt8t-KlF4vTnzkHcxpAd5PY3G2ZO1fTRlCHs6mA1QIRfmvLrd_KEh6aAfrBwKnIYJ45atJjq-chqsdUFDTd-vGRFhPA5HemoO11mRlRgR6vCTg-tZtHlROplllre7DGo558OsoTxA=w1400-h1258-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cSrjdapjyC57uQPG55HZIc_KJxUokfg3YQzp0CX5D18325Cki7ho-O3jKdMCbKMdEym1LtUGrd72KnRLI40c-d3cFYiLzQE1m9NpMsLELWTS0x47Qs67rU3ugnXxufRO5grKF6s0YLFFhub4aVo3gBuw=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fgHsR4hH9u3VrwYE9FWHyJhZw4TsMHM5n9tbLKInhgwE4dX8_8woqOxqklNzkxmwPY6Qe55JyHP_7BA7BVBflzImjiwGuOfe5Dofwt1NUgn-DQTofoz41BRZeUrdnxC1mTKEUbFaN6znXnGRn31iH2QA=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3ebqdFM2ZmkDrmMigbqRe887FSRNiO3_vPqVRBmxWNaspmbTGfZuQh45FpeF6sGvmpfK_R3AkEfTiuoit_CugmX_l9CGELIhDD2qNAbc-I_goMzK-A-20n6gJRwVsyfQ0hAfsVqsXTRYdNnHM8yfOdfUg=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3coTHFB5d9fvCUVMGMT-ygib7lAk8LmoaCKKdXoNapFR_1ux8klLdfDT_XMcctS-HK8Ts_djId1kf1-0Ut6SKCrLlXCQ0CiBBCJ5b6SIVXvRAb7wAvHhelbeA2oL98AKE4H5uR5ayP3OipquGwFNhIN6g=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dgsXj5ZD0YgEzsv6DA3YvsBMak86F_h23dEnDnd-hEJWuY9KV5s7eAcUb0D2b2I7kRHYahe25l2w9QsB2JB6ZA9YrZeUcR4lhTRpzdOVhnomMCtmDEW8NT6NrJvn1r-psDcyq0o-8UcLkST4t54ueztg=w1400-h841-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f8F7UIcwsl1kqV9s8A-iZ62JiTHlM4hYJCsrvNeyVmTS_UlzKN97od8Ii-JRNAfYH5aH7xP5TopMTZdN-5YiNeWoI5q3_ptgXzreCB1EqaOlNi22_meBIrlSkRhCDb5zLE2IH2yeZlB6trQKVSyv8zYA=w1559-h744-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dLHgEznBsXr7t-82j2rYygjpH1OHPP0bZCGAqyJ5WQFhUTvuc0_niupQiQAqC_vQustP5808xVodm9edAGaMUkzw_VQXiCF54XsSSSPmb3_3z38vlhj1AAKAh3LQfQXcy4xw9CUOMFHm3TWUURcUfWfQ=w554-h172-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eITBPO8i_Eaq2_BvUbQNGY-rY5vbz9kVaNMCkotQXVIUkzjkjh6t0y1UI_gH04U9JrBvLNX8fSKCmBYx_5nMG9RV6mGCWg50y4g8XZoqqF4HyruWRhd9Mowml7yKFOmZl3d_PP49EmQtgbzJt2h-Qzvw=w2940-h374-no?authuser=2">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dnV6FOj-6J3wQ-FDwa2S46j11ngndzbvAaG03B6HA7oQrTP1xyyDigAyt4L-qgZWdgSAiG9JPg3DSEETU8rqnl7q5dTdUysgbXBYqh2ZMJHvKie7t4eFJWbbST28-cRH7DzQpkmhskx7zx2wI4tS8w7Q=w1350-h150-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f9w98Lp6bWxrsSeOPErWilxclYurqga7yfCDB3gdoR_J4CG_nYoUasEeGzfUdkH3JuFIvNQkfIz7pF6s-wXCh5KiucijT9sI9CjWe2aF4UpHQ5dwQiMsNvnD2V5f1cS4wMxoZV74RgnfGRlRdFTE2QfQ=w1098-h166-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eU2uwBaix5YszaenNWm8fXL3IJ0ayqe9qp8apx8-Nq-vJgUYvpbajziTM2EFmPxruDe5_oUEeWgdnxnHAaqResY3qLFF0RpN8IA_n3r-TCjneLaCexff3MWUz8_4u4Q7Hr46ZlNd_jXvvcWrX7XP71_A=w722-h282-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dKyHGO5w46f2XGJMjIE2hm8CLTOHEtA6ummhPc2JtSWVfW1zPZp0kfdg4psDTciLU5Jh8lgEUjJqd-RGGE3CjwdkHE_xqH4Yh215D-TEW2cvmkr3BsW3iL1c0zMODa_L4U2BY6U4uT1jSR71wWO5CTEA=w976-h156-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cRNgaEJnYozPr1Fu1JgGhNK1m9xvtJa_FMBBI1f_4VxpztvbMOG51HJseURsQ594Lm3nCVpCizBHk43n3zdaS0hyNqgUla1qMncCrOlegqsA6PUZDcfCZ4xdmNXZfNDm0PzrmznB-F2Pv_JHCykDF8gg=w1194-h210-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3d4VGASGTQBeW0k4Vl5RMAB4soLpPjR0DmM8GvLBhA6nTnohK7dkDxDEwBZ35QbYmV0vgqt3kE7yaJXG4NrB0oICf12ZkudAVgi1s_fvLG_OqofnS8cv8WULW7JfjEF81cDhwfgqUFLB748n2PzmDIDig=w408-h142-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f4lntKBqX4j2wgHYDVmtHRmM3rsj5T69tGNW1_T_NK13JKp5-GZAseiMbDlkmWtIEELMCrr58GMREp2RM1s1gZ7_LyDep5lqzlom536LkFYaoy5cnaGliBOj4rBAi2OLQj2LjLgVOKhUJZ-YNfLrzwFQ=w852-h142-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dtMv8Io-btkq2UQwoqVM0uo_vYJC6QCr29XDqc4lQ8ayt1h2d4vT_XURAirpy34KHND13o5DmB6Lp-gCMrIfG6di0ygI6u7vjT995tPwFABlkSkb10yj2QVCCAYuEdfhDwFclx5BdMhSU3MT9-aaQVow=w1200-h202-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3frOI8ATEShz_N1HZyXw8r-SeRN7VbBylhxdQ9zkCd8IYaTedU6_o7JH5TyRvIaUuS5-NPis4LpS9E1jzVQLAsih-DAfAxIdXdOKlmWB3QGWoLsvrGrCQCwbsF6-niBP2wA8TPeKgCXmVGM_M2ICx2meg=w1356-h218-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3frOI8ATEShz_N1HZyXw8r-SeRN7VbBylhxdQ9zkCd8IYaTedU6_o7JH5TyRvIaUuS5-NPis4LpS9E1jzVQLAsih-DAfAxIdXdOKlmWB3QGWoLsvrGrCQCwbsF6-niBP2wA8TPeKgCXmVGM_M2ICx2meg=w1356-h218-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eoskj7AUogq4jmWfLb7-dI5iGJUWz8UV6L5eDFXrafIGL9w5ZaVIHs9-XN3KiLWMuTQ_HKFvIpc6Za5G5YYlSJaQNwxp_gzNWrG9uYEwiEXvI8jKywSlEVtFVn3uzSRQq8Hw7fRgDQ-amYaa1-nW7mGA=w1352-h212-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3c3GhlwuBEL-0uPRC9FJ-ImkNJxSXb1HDkRz571CZkFs3ZfoH2f2TV3_t4QVeTvWIVyKMo6VniY6dzp-VfpvOiFWCzOEeCB0n1JysgCnDgVMGRWX7Da6IQY9jbsKy0i_9yDxGgQi6jKjkAgGkN62ZIXTQ=w1074-h260-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dlhJ2763E6CXuF5pp3k00zJTFc_7OJgHVvjth0NQCHyrPvo5pmY37E_9M14U5iyuZdAKV_ehH9IY1lGBpj5cKq0wM17AiyKUUbjFeGy4IyK_Oi335QExW8xShQH8eTfpI3uJRnuH2g2Q3u4_0zBWMnHA=w1072-h204-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3feB2ngYRfVdXNaL3c94cuoPCGBleI_fkgIZxm-CgRI6ALNMgPcRshpeLH_ZGDJtO1NZG8axLMUO7h4W-2m6IXVBgsAn7imnLlN1w9EMLOe83frCffIpBtJN5IDcfqwdqrsmjvxk8zpebhTSIExlYgKaA=w1254-h152-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eLNtMOG3MF8YjmvFeuyU0E_1DFukmbz5JOT_ZUOH6GXoUnsjao1HKaWmlr7tjvXHeCo1G2DnO8iOBgqa1SvPgKgYbL2hsdrMTyhERwgLWbHrO2ShsIbjIbhY5asOEUyPYYh_CO62Me0zz4SRLOB822Jg=w618-h152-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3f2Q6KEQsP2PqS2DY-m8VwUYZAvw2gifnl2WZQgR-4ftknaxYFuLYMskW8AHy2Rejfk8iYdsP1ubbgILMXyl9_Q440wcP9YiqzNjsRQ7w_jop4QttbJsFZdZgSZg4HA1_zxLT8L54XkbgAjPqYFdxOMgw=w732-h102-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dF4ZjW2F4Us_lz5QG_fhn3FgK_vDcwYXzsH84ISaw24SAKvuMXX1Om0FLDBv0CjOPDctRE4vhWsq_TESBvtvOhw5xX37XjGLJ8aJfMfcOhTnMap2rS4zEenBIVFUJZRPVxIXx2uuwcpL7up-iua1iGCA=w1658-h102-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fPAS4KqqtzGeAU12yKAWD2BP9Zen-xVonh7-Gh6E5EE8jc8HenpqFzj3OUG58SVoA7N2tqY4__6RJoTRi4j05QyWYjoJ8NRj7yt5AThkItAJjPcGd6uGvFIWrnHmlc4Pk4JibmiSHF_A3_PpBedzAzjA=w1044-h280-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dZmUV2lxpqaVP8bgD6SCJAjA-vaPSY0RQaYfWCYqo0NlODpYV_1xfvpo_BKcVeVquShiT50JFTyzzjUTd56MBxHDgizOwff27--7doto15R4hZVqJRdqCg5iq5o9p9BGA9EoLtZTUzRWb0QdOO-3Whig=w710-h160-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dBcljw4liFBsgiYPQ9qeStIrWDoE22Xba3Zyd4446hYqcdDfCmTWijLiSWx-5bMkxdlZQ5M8H8nToPlxfjf79xR710ax3LazSzRJOEv_0xxvh5ApzpT-IY2R5peojEnIX1fVOpC2FQRCvsrUnUOk-W_Q=w710-h160-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3fv-rQ7tzspcmyeZ2XQUaRcRD9rrd0RyH-gxr7NOXB-jOBoIUKZRf8Zm9ww6m1veO0MO7Z5F4H4U6Ho4MOpnsiZlm-_kamXXv-Dk3MU8EYSz297cq8MZH56BqOIy_0xaVwBqssH7tsSmAHIcHg8iPr77w=w774-h224-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eTTAw26GSGEeuRePK-a-nHoYnqV-CnjY-sYCnF6QrevQ_Sbnm5J99Mn2tTK_Kkn23uaLSuc9v1K_o7gDKfNOkLxhmX5ilCqlF9zLluV-KtnjEN6q05faeaiVmLTA4MbmEXYPdfteBZezRladlBEhqcmg=w214-h164-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3evheWl4A6EdFxznfZBHZ2EZrpoCIfbblBndOR4rE69PPacvJNTtvPak2V5f9fqwFWhVdsFnjNKSu49PlvOakOKJMWqvdCBe2JfDetwMba9_gO1z_3zj20FuZwoHJT7ux4V_IS1cdPwFyqekyiGNykNaw=w364-h248-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3e2PdSbQRQ1cIqySO17As5bRqmoyyPF4pWMGWCPPB7YOs3tLsB7t7aV-MQZ3a1pCmJVsJ6h-losYKEbbedwOLjzhu1CIer8tE9pHU5phwm1dlldS3Xj6K-6ZzaCa8gX5wOKkvqtKmFHNrrrX9GZwZXjuw=w264-h248-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3dAIYjJ92lwi-2YKq_9IVVY-779K6GbYuQfgdjCGlSJAgWeaBVWJrzwMtQL2wk6G_o8vLbJuuyIT3BcHq0OTvlw08sMFaZMMytL10EbfhiiIwQyDRglE6XGJMXJlfYVjufFRRSWLIlmTI8pnIniMb71Ww=w3414-h2002-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eO_NrScVvF5M6te4kEX7VTplPkSEI-_0gkyRvJgKbeeANIH1XkUiS6nXi7ELtyGh0EDk4S6z0CR3WtHfsdEuGh4OQYaISqeEioE2dY6p0d0ENZAgD10YOsvnXs8desk4fYwGgPX7vv9Pa8Rq_P04qshw=w920-h472-no?authuser=0">
<meta property="og:image" content="https://lh3.googleusercontent.com/pw/ACtC-3cyStcyEOpQ3RC-ZwRm0sdp2S0QJmpG6vdYXhw1tIk3TqLLIGYxiS6zcaFguwpOxOfCbxNI5CP6JT10C90alEBwRuDEF5Fo8qTm54RRQ2k4jEZBVwqn_pM4NmB5aYf7YVCJx1B75F_EzGPAEv7pzsMMLw=w3158-h214-no?authuser=2">
<meta property="og:updated_time" content="2021-03-16T14:04:44.439Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL 學習筆記">
<meta name="twitter:description" content="# 前言如果可以過目不忘, 那可能就不用寫 Blog 了…">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0">





    <link rel="icon" href="/images/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/sunburst.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
        
    
        
    
        
    
        
    
        
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-135063928-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-135063928-1');
</script>


    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/zh-tw">
                
                    
                    不學會死
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/zh-tw/archives">歸檔</a>
            
            <a class="navbar-item " href="/zh-tw/categories">分類</a>
            
            <a class="navbar-item " href="/zh-tw/tags">標籤</a>
            
            <a class="navbar-item " href="/zh-tw/schedule">行程</a>
            
            <a class="navbar-item " href="/zh-tw/about">關於</a>
            
            <a class="navbar-item " href="/zh-tw/japanese">日語</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="搜尋" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="目錄">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#前言">1&nbsp;&nbsp;<b># 前言</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#未開始先談移除">2&nbsp;&nbsp;<b># 未開始先談移除</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#使用者帳號及權限">3&nbsp;&nbsp;<b># 使用者帳號及權限</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#資料備份">4&nbsp;&nbsp;<b># 資料備份</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#資料還原">5&nbsp;&nbsp;<b># 資料還原</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#dump-file-還原">5.1&nbsp;&nbsp;# dump file 還原</a>
                    
                    
                    
                    <a class="navbar-item" href="#從-Binary-Log-還原">5.2&nbsp;&nbsp;# 從 Binary Log 還原</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#中文亂碼問題">6&nbsp;&nbsp;<b># 中文亂碼問題</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#先確認-locale-狀態：">6.1&nbsp;&nbsp;# 先確認 locale 狀態：</a>
                    
                    
                    
                    <a class="navbar-item" href="#locale-修改">6.2&nbsp;&nbsp;# locale 修改</a>
                    
                    
                    
                    <a class="navbar-item" href="#確認-mysql-設定檔位置並修改">6.2.1&nbsp;&nbsp;# 確認 mysql 設定檔位置並修改</a>
                    
                    
                    
                    <a class="navbar-item" href="#修改-database-locale">6.2.2&nbsp;&nbsp;# 修改 database locale</a>
                    
                    
                    
                    <a class="navbar-item" href="#修改-table-locale">6.2.3&nbsp;&nbsp;# 修改 table locale</a>
                    
                    
                    
                    <a class="navbar-item" href="#完成修改後-重啟-mysql">6.2.4&nbsp;&nbsp;# 完成修改後, 重啟 mysql</a>
                    
                    
                    
                    <a class="navbar-item" href="#別忘了-PHP-locale">6.2.5&nbsp;&nbsp;# 別忘了 PHP locale</a>
                    
                    
                    
                    <a class="navbar-item" href="#還是亂碼？">6.3&nbsp;&nbsp;# 還是亂碼？</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#匯入大量資料">7&nbsp;&nbsp;<b># 匯入大量資料</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#修改-my-cnf-或-my-ini-檔-永久性的放寬">7.1&nbsp;&nbsp;# 修改 my.cnf 或 my.ini 檔 (永久性的放寬)</a>
                    
                    
                    
                    <a class="navbar-item" href="#暫時性的放寬">7.2&nbsp;&nbsp;# 暫時性的放寬</a>
                    
                    
                    
                    <a class="navbar-item" href="#匯入">7.3&nbsp;&nbsp;# 匯入</a>
                    
                    
                    
                    <a class="navbar-item" href="#從-sql-檔匯入">7.3.1&nbsp;&nbsp;# 從 sql 檔匯入</a>
                    
                    
                    
                    <a class="navbar-item" href="#從-csv-匯入">7.3.2&nbsp;&nbsp;# 從 csv 匯入</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#大量匯出">8&nbsp;&nbsp;<b># 大量匯出</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#查單一資料庫-size">9&nbsp;&nbsp;<b># 查單一資料庫 size</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#where-子句操作符">10&nbsp;&nbsp;<b># where 子句操作符</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#EXTRACT-支援的時間格式">11&nbsp;&nbsp;<b># EXTRACT 支援的時間格式</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#DATE-FORMAT-TIME-FORMAT-時間格式碼">12&nbsp;&nbsp;<b># DATE_FORMAT, TIME_FORMAT 時間格式碼</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Index">13&nbsp;&nbsp;<b># Index</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#加入-Foreign-Key">13.1&nbsp;&nbsp;# 加入 Foreign Key</a>
                    
                    
                    
                    <a class="navbar-item" href="#移除-Foreign-Key">13.2&nbsp;&nbsp;# 移除 Foreign Key</a>
                    
                    
                    
                    <a class="navbar-item" href="#取得-constraint">13.2.1&nbsp;&nbsp;# 取得 constraint</a>
                    
                    
                    
                    <a class="navbar-item" href="#移除-constraint">13.2.2&nbsp;&nbsp;# 移除 constraint</a>
                    
                    
                    
                    <a class="navbar-item" href="#移除-index">13.2.3&nbsp;&nbsp;# 移除 index</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#取得-metadata">14&nbsp;&nbsp;<b># 取得 metadata</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Questions-and-Answers">15&nbsp;&nbsp;<b># Questions and Answers</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#參考書目">16&nbsp;&nbsp;<b># 參考書目</b></a>
                    
                </div>
            </div>
            

            
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu7">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>繁體中文</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu" style="top:100%">
            <div class="dropdown-content">
            
                <a href="/mysql/" class="dropdown-item">
                    English
                </a>
            
                <a href="/zh-tw/mysql/" class="dropdown-item">
                    繁體中文
                </a>
            
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            MySQL 學習筆記
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-08-01T12:32:19.000Z" itemprop="datePublished">8月 1 2019</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/zh-tw/categories/資料庫/">資料庫</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 小时 讀完 (大概 22503 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2 id="前言"><a href="#前言" class="headerlink" title="# 前言"></a># 前言</h2><p>如果可以過目不忘, 那可能就不用寫 Blog 了…</p>
<a id="more"></a>

<br>

<h2 id="未開始先談移除"><a href="#未開始先談移除" class="headerlink" title="# 未開始先談移除"></a># 未開始先談移除</h2><ol>
<li><p>打開 terminal</p>
</li>
<li><p>使用 mysqldump 備份你的資料庫</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">mysqldump -u你的使用者名 -p --all-databases &gt; /tmp/backup.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>尋找是否還有 MySQL process, 若有的話, 使用 <code>kill -9 processId</code> 砍掉</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">ps -ax | grep mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>若使用 brew, 使用 brew 刪除</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">brew remove mysql</span><br><span class="line">brew cleanup</span><br></pre></td></tr></table></figure>
</li>
<li><p>移除以下檔案</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">sudo rm /usr/<span class="hljs-built_in">local</span>/mysql</span><br><span class="line">sudo rm -rf /usr/<span class="hljs-built_in">local</span>/var/mysql</span><br><span class="line">sudo rm -rf /usr/<span class="hljs-built_in">local</span>/mysql*</span><br><span class="line">sudo rm ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</span><br><span class="line">sudo rm -rf /Library/StartupItems/MySQLCOM</span><br><span class="line">sudo rm -rf /Library/PreferencePanes/My*</span><br></pre></td></tr></table></figure>
</li>
<li><p>卸載之前的 MySQL 自動登入</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">launchctl unload -w ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist</span><br></pre></td></tr></table></figure>
</li>
<li><p>移除之前的 MySQL 設定</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">vim /etc/hostconfig</span><br><span class="line"><span class="hljs-comment"># Remove the line MYSQLCOM=-YES-</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>移除以下檔案</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">rm -rf ~/Library/PreferencePanes/My*</span><br><span class="line">sudo rm -rf /Library/Receipts/mysql*</span><br><span class="line">sudo rm -rf /Library/Receipts/MySQL*</span><br><span class="line">sudo rm -rf /private/var/db/receipts/*mysql*</span><br></pre></td></tr></table></figure>
</li>
<li><p>重啟電腦, 確保沒有任何程序在跑</p>
</li>
<li><p>執行 mysql, 應該不能執行</p>
</li>
</ol>
<br>

<h2 id="使用者帳號及權限"><a href="#使用者帳號及權限" class="headerlink" title="# 使用者帳號及權限"></a># 使用者帳號及權限</h2><h6 id="建立使用者"><a href="#建立使用者" class="headerlink" title="建立使用者"></a><strong>建立使用者</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE USER &apos;userName&apos;@&apos;userHost&apos;</span><br><span class="line">IDENTIFIED BY &apos;userPassword&apos;;</span><br></pre></td></tr></table></figure>

<h6 id="更改使用者名稱"><a href="#更改使用者名稱" class="headerlink" title="更改使用者名稱"></a><strong>更改使用者名稱</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">RENAME USER &apos;userName&apos;@&apos;hostName&apos; TO &apos;newUserName&apos;@&apos;newHostName&apos;</span><br></pre></td></tr></table></figure>

<h6 id="更改使用者密碼"><a href="#更改使用者密碼" class="headerlink" title="更改使用者密碼"></a><strong>更改使用者密碼</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SET PASSWORD FOR &apos;userName&apos;@&apos;hostName&apos; = &apos;newPassword&apos;</span><br></pre></td></tr></table></figure>

<h6 id="顯示特定使用者權限"><a href="#顯示特定使用者權限" class="headerlink" title="顯示特定使用者權限"></a><strong>顯示特定使用者權限</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW GRANTS FOR &apos;userName&apos;</span><br></pre></td></tr></table></figure>

<h6 id="賦予已建立的使用者權限"><a href="#賦予已建立的使用者權限" class="headerlink" title="賦予已建立的使用者權限"></a><strong>賦予已建立的使用者權限</strong></h6><ul>
<li><p><strong>SQL 敘述</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">GRANT ALL ON &apos;databaseName&apos;.&apos;tableName&apos; TO &apos;userName&apos;@&apos;hostName&apos;</span><br><span class="line">GRANT SELECT (columnName1, columnName2, ...) ON &apos;databaseName&apos;.&apos;tableName&apos; TO &apos;userName&apos;@&apos;hostName&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>備註</strong>:<br>需注意, 在 MySQL 8, username 加上 hostName 視為一個完整的 GRANT 對象, 如果 hostName 不同, 即使 userName 相同, 對 GRANT 來說也是不同對象</p>
</li>
</ul>
<h6 id="顯示所有-user-以及-host"><a href="#顯示所有-user-以及-host" class="headerlink" title="顯示所有 user 以及 host"></a><strong>顯示所有 user 以及 host</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT User, Host</span><br><span class="line">FROM mysql.user</span><br><span class="line">WHERE User LIKE &apos;userName&apos;;</span><br></pre></td></tr></table></figure>

<h6 id="刪除使用者"><a href="#刪除使用者" class="headerlink" title="刪除使用者"></a><strong>刪除使用者</strong></h6><ul>
<li><p><strong>SQL 敘述</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">DROP USER &apos;userName&apos;@&apos;hostName&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>備註</strong>:<br>需注意, userName 加上 hostName 視為一個完整 user 對象, 若有多個 host, 需下多次指令刪除</p>
<h6 id="賦予權限"><a href="#賦予權限" class="headerlink" title="賦予權限"></a><strong>賦予權限</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">GRANT SELECT, INSERT, UPDATE, DELETE ON databaseName.tableName</span><br><span class="line">TO &apos;userName&apos;@&apos;hostName&apos;;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="權限表"><a href="#權限表" class="headerlink" title="權限表"></a><strong>權限表</strong></h6><table>
<thead>
<tr>
<th>權限</th>
<th align="left">說明</th>
</tr>
</thead>
<tbody><tr>
<td>ALL [PRIVILEGES]</td>
<td align="left">一次賦予所有基本權限。不需附加 GRANT 的各種選項。</td>
</tr>
<tr>
<td>ALTER (變換)</td>
<td align="left">允許使用 ALTER TABLE 敘述, 但授權時亦須同時賦予 CREATE 和 INSERT 等權限。 如需替資料表更名時, 還要搭配 DROP 權限。 此權限有一定的風險: 某人可能透過更名資料表來倒取使用權</td>
</tr>
<tr>
<td>ALTER ROUTINE</td>
<td align="left">允許使用者帳號變換或棄置 (DROP) 預儲常式 (STORED ROUTINES)。 這其中包括了 ALTER FUNCTION 和 ALTER PROCEDURES 兩道敘述。</td>
</tr>
<tr>
<td>CREATE</td>
<td align="left">允許執行 CREATE TABLE 敘述。 注意還需要有 INDEX 權限才能定義索引。</td>
</tr>
<tr>
<td>CREATE TEMPORARY TABLES</td>
<td align="left">允許使用 CREATE TEMPORARY TABLES 敘述</td>
</tr>
<tr>
<td>CREATE USER</td>
<td align="left">允許使用者帳號執行數種與管理使用帳號相關之敘述： 如 CREATE USER 、 RENAME USER 、 REVOKE ALL PRIVILEGES 、 以及 DROP USER 等敘述。</td>
</tr>
<tr>
<td>CREATE VIEW</td>
<td align="left">允許執行 CREATE VIEW 敘述</td>
</tr>
<tr>
<td>DELETE</td>
<td align="left">允許執行 DELETE 敘述</td>
</tr>
<tr>
<td>DROP</td>
<td align="left">允許使用者執行 DROP TABLE 和 TRUNCATE 兩道敘述</td>
</tr>
<tr>
<td>EVENT</td>
<td align="left">允許使用者帳號為事件排程工具定義事件。 包括 CREATE EVENT, ALTER EVENT 和 DROP EVENT 等敘述</td>
</tr>
<tr>
<td>EXECUTE</td>
<td align="left">允許以 EXECUTE 敘述執行預報程序 (STORED PROCEDURES)</td>
</tr>
<tr>
<td>FILE</td>
<td align="left">允許使用 SELECT … INTO FILE 和 LOAD DATA INFILE 等敘述以便將資料會出成檔案, 或是從檔案匯入。 此權限也暗藏安全風險。 應該限定僅可在 SECURE_FILE_PRIV 變數中指定的特定目錄下執行</td>
</tr>
<tr>
<td>INDEX</td>
<td align="left">授權使用 CREATE INDEX 和 DROP INDEX 等敘述</td>
</tr>
<tr>
<td>INSERT</td>
<td align="left">允許執行 INSERT 敘述。 要先擁有此一權限才能執行 ANALYZE TABLE, OPTIMIZE TABLE 和 REPAIR TABLE 等敘述</td>
</tr>
<tr>
<td>LOCK TABLES</td>
<td align="left">允許使用者對已有 SELECT 權限的資料表執行 LOCK TABLES 權限</td>
</tr>
<tr>
<td>PROCESS</td>
<td align="left">允許使用 SHOW PROCESSLIST 和 SHOW ENGINE 等敘述</td>
</tr>
<tr>
<td>RELOAD</td>
<td align="left">允許下達 FLUSH 敘述</td>
</tr>
<tr>
<td>REPLICATION CLIENT</td>
<td align="left">允許使用者查詢主副伺服器 (MASTER AND SLAVE) 的狀態資訊, 如 SHOW MASTER STATUS 和 SHOW SLAVE STATUS 以及 SHOW BINARY LOGS 等敘述</td>
</tr>
<tr>
<td>REPLICATION SLAVE</td>
<td align="left">這是複寫副伺服器 (REPLICATION SLAVE SERVER) 所必需的權限, 目的是要從主伺服器讀取二進位事件紀錄 (BINARY LOG EVENTS)</td>
</tr>
<tr>
<td>SELECT</td>
<td align="left">允許執行 SELECT 敘述</td>
</tr>
<tr>
<td>SHOW DATABASES</td>
<td align="left">允許對所有資料庫使用 SHOW DATABASES 敘述, 而且不限於使用者有權使用的資料庫</td>
</tr>
<tr>
<td>SHOW VIEW</td>
<td align="left">允許使用 SHOW CREATE VIEW 敘述</td>
</tr>
<tr>
<td>SHUTDOWN</td>
<td align="left">允許 MYSQLADMIN 工具程式搭配 SHUTDOWN 選項執行</td>
</tr>
<tr>
<td>SUPER</td>
<td align="left">授權執行 CHANGE MASTER TO, KILL, PURGE BINARY LOGS 及 SET GLOBAL 等敘述, 並且允許 MYSQLADMIN 工具程式搭配 DEBUG 選項執行</td>
</tr>
<tr>
<td>TRIGGER</td>
<td align="left">此權限授權使用者帳號得以建立或棄置觸發器 (TRIGGERS), 亦即可以使用 CREATE TRIGGER 和 DROP TRIGGER 等敘述</td>
</tr>
<tr>
<td>UPDATE</td>
<td align="left">允許執行 UPDATE 敘述</td>
</tr>
<tr>
<td>USAGE</td>
<td align="left">新建使用者時引用此關鍵字, 可達到完全不賦予權限, 或是在修訂現有使用者資料時不會動到既有權限的效果</td>
</tr>
</tbody></table>
<h6 id="建立賦予權限的帳號"><a href="#建立賦予權限的帳號" class="headerlink" title="建立賦予權限的帳號"></a><strong>建立賦予權限的帳號</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">GRANT specifiedPrivileges ON databaseName.tableName</span><br><span class="line">TO &apos;userName&apos;@&apos;hostName&apos;</span><br><span class="line">IDENTIFIED BY &apos;userPassword&apos;</span><br><span class="line">WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>

<h6 id="收回已賦予的權限"><a href="#收回已賦予的權限" class="headerlink" title="收回已賦予的權限"></a><strong>收回已賦予的權限</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">REVOKE specifiedPrivileges</span><br><span class="line">ON databaseName.tableName</span><br><span class="line">FROM &apos;userName&apos;@&apos;hostName&apos;</span><br></pre></td></tr></table></figure>

<h6 id="建立-Role"><a href="#建立-Role" class="headerlink" title="建立 Role"></a><strong>建立 Role</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE ROLE &apos;roleName&apos;;</span><br></pre></td></tr></table></figure>

<p>然後可以賦予 role 權限</p>
<h6 id="賦予使用者-Role-權限"><a href="#賦予使用者-Role-權限" class="headerlink" title="賦予使用者 Role 權限"></a><strong>賦予使用者 Role 權限</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">GRANT &apos;roleName&apos; TO &apos;userName&apos;@&apos;hostName&apos;;</span><br></pre></td></tr></table></figure>

<h6 id="切換-Role"><a href="#切換-Role" class="headerlink" title="切換 Role"></a><strong>切換 Role</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">## 切換</span><br><span class="line">SET ROLE &apos;roleName&apos;;</span><br><span class="line"></span><br><span class="line">## 執行該 role 才擁有的權限</span><br><span class="line">LOAD DATA INFILE</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">## 執行完畢後, 登出 Role</span><br><span class="line">SET ROLE NONE;</span><br></pre></td></tr></table></figure>

<br>

<h2 id="資料備份"><a href="#資料備份" class="headerlink" title="# 資料備份"></a># 資料備份</h2><h6 id="備份所有資料庫"><a href="#備份所有資料庫" class="headerlink" title="備份所有資料庫"></a><strong>備份所有資料庫</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqldump --user=specifiedUserAndHostName \</span><br><span class="line">          --password --lock-all-tables </span><br><span class="line">          --all-databases &gt; /preferredLocationAndFileName.sql</span><br></pre></td></tr></table></figure>

<h6 id="備份指定資料庫"><a href="#備份指定資料庫" class="headerlink" title="備份指定資料庫"></a><strong>備份指定資料庫</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqldump --user=specifiedUserAndHostName --password --lock-tables \</span><br><span class="line">--verbose --databases specifiedDatabaseName1 specifiedDatabaseName2 specifiedDatabaseNameN &gt; specifiedBackupFileName.sql</span><br></pre></td></tr></table></figure>

<h6 id="備份參數參考"><a href="#備份參數參考" class="headerlink" title="備份參數參考"></a><strong>備份參數參考</strong></h6><p>使用以下選項, 可以縮小 dump 檔<br><strong>–skip-add-drop-table</strong>: 忽略 <code>會清除舊資料表的 DROP TABLE 敘述</code><br><strong>–skip-add-locks</strong>: 開始備份時不先鎖定資料表<br><strong>–skip-comments</strong>: 檔案裡不加註解<br><strong>–skip-disable-keys</strong>: 略過 <code>會處理資料表索引的指令</code><br><strong>–skip-set-charset</strong>: 略過 <code>指定使用字元集的 SET NAMES 敘述</code><br><strong>–compact</strong>: 使用上述所有選項</p>
<p><strong>–user</strong>: 要求 mysqlsump 使用 <code>admin_backup</code> 這個帳號與 MySQL Server 互動<br><strong>–password</strong>: 指定使用帳號的密碼<br><strong>–lock-all-tables</strong>: 在開始備份前, 把所有資料庫中的所有資料表鎖定<br><strong>–lock-tables</strong>: 在開始備份前, 先把該資料庫中所有資料表鎖定<br><strong>–all-databases</strong>: 指定匯出所有資料庫<br><strong>–extended-insert</strong>: 會把每個資料表所需的多筆 INSERT 敘述濃縮成一句, 可縮小備份檔以及增進回原效率<br><strong>–skip-extended-insert</strong>: 若 server 預設有 <code>--extended-insert</code> 效果, 但想看到一筆筆的 INSERT 敘述, 可以使用此選項<br><strong>–ignore-table</strong>: 略過指定 table, 通常會略過 mysql.user table, 該 table 會用特殊帳號備份<br><strong>–no-create-info</strong>: 不包含 create 敘述<br><strong>–no-data</strong>: 只備份架構, 不備份資料<br><strong>–verbose</strong>: 在備份過程中, 把重大步驟產生的訊息顯示出來<br><strong>–replace</strong>: 使用 replace 代替 insert</p>
<br>

<h2 id="資料還原"><a href="#資料還原" class="headerlink" title="# 資料還原"></a># 資料還原</h2><h3 id="dump-file-還原"><a href="#dump-file-還原" class="headerlink" title="# dump file 還原"></a># dump file 還原</h3><h6 id="從-dump-file-還原"><a href="#從-dump-file-還原" class="headerlink" title="從 dump file 還原"></a><strong>從 dump file 還原</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql --user=performingOperationUser --password  &lt; dumpFileName.sql</span><br></pre></td></tr></table></figure>

<h6 id="復原部分資料"><a href="#復原部分資料" class="headerlink" title="復原部分資料"></a><strong>復原部分資料</strong></h6><ol>
<li>修改 dump file, 只留下開頭, 結尾變數, 以及需要的 table 段落</li>
<li>修改 dump file 中的 <code>create database, use database</code>, 改成一個臨時的 database name, 匯出後在從該臨時 database 中取出資料, 完成後再刪掉該 temporary database</li>
<li>或是賦予一個臨時使用者該 table 的權限, 讓這個使用者去執行 restore</li>
</ol>
<h3 id="從-Binary-Log-還原"><a href="#從-Binary-Log-還原" class="headerlink" title="# 從 Binary Log 還原"></a># 從 Binary Log 還原</h3><p>如果很不幸的, 你想要還原備份後才新增的資料</p>
<h6 id="確認-Binary-Log-是否有啟用"><a href="#確認-Binary-Log-是否有啟用" class="headerlink" title="確認 Binary Log 是否有啟用"></a><strong>確認 Binary Log 是否有啟用</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW BINARY LOGS</span><br><span class="line"></span><br><span class="line"># 如果未啟用, 錯誤如下：</span><br><span class="line"># ERROR 1381 (HY000): You are not using binary logging</span><br></pre></td></tr></table></figure>

<h6 id="啟用-binary-log"><a href="#啟用-binary-log" class="headerlink" title="啟用 binary log"></a><strong>啟用 binary log</strong></h6><p>在 mysql.ini / mysql.cnf 檔案中:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># log-bin 表示啟動 binary log</span><br><span class="line">log-bin</span><br><span class="line"># 表示不 log mysql 這個 table, 以提高安全性</span><br><span class="line">binlog-ignore-db=mysql</span><br></pre></td></tr></table></figure>

<h6 id="顯示當前-log-點"><a href="#顯示當前-log-點" class="headerlink" title="顯示當前 log 點"></a><strong>顯示當前 log 點</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW MASTER STATUS;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0"></p>
<p><strong>Binlog_Do_DB</strong>: 指定哪些資料庫才要記錄到 binary log<br><strong>Binlog_Ignore_DB</strong>: 指定哪些資料庫不要記錄到 binary log<br><strong>Executed_Gtid_Set</strong>: 已經執行的 transaction 編號</p>
<h6 id="取得-DATA-存在位置"><a href="#取得-DATA-存在位置" class="headerlink" title="取得 DATA 存在位置"></a><strong>取得 DATA 存在位置</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW VARIABLES WHERE Variable_Name LIKE &apos;datadir&apos;;</span><br></pre></td></tr></table></figure>

<p><img src="https://lh3.googleusercontent.com/pw/ACtC-3dLHgEznBsXr7t-82j2rYygjpH1OHPP0bZCGAqyJ5WQFhUTvuc0_niupQiQAqC_vQustP5808xVodm9edAGaMUkzw_VQXiCF54XsSSSPmb3_3z38vlhj1AAKAh3LQfQXcy4xw9CUOMFHm3TWUURcUfWfQ=w554-h172-no?authuser=0"></p>
<h6 id="確定-log-檔案確實在該目錄底下後-輸出文字檔"><a href="#確定-log-檔案確實在該目錄底下後-輸出文字檔" class="headerlink" title="確定 log 檔案確實在該目錄底下後, 輸出文字檔"></a><strong>確定 log 檔案確實在該目錄底下後, 輸出文字檔</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlbinlog --database=databaseName \</span><br><span class="line">            /binaryLogAbsoluteLocation &gt; whateverNameYouLike.txt</span><br></pre></td></tr></table></figure>

<h6 id="找出問題點"><a href="#找出問題點" class="headerlink" title="找出問題點"></a><strong>找出問題點</strong></h6><p>手動找出問題點, 如下 example</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># at 1258707</span><br><span class="line">#140916 13:10:24 server id 1 end_log_pos 1258778 </span><br><span class="line">Query thread_id=382 exec_time=0 error_code=0</span><br><span class="line">SET TIMESTAMP=1410887424/*!*/;</span><br><span class="line">SET @@session.sql_mode=0/*!*/;</span><br><span class="line"></span><br><span class="line">BEGIN</span><br><span class="line">/*!*/;</span><br><span class="line"></span><br><span class="line"># at 1258778</span><br><span class="line">#140916 13:10:24 server id 1 end_log_pos 1258900 </span><br><span class="line">Query thread_id=382 exec_time=0 error_code=0</span><br><span class="line">use `rookery`/*!*/;</span><br><span class="line">SET TIMESTAMP=1410887424/*!*/;</span><br><span class="line"></span><br><span class="line">DELETE FROM birds_simple WHERE common_name LIKE &apos;%Blue%&apos;</span><br><span class="line">/*!*/;</span><br><span class="line"></span><br><span class="line"># at 1258900</span><br><span class="line">#140916 13:10:24 server id 1 end_log_pos 1258927 Xid = 45248</span><br><span class="line"></span><br><span class="line">COMMIT/*!*/;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"># at 1284668</span><br><span class="line">#140916 13:10:28 server id 1 end_log_pos 1284739 </span><br><span class="line">Query thread_id=382 exec_time=0 error_code=0</span><br><span class="line">SET TIMESTAMP=1410887428/*!*/;</span><br><span class="line">SET @@session.sql_mode=0/*!*/;</span><br><span class="line">BEGIN</span><br><span class="line">/*!*/;</span><br><span class="line"></span><br><span class="line"># at 1284739</span><br><span class="line">#140916 13:10:28 server id 1 end_log_pos 1284862 </span><br><span class="line">Query thread_id=382 exec_time=0 error_code=0</span><br><span class="line">SET TIMESTAMP=1410887428/*!*/;</span><br><span class="line">DELETE FROM birds_simple WHERE common_name LIKE &apos;%Green%&apos;</span><br><span class="line">/*!*/;</span><br><span class="line"></span><br><span class="line"># at 1284862</span><br><span class="line">#140916 13:10:28 server id 1 end_log_pos 1284889 Xid = 45553</span><br><span class="line">COMMIT/*!*/;</span><br></pre></td></tr></table></figure>

<h6 id="復原備份到問題點前"><a href="#復原備份到問題點前" class="headerlink" title="復原備份到問題點前"></a><strong>復原備份到問題點前</strong></h6><p>可看到從 position point 1258707 開始了含有 DELETE 的 transaction, 現在我們要將資料復原, 並拿掉這個含有 DELETE 的 transaction<br>先復原到 position 1258707:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlbinlog --database=databaseName--stop-position=&quot;1258707&quot; \</span><br><span class="line">             binaryLogAbsoluteLocation |</span><br><span class="line">             mysql --user=userName --password</span><br></pre></td></tr></table></figure>

<h6 id="從問題點後開始復原到最新的-log-point"><a href="#從問題點後開始復原到最新的-log-point" class="headerlink" title="從問題點後開始復原到最新的 log point"></a><strong>從問題點後開始復原到最新的 log point</strong></h6><p>可看到有問題的 transaction 的結尾落在 1284862, 並且有指出下一個起始點為 1284889, 因此可從 position 1284889 開始往後復原</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlbinlog --database=rookery  --start-position=&quot;1284889&quot; --to-last-log \</span><br><span class="line">            binaryLogAbsoluteLocation |</span><br><span class="line">            mysql --user=userName --password</span><br></pre></td></tr></table></figure>

<p>至此就大功告成啦！</p>
<br>

<h2 id="中文亂碼問題"><a href="#中文亂碼問題" class="headerlink" title="# 中文亂碼問題"></a># 中文亂碼問題</h2><h3 id="先確認-locale-狀態："><a href="#先確認-locale-狀態：" class="headerlink" title="# 先確認 locale 狀態："></a># 先確認 locale 狀態：</h3><ol>
<li><p>確認 charset 狀態, 在 mysql 當中: <figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">show variables like <span class="hljs-string">'char%'</span>;</span><br></pre></td></tr></table></figure></p>
</li>
<li><p>確認 <code>database</code> locale 狀態：</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">SELECT default_character_set_name FROM information_schema.SCHEMATA </span><br><span class="line">WHERE schema_name = <span class="hljs-string">"databaseName"</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>確認 <code>table</code> locale 狀態：</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">SELECT CCSA.character_set_name FROM information_schema.`TABLES` T,</span><br><span class="line">       information_schema.`COLLATION_CHARACTER_SET_APPLICABILITY` CCSA</span><br><span class="line">WHERE CCSA.collation_name = T.table_collation</span><br><span class="line">  AND T.table_schema = <span class="hljs-string">"databaseName"</span></span><br><span class="line">  AND T.table_name = <span class="hljs-string">"tableName"</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>確認 <code>column</code> locale 狀態：</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">show full columns from tableName;</span><br><span class="line">``` </span><br><span class="line">5. 確認 `collation`</span><br><span class="line">```bash</span><br><span class="line">show variables like <span class="hljs-string">'collation%'</span>;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="locale-修改"><a href="#locale-修改" class="headerlink" title="# locale 修改"></a># locale 修改</h3><h4 id="確認-mysql-設定檔位置並修改"><a href="#確認-mysql-設定檔位置並修改" class="headerlink" title="# 確認 mysql 設定檔位置並修改"></a># 確認 <code>mysql</code> 設定檔位置並修改</h4><ul>
<li><p>取得 ‘my.cnf’ 位置, 通常，檔案會在 <code>/etc/mysql/my.cnf</code></p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">mysql --<span class="hljs-built_in">help</span> -verbose | grep <span class="hljs-string">'my.cnf'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>編輯檔案</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">vim /etc/mysql/my.cnf</span><br></pre></td></tr></table></figure>
</li>
<li><p>貼上以下設定</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">collation-server = utf8_unicode_ci</span><br><span class="line">init-connect=<span class="hljs-string">'SET NAMES utf8'</span></span><br><span class="line">character-set-server = utf8mb4</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="修改-database-locale"><a href="#修改-database-locale" class="headerlink" title="# 修改 database locale"></a># 修改 <code>database</code> locale</h4><figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">ALTER DATABASE database_name CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br></pre></td></tr></table></figure>

<h4 id="修改-table-locale"><a href="#修改-table-locale" class="headerlink" title="# 修改 table locale"></a># 修改 <code>table</code> locale</h4><figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE table_name CONVERT TO CHARACTER SET utf8;</span><br></pre></td></tr></table></figure>

<h4 id="完成修改後-重啟-mysql"><a href="#完成修改後-重啟-mysql" class="headerlink" title="# 完成修改後, 重啟 mysql"></a># 完成修改後, 重啟 mysql</h4><figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">service mysql restart</span><br></pre></td></tr></table></figure>

<h4 id="別忘了-PHP-locale"><a href="#別忘了-PHP-locale" class="headerlink" title="# 別忘了 PHP locale"></a># 別忘了 PHP locale</h4><p>如果有用使用 <code>PHP</code> 的話，記得也將 <code>PHP</code> 那邊的 locale 設為 <code>uft8</code>, 可參考<a href="https://tn710617.github.io/zh-tw/importDataFromCSVIntoMySQLDatabaseViaPHP/">文章</a></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqli_set_charset($dbc,&quot;utf8&quot;);</span><br></pre></td></tr></table></figure>

<h3 id="還是亂碼？"><a href="#還是亂碼？" class="headerlink" title="# 還是亂碼？"></a># 還是亂碼？</h3><p>理論上，上面的都做完了，應該就不會有亂碼了，如果問題尚未解決，可以試試下面的方法</p>
<ul>
<li><p>查看資料庫 locale 設定</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">show create database databaseName</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看 table locale 設定</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">show create table tableName</span><br></pre></td></tr></table></figure>
</li>
<li><p>其餘設定</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-built_in">set</span> names uft8;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<br>

<h2 id="匯入大量資料"><a href="#匯入大量資料" class="headerlink" title="# 匯入大量資料"></a># 匯入大量資料</h2><h3 id="修改-my-cnf-或-my-ini-檔-永久性的放寬"><a href="#修改-my-cnf-或-my-ini-檔-永久性的放寬" class="headerlink" title="# 修改 my.cnf 或 my.ini 檔 (永久性的放寬)"></a># 修改 my.cnf 或 my.ini 檔 (永久性的放寬)</h3><figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">max_allowed_packet=100M</span><br></pre></td></tr></table></figure>

<h3 id="暫時性的放寬"><a href="#暫時性的放寬" class="headerlink" title="# 暫時性的放寬"></a># 暫時性的放寬</h3><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">set global net_buffer_length=1000000;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">set global max_allowed_packet=1000000000;</span><br></pre></td></tr></table></figure>

<h3 id="匯入"><a href="#匯入" class="headerlink" title="# 匯入"></a># 匯入</h3><h4 id="從-sql-檔匯入"><a href="#從-sql-檔匯入" class="headerlink" title="# 從 sql 檔匯入"></a># 從 sql 檔匯入</h4><figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">mysql --max_allowed_packet=100M -u root -p database &lt; dump.sql</span><br></pre></td></tr></table></figure>

<p>如果已有設定, <code>--max_allowed_packet</code> 可不加</p>
<h4 id="從-csv-匯入"><a href="#從-csv-匯入" class="headerlink" title="# 從 csv 匯入"></a># 從 csv 匯入</h4><h5 id="一般-csv-格式"><a href="#一般-csv-格式" class="headerlink" title="# 一般 csv 格式"></a># 一般 csv 格式</h5><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">LOAD DATA INFILE &apos;/tmp/Clements-Checklist-6.9-final.csv&apos;</span><br><span class="line">INTO TABLE rookery.clements_list_import</span><br><span class="line">FIELDS TERMINATED BY &apos;,&apos; OPTIONALLY ENCLOSED BY &apos;&quot;&apos;</span><br><span class="line">IGNORE 1 LINES;</span><br><span class="line">(id, change_type, @niente, @niente,</span><br><span class="line">scientific_name, english_name,</span><br><span class="line">@niente, bird_order, @family, @niente,</span><br><span class="line">@niente, @niente, @niente, @niente,</span><br><span class="line">@niente, @niente, @niente, @niente);</span><br><span class="line">SET family = SUBSTRING(@family, 1, LOCATE(&apos; (&apos;, @family) );</span><br></pre></td></tr></table></figure>

<p>從 csv 檔讀取資料並匯入 database.table<br><strong>FIELD TERMINATED BY</strong>: field 跟 field 之間由 <code>,</code> 區隔開來<br><strong>OPTIONALLY</strong>: 有則處理, 沒有則不執行<br><strong>ENCLOSED BY</strong>: 使用 <code>ENCLOSED BY &#39;&quot;&#39;</code>, 當 <code>&quot; (doube quote)</code> 有出現時, 會將兩個 <code>&quot; (double quote)</code> 之間的內容視為一個 column 的內容, 若沒出現則不使用, 為了應付某些 filed 的內容其實是 text, 會用 <code>&quot; (double quote)</code> 包住, 但內容有許多 <code>,(comma)</code><br><strong>IGNORE 1 LINES</strong>: 表示忽略第一行, 因為第一行是 field name, 我們並不會用到<br><strong>@niente</strong>: 因為 csv 檔中某些欄位的資料我們並不需要, 因此在建立 table 時只需要建立我們需要的 column, 在匯入時, 將沒用到的 fieldd 按照 csv 上的順序標示為 <code>@niente</code> (只要是變數就行, 名稱不重要), 這樣就不會將資料匯入啦<br><strong>@family, SET family</strong>: 可以在 LOAD DATA 的過程中, 針對 csv 上特定的 column 做處理, 匯入完成後就已經會是處理好的</p>
<h5 id="較特別的-csv-格式"><a href="#較特別的-csv-格式" class="headerlink" title="# 較特別的 csv 格式"></a># 較特別的 csv 格式</h5><p><strong>格式範例</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">[&quot;prospect name&quot;|&quot;prospect email&quot;|&quot;prospect country&quot;]</span><br><span class="line">[&quot;Mr. Bogdan Kecman&quot;|&quot;bodgan\@kecman-birds.com&quot;|&quot;Serbia&quot;]</span><br><span class="line">[&quot;Ms. Sveta Smirnova&quot;|&quot;bettasveta\@gmail.com&quot;|&quot;Russia&quot;]</span><br><span class="line">[&quot;Mr. Collin Charles&quot;|&quot;callincollin\@gmail.com&quot;|&quot;Malaysia&quot;]</span><br><span class="line">[&quot;Ms. Sveta A. Smirnova&quot;|&quot;bettasveta\@gmail.com&quot;|&quot;Russia&quot;]</span><br></pre></td></tr></table></figure>

<p><strong>sql example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">LOAD DATA INFILE &apos;/tmp/birdwatcher-prospects.csv&apos;</span><br><span class="line">INTO TABLE birdwatchers.birdwatcher_prospects_import</span><br><span class="line">FIELDS TERMINATED BY &apos;|&apos; ENCLOSED BY &apos;&quot;&apos; ESCAPED BY &apos;\\&apos;</span><br><span class="line">LINES STARTING BY &apos;[&apos; TERMINATED BY &apos;]\r\n&apos;</span><br><span class="line">IGNORE 1 LINES</span><br><span class="line">(prospect_name, prospect_email, prospect_country);</span><br></pre></td></tr></table></figure>

<p>以下為 FIELDS 子句意思：<br><strong>TERMINATED BY</strong>: 表示 <code>|</code> 為 field 跟 field 之間的間隔<br><strong>ENCLOSED BY</strong>: 表示每一個 field 的內容都會由 <code>&quot;</code> 包住<br><strong>ESCAPE BY</strong>: 標示跳脫用字元, 不過預設就是 <code>\</code>, 因此這個可省略</p>
<p>LINES 子句：<br><strong>STRINGS BY</strong>: 表示 <code>[</code> 開頭算一行的開始<br><strong>TERMINATED BY</strong>: 表示 <code>]\r\n</code> 為一行的結束, 正常 Linux 只需 <code>\n</code> 即可, 但考量到 Windows 環境, 因此多加了 <code>\r</code></p>
<h5 id="使用-mysqlimport"><a href="#使用-mysqlimport" class="headerlink" title="使用 mysqlimport"></a>使用 mysqlimport</h5><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlimport –user=&apos;marie_dyer&apos; --password=&apos;sevenangels&apos; \</span><br><span class="line">  --replace --low-priority  --ignore-lines=&apos;1&apos; \</span><br><span class="line">  --fields-enclosed-by=&apos;&quot;&apos; --fields-terminated-by=&apos;|&apos; --fields-escaped-by=&apos;\\&apos; \</span><br><span class="line">  --lines-terminated-by=&apos;]\r\n&apos; \</span><br><span class="line">  --columns=&apos;prospect_name, prospect_email, prospect_country&apos; \</span><br><span class="line">    birdwatchers &apos;/tmp/birdwatcher_prospects_import.csv&apos;</span><br></pre></td></tr></table></figure>

<p>基本上語法跟 LOAD DATA 是一樣的, 差別在於檔名若有 <code>-</code> 要改成 <code>_</code>, 以免 MySQL 判定為刪減符號</p>
<p>以下為 FIELDS 子句意思：<br><strong>TERMINATED BY</strong>: 表示 <code>|</code> 為 field 跟 field 之間的間隔<br><strong>ENCLOSED BY</strong>: 表示每一個 field 的內容都會由 <code>&quot;</code> 包住<br><strong>ESCAPE BY</strong>: 標示跳脫用字元, 不過預設就是 <code>\</code>, 因此這個可省略</p>
<p>LINES 子句：<br><strong>STRINGS BY</strong>: 表示 <code>[</code> 開頭算一行的開始<br><strong>TERMINATED BY</strong>: 表示 <code>]\r\n</code> 為一行的結束, 正常 Linux 只需 <code>\n</code> 即可, 但考量到 Windows 環境, 因此多加了 <code>\r</code></p>
<br>

<h2 id="大量匯出"><a href="#大量匯出" class="headerlink" title="# 大量匯出"></a># 大量匯出</h2><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">( SELECT &apos;scientific name&apos;,&apos;common name&apos;,&apos;family name&apos; )</span><br><span class="line">UNION</span><br><span class="line">( SELECT birds.scientific_name,</span><br><span class="line">  IFNULL(common_name, &apos;&apos;),</span><br><span class="line">  bird_families.scientific_name</span><br><span class="line">  FROM rookery.birds</span><br><span class="line">  JOIN rookery.bird_families USING(family_id)</span><br><span class="line">  JOIN rookery.bird_orders USING(order_id)</span><br><span class="line">  WHERE bird_orders.scientific_name = &apos;Charadriiformes&apos;</span><br><span class="line">  ORDER BY common_name</span><br><span class="line">  INTO OUTFILE &apos;/tmp/birds-list.csv&apos;</span><br><span class="line">  FIELDS ENCLOSED BY &apos;&quot;&apos; TERMINATED BY &apos;|&apos; ESCAPED BY &apos;\\&apos;</span><br><span class="line">  LINES TERMINATED BY &apos;\n&apos;);</span><br></pre></td></tr></table></figure>

<p>使用 SELECT INTO OUTFILE 將資料匯出, 子句部分語法跟 LOAD DATA 完全一樣<br>需使用 IFNULL 將 null 轉為空字串, 因為 INTO OUTFILE 預設會將 null 轉為 n</p>
<p>以下為 FIELDS 子句意思：<br><strong>TERMINATED BY</strong>: 表示 <code>|</code> 為 field 跟 field 之間的間隔<br><strong>ENCLOSED BY</strong>: 表示每一個 field 的內容都會由 <code>&quot;</code> 包住<br><strong>ESCAPE BY</strong>: 標示跳脫用字元, 不過預設就是 <code>\</code>, 因此這個可省略</p>
<p>LINES 子句：<br><strong>STRINGS BY</strong>: 表示 <code>[</code> 開頭算一行的開始<br><strong>TERMINATED BY</strong>: 表示 <code>]\r\n</code> 為一行的結束, 正常 Linux 只需 <code>\n</code> 即可, 但考量到 Windows 環境, 因此多加了 <code>\r</code></p>
<p>匯出範例：</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">&quot;scientific name&quot;|&quot;common name&quot;|&quot;family name&quot;</span><br><span class="line">&quot;Charadrius vociferus&quot;|&quot;Killdeer&quot;|&quot;Charadriidae&quot;</span><br><span class="line">&quot;Charadrius montanus&quot;|&quot;Mountain Plover&quot;|&quot;Charadriidae&quot;</span><br><span class="line">&quot;Charadrius alexandrinus&quot;|&quot;Snowy Plover&quot;|&quot;Charadriidae&quot;</span><br><span class="line">&quot;Pluvialis squatarola&quot;|&quot;Black-bellied Plover&quot;|&quot;Charadriidae&quot;</span><br><span class="line">&quot;Pluvialis fulva&quot;|&quot;Pacific Golden Plover&quot;|&quot;Charadriidae&quot;</span><br><span class="line">&quot;Burhinus vermiculatus&quot;|&quot;Water Thick-knee&quot;|&quot;Burhinidae&quot;</span><br><span class="line">&quot;Burhinus oedicnemus&quot;|&quot;Eurasian Thick-knee&quot;|&quot;Burhinidae&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<br>

<h2 id="查單一資料庫-size"><a href="#查單一資料庫-size" class="headerlink" title="# 查單一資料庫 size"></a># 查單一資料庫 size</h2><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT table_schema &quot;databaseName&quot;, ROUND(SUM(data_length + index_length) / 1024 / 1024, 1) &quot;DB Size in MB&quot; FROM information_schema.tables where table_schema=&quot;databaseName&quot; GROUP BY table_schema;</span><br></pre></td></tr></table></figure>

<br>

<h2 id="where-子句操作符"><a href="#where-子句操作符" class="headerlink" title="# where 子句操作符"></a># where 子句操作符</h2><p><img src="https://lh3.googleusercontent.com/HoKpRaqnp69GFRRySf7YLuvwORyD-no4-1LyhADdw6bUxr7R7GwNcxzrV0GWPE2clKg_S0T9iLGOwNaC4aLOIjOngCia2cELgeR7HBsQFwW9bfWfI89fMo1CM4ofiuKUm_tgi23ipVgB2In_fgWSh2eHGbHNsrnqYTB5gBqalITl7aXhRlbJqDVOkyleCnodSlDKuEo3sRHutDsafnvuw4KjE3h2goMYuIXNk1XxVUW9Xv5PxOQs_avtunxYNx7fHAWJ-3grxeQkExQrCIWRFknirZpXmNhJizPGMhUkbOpShQ0u3TLVNTOHrntDuooU1m8FaxmnNBUponu7m6I-E66f5HAU5RPYcg7ns3Wq84wFshLkwb19B8m8M1hSBrlqg8TOOmZUoONKiDDR9FDqCNZ_evjJ33bQOgfFF_R6cqp_Qj-ZusHzxEeDj_s56OYiCueV0HovIGlEIdICwxLsy4xfm57SoDA1ly1qGWMgNPjsDXicfv8D6lE8VzIr_wPGUk7Onuy-iNt13JKiPv47W2Nfl3FjnThCoxIRpVLE48dOhRacw-T6tD0GLfSx_GAsAuSYlsjAYAScUw45Gb7njPrJITZrb9bmrRYEyU-JbwIeTTuaF7z72IfsKd18VFxYr0nq50Wc8tT9CaUVdeJEnCvt1hrUjS4coP-yRj09L7SvBtjEdulYDa7kKst3yGpqcoB3NudVIC3OFOLEWoRgLzHtb8vGUH95LPn1hYriGffFhojUSbGAIwDC=w522-h800-no?authuser=0"></p>
<br>

<h2 id="EXTRACT-支援的時間格式"><a href="#EXTRACT-支援的時間格式" class="headerlink" title="# EXTRACT 支援的時間格式"></a># EXTRACT 支援的時間格式</h2><p><img src="https://lh3.googleusercontent.com/pw/ACtC-3cDOjbLekQ9V7XlmiZx-0WdkLFrixLUmqJexJrjH4sSgHqbah9RL1dlGo43plbONK2-BlrurueJStkN_0gMJDv9XZXPUii8KWAOqDEBXcreMHOGUMZiX09AXwZBs0p0tVBRzdTgfATycLshTKqnzvd4VA=w696-h1704-no?authuser=0"></p>
<br>

<h2 id="DATE-FORMAT-TIME-FORMAT-時間格式碼"><a href="#DATE-FORMAT-TIME-FORMAT-時間格式碼" class="headerlink" title="# DATE_FORMAT, TIME_FORMAT 時間格式碼"></a># DATE_FORMAT, TIME_FORMAT 時間格式碼</h2><p><img src="https://lh3.googleusercontent.com/pw/ACtC-3fRVByzBoNC2ZHa5xcOibwQ4dg92GqTXG5GfTA4jGHwkUSKd-8Ut45re0xSI_QqBPteoUB6qiTdKQzOo8EeH2Qz8SrF_mbO6609SVRaOubpuyb-IobR676pAgkC4YCTdpmVnb4ZhfAeonbBMH4p1Bj31A=w1112-h1600-no?authuser=0"></p>
<br>

<h2 id="Index"><a href="#Index" class="headerlink" title="# Index"></a># Index</h2><h3 id="加入-Foreign-Key"><a href="#加入-Foreign-Key" class="headerlink" title="# 加入 Foreign Key"></a># 加入 Foreign Key</h3><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE tableName</span><br><span class="line">ADD FOREIGN KEY (columnName) REFERENCES referencingTableName (columnName)</span><br></pre></td></tr></table></figure>

<h3 id="移除-Foreign-Key"><a href="#移除-Foreign-Key" class="headerlink" title="# 移除 Foreign Key"></a># 移除 Foreign Key</h3><h4 id="取得-constraint"><a href="#取得-constraint" class="headerlink" title="# 取得 constraint"></a># 取得 constraint</h4><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS</span><br><span class="line">WHERE TABLE_NAME=&apos;tableName&apos;;</span><br></pre></td></tr></table></figure>

<h4 id="移除-constraint"><a href="#移除-constraint" class="headerlink" title="# 移除 constraint"></a># 移除 constraint</h4><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE table_name </span><br><span class="line">DROP CONSTRAINT constraint_name</span><br></pre></td></tr></table></figure>

<h4 id="移除-index"><a href="#移除-index" class="headerlink" title="# 移除 index"></a># 移除 index</h4><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE table_name </span><br><span class="line">DROP INDEX index_name</span><br></pre></td></tr></table></figure>

<br>

<h2 id="取得-metadata"><a href="#取得-metadata" class="headerlink" title="# 取得 metadata"></a># 取得 metadata</h2><h6 id="取得-table-rows-大約估計值"><a href="#取得-table-rows-大約估計值" class="headerlink" title="取得 table rows 大約估計值"></a>取得 table rows 大約估計值</h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT table_rows FROM information_schema.tables WHERE table_name = &apos;tableName&apos;</span><br></pre></td></tr></table></figure>

<br>

<h2 id="Questions-and-Answers"><a href="#Questions-and-Answers" class="headerlink" title="# Questions and Answers"></a># Questions and Answers</h2><h6 id="以下的-MySQL-example-image-的意思是？"><a href="#以下的-MySQL-example-image-的意思是？" class="headerlink" title="以下的 MySQL example image 的意思是？"></a><strong>以下的 MySQL example image 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3cswXqSzJYPv7gonbHbRQ3kfpiuo-Ma864kWlcWKGRPMs1IkWTEWIRXU2_swnteQRHqaxSFr3r7E62UUD25fGBF-kSzudFxT1t2Dx_Ql7o5Iz71g_bOjE9bLfbwb2dssZo9Js_x2GL7ey5nAhcQWoAFZw=w1142-h856-no?authuser=0"></p>
</li>
<li><p><strong>Answer</strong><br>兩顆 B+樹, primary key (ID) 這棵樹, 一個 ID 對應到整個 row, k index 這棵樹, k 值對應到相對應的 ID primary key</p>
</li>
</ul>
<h6 id="資料結構中-N-叉數-假設-N-為-1200-那樹高三層-會有幾筆資料？"><a href="#資料結構中-N-叉數-假設-N-為-1200-那樹高三層-會有幾筆資料？" class="headerlink" title="資料結構中, N 叉數, 假設 N 為 1200, 那樹高三層, 會有幾筆資料？"></a><strong>資料結構中, N 叉數, 假設 N 為 1200, 那樹高三層, 會有幾筆資料？</strong></h6><p>N 的三次方</p>
<h6 id="資料結構中-二元樹的搜索效率最好-但為何資料庫卻不採用二元樹這種資料結構？"><a href="#資料結構中-二元樹的搜索效率最好-但為何資料庫卻不採用二元樹這種資料結構？" class="headerlink" title="資料結構中, 二元樹的搜索效率最好, 但為何資料庫卻不採用二元樹這種資料結構？"></a><strong>資料結構中, 二元樹的搜索效率最好, 但為何資料庫卻不採用二元樹這種資料結構？</strong></h6><p>因為索引不只在內存, 更在硬碟中, 而每棵樹的查找都相當於訪問一個 block, 換言之, 資料越多, 樹越高, 訪問的 block 越多, 這個查詢效率並不友善 (訪問太多硬碟 block)</p>
<h6 id="以下的數據結構-query-與-insert-的-complexity-是多少？"><a href="#以下的數據結構-query-與-insert-的-complexity-是多少？" class="headerlink" title="以下的數據結構, query 與 insert 的 complexity 是多少？"></a><strong>以下的數據結構, query 與 insert 的 complexity 是多少？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dztqVh_OItXI8hcjMmg5fZXB-4eSVDsD-XbEJOZ2UHZ54hBjOei1E3m8wMPEoGlqb2id29hSxfwNBV7A_9nWzpKyxKir9gvQZ1Ke4_J-TEv9cSgz0gwzpsR3lEEeagtxxxbtId3sfEDHItrAncZmZKiw=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>O(log(N))</li>
</ul>
<h6 id="以下的數據結構-適合怎樣的情境？"><a href="#以下的數據結構-適合怎樣的情境？" class="headerlink" title="以下的數據結構, 適合怎樣的情境？"></a><strong>以下的數據結構, 適合怎樣的情境？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0"></li>
<li><strong>Answer</strong><br>有序數組較適合靜態引擎, 即不太會更動的資料庫</li>
</ul>
<h6 id="以下的數據結構-劣勢在於？"><a href="#以下的數據結構-劣勢在於？" class="headerlink" title="以下的數據結構, 劣勢在於？"></a><strong>以下的數據結構, 劣勢在於？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0"></li>
<li><strong>Answer</strong><br>為了維持有序, 所以 insert 會增加額外的 cost 使其維持有序, insert 資料效率差</li>
</ul>
<h6 id="以下的數據結構-優勢在於？"><a href="#以下的數據結構-優勢在於？" class="headerlink" title="以下的數據結構, 優勢在於？"></a><strong>以下的數據結構, 優勢在於？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0"></li>
<li><strong>Answer</strong><br>查詢, 因為有序, 可使用二分法, 區間查詢效率也很好</li>
</ul>
<h6 id="以下的-MySQL-example-picture-是怎樣的數據結構？"><a href="#以下的-MySQL-example-picture-是怎樣的數據結構？" class="headerlink" title="以下的 MySQL example picture, 是怎樣的數據結構？"></a><strong>以下的 MySQL example picture, 是怎樣的數據結構？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3defZWFSrYsk7Q8rSvpMQ_jb6zcVt3-5ORdMVQFicIXzU2oJ8WcSoiaVYFRzr-700za3mOaPV8IveOQ4Va0OtuUgale8D3FVY3jS7KcD_r1GMi9y89ndg3TMJjj8fe7krbqi1EOxL-OJfqp2G3pC2Ulow=w1142-h787-no?authuser=0"></li>
<li><strong>Answer</strong><br>有序數組</li>
</ul>
<h6 id="MySQL-hash-索引只適用於什麼樣的查詢？"><a href="#MySQL-hash-索引只適用於什麼樣的查詢？" class="headerlink" title="MySQL hash 索引只適用於什麼樣的查詢？"></a><strong>MySQL hash 索引只適用於什麼樣的查詢？</strong></h6><p>等值查詢, 比如 Memcached 或 NoSQL, 因為其 hash value 並無順序性</p>
<h6 id="以下的-hash-data-structure-索引在區間查詢非常慢-原因為何？"><a href="#以下的-hash-data-structure-索引在區間查詢非常慢-原因為何？" class="headerlink" title="以下的 hash data structure 索引在區間查詢非常慢, 原因為何？"></a><strong>以下的 hash data structure 索引在區間查詢非常慢, 原因為何？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>因為 key 的 hash 並無順序性, 所以若要查找區間, 等於全表掃描</li>
</ul>
<h6 id="以下的-data-structure-hash-的值是有順序性的嗎？"><a href="#以下的-data-structure-hash-的值是有順序性的嗎？" class="headerlink" title="以下的 data structure, hash 的值是有順序性的嗎？"></a><strong>以下的 data structure, hash 的值是有順序性的嗎？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>沒有</li>
</ul>
<h6 id="以下的-picture-的意思是？"><a href="#以下的-picture-的意思是？" class="headerlink" title="以下的 picture 的意思是？"></a><strong>以下的 picture 的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3ezyPtszN0XIDShfNIf7Dx0XdiiWTGiQvbM_Evu4nvA0JQ4dDDqxycUfOfw8AQVbtD44Ii9N8jn4P7FLhQp75VLGacjStFya3PW2yFnq_uYxgXjHQAX4MeukVE5CgwODVg4qPNhkztBN0tb_1KdFMyCCg=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>Hash 索引, 將 key 透過 hash method 得到一個 hash 值, 將 value 放到一個數組中, 而前面得到的 hash 值, 就是這個 value 在數組中的 key, 如果 hash 值重複, 則對應的 value 會構成一個 linked list, 所以精妙的 hash method 會讓重複機率降低</li>
</ul>
<h6 id="MySQL-中-如果我要使用連續的-transaction-但我想省略-begin-來節省一次的連線-那可以怎麼做？"><a href="#MySQL-中-如果我要使用連續的-transaction-但我想省略-begin-來節省一次的連線-那可以怎麼做？" class="headerlink" title="MySQL 中, 如果我要使用連續的 transaction, 但我想省略 begin 來節省一次的連線, 那可以怎麼做？"></a><strong>MySQL 中, 如果我要使用連續的 transaction, 但我想省略 begin 來節省一次的連線, 那可以怎麼做？</strong></h6><p>使用 commit work and chain 語法</p>
<h6 id="以下的-MySQL-example-code-的意思是？"><a href="#以下的-MySQL-example-code-的意思是？" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">select * from information_schema.innodb_trx where TIME_TO_SEC(timediff(now(),trx_started))&gt;60</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong><br>查詢超過 60 秒的長事務</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-1"><a href="#以下的-MySQL-example-code-的意思是？-1" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">set autocommit=0</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong><br>代表關閉自動 transaction 提交, 也就是說你執行一個最基本的 select, transaction 就開始了, 而且不會自動提交, 這就導致意外的長事務</p>
</li>
</ul>
<h6 id="MySQL-中-長事務跟-undo-log-有什麼關係？"><a href="#MySQL-中-長事務跟-undo-log-有什麼關係？" class="headerlink" title="MySQL 中, 長事務跟 undo log 有什麼關係？"></a><strong>MySQL 中, 長事務跟 undo log 有什麼關係？</strong></h6><p>transaction 越長, 所需要保留的 undo log 越多, 佔據的空間也越大</p>
<h6 id="以下的-MySQL-illustration-中-undo-log-什麼時候會被刪除？"><a href="#以下的-MySQL-illustration-中-undo-log-什麼時候會被刪除？" class="headerlink" title="以下的 MySQL illustration 中, undo log 什麼時候會被刪除？"></a><strong>以下的 MySQL illustration 中, undo log 什麼時候會被刪除？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0"></li>
<li><strong>Answer</strong><br>當這個 undo log 不再被需要的時候, 例如沒有比這個 undo log 更早的 transaction read view 存在</li>
</ul>
<h6 id="以下的-MySQL-illustration-中-read-view-的意思是？"><a href="#以下的-MySQL-illustration-中-read-view-的意思是？" class="headerlink" title="以下的 MySQL illustration 中, read view 的意思是？"></a><strong>以下的 MySQL illustration 中, read view 的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0"></li>
<li><strong>Answer</strong><br>代表不同時刻啟動的 transaction, 在 repeatable isolation 中, 不同的 transaction 會有不同的 read view</li>
</ul>
<h6 id="以下的-MySQL-illustration-的意思是？"><a href="#以下的-MySQL-illustration-的意思是？" class="headerlink" title="以下的 MySQL illustration 的意思是？"></a><strong>以下的 MySQL illustration 的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3f3OSG1uVB9hRd53wkqjBxnillm19eE9EAiavyOf6nAxaeqyXqCL5S6IYKo0eJTYS7VVdq0Qu4NAP3HGu0C6If3hPu3NGm4AblakZo9aYRtAzT5281g7aXy274h6Y40VJE9AhXMyIzmd5QEuRJIwuBnpQ=w1142-h737-no?authuser=0"></li>
<li><strong>Answer</strong><br>在每一次的 update, 同時都會紀錄下 undo log, 供不同的 read view 使用</li>
</ul>
<h6 id="MySQL-inno-DB-中-當提交一筆-update-時-共會紀錄哪三種-log"><a href="#MySQL-inno-DB-中-當提交一筆-update-時-共會紀錄哪三種-log" class="headerlink" title="MySQL inno DB 中, 當提交一筆 update 時, 共會紀錄哪三種 log?"></a><strong>MySQL inno DB 中, 當提交一筆 update 時, 共會紀錄哪三種 log?</strong></h6><p>redo log, undo log, binlog</p>
<h6 id="MySQL-中-一天備份一次跟一週備份一次-差別在哪？"><a href="#MySQL-中-一天備份一次跟一週備份一次-差別在哪？" class="headerlink" title="MySQL 中, 一天備份一次跟一週備份一次, 差別在哪？"></a><strong>MySQL 中, 一天備份一次跟一週備份一次, 差別在哪？</strong></h6><p>恢復時間的長短差別, 使用備份來復原的速度比使用 binlog 復原的速度還快</p>
<h6 id="MySQL-中-binlog-的-row-模式-是用什麼方式紀錄-log"><a href="#MySQL-中-binlog-的-row-模式-是用什麼方式紀錄-log" class="headerlink" title="MySQL 中, binlog 的 row 模式, 是用什麼方式紀錄 log?"></a><strong>MySQL 中, binlog 的 row 模式, 是用什麼方式紀錄 log?</strong></h6><p>紀錄 row 的內容, 記兩條, 更新前和更新後</p>
<h6 id="MySQL-中-binlog-的-statement-模式-是用什麼方式紀錄-log"><a href="#MySQL-中-binlog-的-statement-模式-是用什麼方式紀錄-log" class="headerlink" title="MySQL 中, binlog 的 statement 模式, 是用什麼方式紀錄 log?"></a><strong>MySQL 中, binlog 的 statement 模式, 是用什麼方式紀錄 log?</strong></h6><p>紀錄 sql 語句</p>
<h6 id="MySQL-中-binlog-又分為哪兩種模式？"><a href="#MySQL-中-binlog-又分為哪兩種模式？" class="headerlink" title="MySQL 中, binlog 又分為哪兩種模式？"></a><strong>MySQL 中, binlog 又分為哪兩種模式？</strong></h6><p>statement<br>row</p>
<h6 id="MySQL-中-redo-log-是物理性-binlog-是邏輯性-何謂物理性跟邏輯性？"><a href="#MySQL-中-redo-log-是物理性-binlog-是邏輯性-何謂物理性跟邏輯性？" class="headerlink" title="MySQL 中, redo log 是物理性, binlog 是邏輯性, 何謂物理性跟邏輯性？"></a><strong>MySQL 中, redo log 是物理性, binlog 是邏輯性, 何謂物理性跟邏輯性？</strong></h6><p>redo log 紀錄硬碟上數據的物理變化<br>binlog 紀錄當時所執行的 sql 語法</p>
<h6 id="MySQL-中-innodb-flush-log-at-trx-commit-1-這個參數的意思是？"><a href="#MySQL-中-innodb-flush-log-at-trx-commit-1-這個參數的意思是？" class="headerlink" title="MySQL 中, innodb_flush_log_at_trx_commit=1 這個參數的意思是？"></a><strong>MySQL 中, innodb_flush_log_at_trx_commit=1 這個參數的意思是？</strong></h6><p>讓每次 redo log 都會持久化到 disk</p>
<h6 id="MySQL-中-又不是常常會需要復原資料-為何一定要使用二階段提交來確保-redo-log-與-binlog-資料一致？"><a href="#MySQL-中-又不是常常會需要復原資料-為何一定要使用二階段提交來確保-redo-log-與-binlog-資料一致？" class="headerlink" title="MySQL 中, 又不是常常會需要復原資料, 為何一定要使用二階段提交來確保 redo log 與 binlog 資料一致？"></a><strong>MySQL 中, 又不是常常會需要復原資料, 為何一定要使用二階段提交來確保 redo log 與 binlog 資料一致？</strong></h6><p>因為當需要 scale 來增加系統 read 的 capacity 時, 便會用到 binlog 來實現增加新的 read database, 若資料不一致便無法實現這樣的操作</p>
<h6 id="MySQL-中-假設不使用二階段提交-先寫-binlog-再寫-redo-log-假設-binlog-寫完-但-redo-log-還沒寫完時就-crash-了-會發生什麼事？"><a href="#MySQL-中-假設不使用二階段提交-先寫-binlog-再寫-redo-log-假設-binlog-寫完-但-redo-log-還沒寫完時就-crash-了-會發生什麼事？" class="headerlink" title="MySQL 中, 假設不使用二階段提交, 先寫 binlog, 再寫 redo log, 假設 binlog 寫完, 但 redo log 還沒寫完時就 crash 了, 會發生什麼事？"></a><strong>MySQL 中, 假設不使用二階段提交, 先寫 binlog, 再寫 redo log, 假設 binlog 寫完, 但 redo log 還沒寫完時就 crash 了, 會發生什麼事？</strong></h6><p>由於 redo log 還沒寫, 也就是該 transaction 無效, 但 binlog 已寫了, 造成跟原庫的資料不一致</p>
<h6 id="MySQL-中-假設不使用二階段提交-先寫-redo-log-再寫-binlog-假設-redo-log-寫完-但-binlog-還沒寫完時就-crash-了-會發生什麼事？"><a href="#MySQL-中-假設不使用二階段提交-先寫-redo-log-再寫-binlog-假設-redo-log-寫完-但-binlog-還沒寫完時就-crash-了-會發生什麼事？" class="headerlink" title="MySQL 中, 假設不使用二階段提交, 先寫 redo log, 再寫 binlog, 假設 redo log 寫完, 但 binlog 還沒寫完時就 crash 了, 會發生什麼事？"></a><strong>MySQL 中, 假設不使用二階段提交, 先寫 redo log, 再寫 binlog, 假設 redo log 寫完, 但 binlog 還沒寫完時就 crash 了, 會發生什麼事？</strong></h6><p>server 重啟後, 因為 redo log 的 crash save 能力, 資料並沒有丟失, 但是如果使用 binlog 復原資料時, 便會少了那筆紀錄, 造成兩邊資料不一致</p>
<h6 id="MySQL-中-redo-log-與-binlog-的二階段提交主要的作用是？"><a href="#MySQL-中-redo-log-與-binlog-的二階段提交主要的作用是？" class="headerlink" title="MySQL 中, redo log 與 binlog 的二階段提交主要的作用是？"></a><strong>MySQL 中, redo log 與 binlog 的二階段提交主要的作用是？</strong></h6><p>讓兩份 log 的邏輯一致</p>
<h6 id="MySQL-中-binlog-跟-redo-log-分別的主要作用是？"><a href="#MySQL-中-binlog-跟-redo-log-分別的主要作用是？" class="headerlink" title="MySQL 中, binlog 跟 redo log 分別的主要作用是？"></a><strong>MySQL 中, binlog 跟 redo log 分別的主要作用是？</strong></h6><ul>
<li>redo log: crash save (innoDB 層面)</li>
<li>binlog: 恢復某個時間點的數據</li>
</ul>
<h6 id="MySQL-中-redo-log-與-binlog-的寫入流程是？"><a href="#MySQL-中-redo-log-與-binlog-的寫入流程是？" class="headerlink" title="MySQL 中, redo log 與 binlog 的寫入流程是？"></a><strong>MySQL 中, redo log 與 binlog 的寫入流程是？</strong></h6><p><img src="https://lh3.googleusercontent.com/pw/ACtC-3dDeUFBKih_YOvZUPhdjgtlj21G7dwDKlSWsfwtMIGb23uEmNldWDVoWlfWEKo63ixi5GqfPRpXAXjQSUO9SXRqs6-vQmqifLclt_z0gn9S9ZnJ8pmhYRfTMi95dtiAubODl_EFA3-FzO3AxpOvutr-HA=w1142-h1522-no?authuser=0"></p>
<ol>
<li>執行器先找引擎取 ID=2 這一行。 ID 是主鍵，引擎直接用樹搜索找到這一行。如果 ID=2 這一行所在的數據頁本來就在內存中，就直接返回給執行器；否則，需要先從磁盤讀入內存，然後再返回。</li>
<li>執行器拿到引擎給的行數據，把這個值加上 1，比如原來是 N，現在就是 N+1，得到新的一行數據，再調用引擎接口寫入這行新數據。</li>
<li>引擎將這行新數據更新到內存中，同時將這個更新操作記錄到 redo log 裡面，此時 redo log 處於 prepare 狀態。然後告知執行器執行完成了，隨時可以提交事務。</li>
<li>執行器生成這個操作的 binlog，並把 binlog 寫入磁盤。</li>
<li>執行器調用引擎的提交事務接口，引擎把剛剛寫入的 redo log 改成提交（commit）狀態，更新完成。<br>重點： binlog 與 redo log 會有共同的 XID, 當 crash 重啟後, 如果有 prepare 又有 commit 的 redo log, 就直接提交, 如果有 prepare 但沒有 commit 的 redo log, 就拿著 XID 去尋找是否有該 binlog, 有則提交, 無則 rollback</li>
</ol>
<h6 id="MySQL-中-redo-log-和-binlog-哪個是循環寫-哪個是追加寫？"><a href="#MySQL-中-redo-log-和-binlog-哪個是循環寫-哪個是追加寫？" class="headerlink" title="MySQL 中, redo log 和 binlog, 哪個是循環寫 哪個是追加寫？"></a><strong>MySQL 中, redo log 和 binlog, 哪個是循環寫 哪個是追加寫？</strong></h6><p>redo log 是循環寫, binlog 是追加寫</p>
<h6 id="MySQL-中-redo-log-和-binlog-哪個是物理性-哪個是邏輯性？"><a href="#MySQL-中-redo-log-和-binlog-哪個是物理性-哪個是邏輯性？" class="headerlink" title="MySQL 中, redo log 和 binlog, 哪個是物理性, 哪個是邏輯性？"></a><strong>MySQL 中, redo log 和 binlog, 哪個是物理性, 哪個是邏輯性？</strong></h6><p>redo log 是物理性, binlog 是邏輯性</p>
<h6 id="MySQL-redo-log-中-先寫日誌-具體來說是寫到哪？-跟實際更新硬碟的差別在於？"><a href="#MySQL-redo-log-中-先寫日誌-具體來說是寫到哪？-跟實際更新硬碟的差別在於？" class="headerlink" title="MySQL redo log 中, 先寫日誌, 具體來說是寫到哪？ 跟實際更新硬碟的差別在於？"></a><strong>MySQL redo log 中, 先寫日誌, 具體來說是寫到哪？ 跟實際更新硬碟的差別在於？</strong></h6><p>也是寫到磁盤中, 但如果跟實際更新硬碟相比, 一個是順序 I/O, 一個是隨機 I/O, 差別在於隨機 I/O 有一個尋址的過程, cost 較高</p>
<h6 id="MySQL-中-任何-Storage-Engine-都可使用-屬於-Server-層的-Log-是哪一個？"><a href="#MySQL-中-任何-Storage-Engine-都可使用-屬於-Server-層的-Log-是哪一個？" class="headerlink" title="MySQL 中, 任何 Storage Engine 都可使用, 屬於 Server 層的 Log 是哪一個？"></a><strong>MySQL 中, 任何 Storage Engine 都可使用, 屬於 Server 層的 Log 是哪一個？</strong></h6><p>binlog</p>
<h6 id="MySQL-中-redo-log-是屬於哪種儲存引擎專屬的？"><a href="#MySQL-中-redo-log-是屬於哪種儲存引擎專屬的？" class="headerlink" title="MySQL 中, redo log 是屬於哪種儲存引擎專屬的？"></a><strong>MySQL 中, redo log 是屬於哪種儲存引擎專屬的？</strong></h6><p>InnoDB</p>
<h6 id="MySQL-整體上來看-其實就分為哪兩層？"><a href="#MySQL-整體上來看-其實就分為哪兩層？" class="headerlink" title="MySQL 整體上來看, 其實就分為哪兩層？"></a><strong>MySQL 整體上來看, 其實就分為哪兩層？</strong></h6><p>server, storage</p>
<h6 id="以下的-MySQL-redo-log-picture-中-check-point-代表的意思是？"><a href="#以下的-MySQL-redo-log-picture-中-check-point-代表的意思是？" class="headerlink" title="以下的 MySQL redo log picture 中, check point 代表的意思是？"></a><strong>以下的 MySQL redo log picture 中, check point 代表的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>當前要擦除的位置</li>
</ul>
<h6 id="以下的-MySQL-redo-log-picture-中-write-pos-代表的意思是？"><a href="#以下的-MySQL-redo-log-picture-中-write-pos-代表的意思是？" class="headerlink" title="以下的 MySQL redo log picture 中, write pos 代表的意思是？"></a><strong>以下的 MySQL redo log picture 中, write pos 代表的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>目前從此處開始寫入</li>
</ul>
<h6 id="以下的-MySQL-redo-log-picture-中-綠色部分代表的意思是？"><a href="#以下的-MySQL-redo-log-picture-中-綠色部分代表的意思是？" class="headerlink" title="以下的 MySQL redo log picture 中, 綠色部分代表的意思是？"></a><strong>以下的 MySQL redo log picture 中, 綠色部分代表的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>可以寫入的空白地方</li>
</ul>
<h6 id="MySQL-的-redo-log-主要解決了什麼問題？"><a href="#MySQL-的-redo-log-主要解決了什麼問題？" class="headerlink" title="MySQL 的 redo log 主要解決了什麼問題？"></a><strong>MySQL 的 redo log 主要解決了什麼問題？</strong></h6><p>減少 I/O 成本<br>如果每一次的更新操作都需要寫進磁盤，然後磁盤也要找到對應的那條記錄，然後再更新，整個過程 IO 成本、查找成本都很高</p>
<h6 id="MySQL-的-redo-log-可以讓-MySQL-server-就算臨時異常重啟-之前提交的記錄也不會丟失-這種能力稱為？"><a href="#MySQL-的-redo-log-可以讓-MySQL-server-就算臨時異常重啟-之前提交的記錄也不會丟失-這種能力稱為？" class="headerlink" title="MySQL 的 redo log 可以讓 MySQL server 就算臨時異常重啟, 之前提交的記錄也不會丟失, 這種能力稱為？"></a><strong>MySQL 的 redo log 可以讓 MySQL server 就算臨時異常重啟, 之前提交的記錄也不會丟失, 這種能力稱為？</strong></h6><p>crash-save<br>關鍵點就是先寫日誌，再寫磁盤，也就是先寫粉板，等不忙的時候再寫賬本。</p>
<h6 id="以下的-MySQL-picture-是哪一種-log"><a href="#以下的-MySQL-picture-是哪一種-log" class="headerlink" title="以下的 MySQL picture 是哪一種 log?"></a><strong>以下的 MySQL picture 是哪一種 log?</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fy3nrrP3owcl3biLX5Pme8EfxDS8R0ukV08PO3DBjzRrt00vmsF1vR2iS9HEMQxT8CZ0As375yiv8gdA_NEf196aZV_hmrT-wMXXJlD7iVDMLUvYc9zL1Za-jnJi7KpkIlkyKt4XCqyfDdl3tBss3ZCA=w1142-h856-no?authuser=0"></li>
<li><strong>Answer</strong><br>redo log</li>
</ul>
<h6 id="MySQL-中-redo-log-的大小是固定的-對嗎？"><a href="#MySQL-中-redo-log-的大小是固定的-對嗎？" class="headerlink" title="MySQL 中, redo log 的大小是固定的, 對嗎？"></a><strong>MySQL 中, redo log 的大小是固定的, 對嗎？</strong></h6><p>對的</p>
<h6 id="MySQL-中-WAL-的全稱是？"><a href="#MySQL-中-WAL-的全稱是？" class="headerlink" title="MySQL 中, WAL 的全稱是？"></a><strong>MySQL 中, WAL 的全稱是？</strong></h6><p>Write-Ahead Logging, 先寫日誌, 再寫磁盤</p>
<h6 id="MySQL-8-0-還能使用查詢緩存嗎？"><a href="#MySQL-8-0-還能使用查詢緩存嗎？" class="headerlink" title="MySQL 8.0 還能使用查詢緩存嗎？"></a><strong>MySQL 8.0 還能使用查詢緩存嗎？</strong></h6><p>不行</p>
<h6 id="MySQL-查詢緩存-什麼是-key-什麼是-value"><a href="#MySQL-查詢緩存-什麼是-key-什麼是-value" class="headerlink" title="MySQL 查詢緩存, 什麼是 key, 什麼是 value?"></a><strong>MySQL 查詢緩存, 什麼是 key, 什麼是 value?</strong></h6><p>查詢語句為 key, 查詢結果為 value</p>
<h6 id="MySQL-中-預設的-client-端與-server-端的連線是多久？"><a href="#MySQL-中-預設的-client-端與-server-端的連線是多久？" class="headerlink" title="MySQL 中, 預設的 client 端與 server 端的連線是多久？"></a><strong>MySQL 中, 預設的 client 端與 server 端的連線是多久？</strong></h6><p>8 小時</p>
<h6 id="以下的-MySQL-example-picture-的意思是？"><a href="#以下的-MySQL-example-picture-的意思是？" class="headerlink" title="以下的 MySQL example picture 的意思是？"></a><strong>以下的 MySQL example picture 的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fjW0XEfmW2DyzVQ4VCCMFUjfdGCpFWggzuTG071ohPhLEagEzLpyZ8BRURKjHsLcJMn5GRWweuRR0wyZzMvYTsP81Az-v0TXmvXiHiiAF2qlUuatDXSzpvf9iPksJQqcEDZ50CjN-VPq843gaJKr7saQ=w1920-h1440-no?authuser=0"></li>
<li><strong>Answer</strong><br>MySQL 的架構圖</li>
</ul>
<h6 id="MySQL-的-timestamp-column-從資料庫看-顯示的時間是哪一個時區？"><a href="#MySQL-的-timestamp-column-從資料庫看-顯示的時間是哪一個時區？" class="headerlink" title="MySQL 的 timestamp column, 從資料庫看, 顯示的時間是哪一個時區？"></a><strong>MySQL 的 timestamp column, 從資料庫看, 顯示的時間是哪一個時區？</strong></h6><p>預設為機器當下的時區, 因為 MySQL timezone variable 預設去抓 system timezone</p>
<h6 id="MySQL-的-timestamp-column-會隨著系統的時區調整而變動-為什麼？"><a href="#MySQL-的-timestamp-column-會隨著系統的時區調整而變動-為什麼？" class="headerlink" title="MySQL 的 timestamp column 會隨著系統的時區調整而變動, 為什麼？"></a><strong>MySQL 的 timestamp column 會隨著系統的時區調整而變動, 為什麼？</strong></h6><p>MySQL timestamp 會在底層儲存 UTC 的時間, 而從資料庫中看到的時間是根據當下機器的時區轉化過的, 所以 timestamp 欄位會隨著機器的時區不同而顯示該時區的時間, 所以調整 MySQL 的 timezone 是不會影響到資料準確度的</p>
<h6 id="以下的-MySQL-example-code-的意思是？-2"><a href="#以下的-MySQL-example-code-的意思是？-2" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	`branch_managers`.`account`,</span><br><span class="line">	`branch_managers`.`created_at`,</span><br><span class="line">	`shops`.`name`</span><br><span class="line">FROM</span><br><span class="line">	`branch_managers`</span><br><span class="line">	INNER JOIN `shops` ON `branch_managers`.`shop_id` = `shops`.`id`</span><br><span class="line">WHERE</span><br><span class="line">	AND `branch_managers`.`id` in(</span><br><span class="line">		SELECT</span><br><span class="line">			`id` FROM ((</span><br><span class="line">				SELECT</span><br><span class="line">					`id` FROM `branch_managers`</span><br><span class="line">				WHERE</span><br><span class="line">					match(account) against (&apos;4k&apos; IN boolean mode))</span><br><span class="line">			UNION (</span><br><span class="line">				SELECT</span><br><span class="line">					`branch_managers`.`id` FROM `branch_managers`</span><br><span class="line">					INNER JOIN `shops` ON `branch_managers`.`shop_id` = `shops`.`id`</span><br><span class="line">				WHERE</span><br><span class="line">					match(name) against (&apos;4k&apos; IN boolean mode))) AS `matches`)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong><br>無法直接使用 <strong>or where match</strong> 這樣子的 full text search 在多個表格, 因此統一取得 id, 在使用 where in 取得最後需要的資料<br>使用 union 來取得兩個 select query 取得的不重複 id<br>使用 derived table, 避免 where in 與 union query 之間的 dependency</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-image-的意思是？-1"><a href="#以下的-MySQL-example-image-的意思是？-1" class="headerlink" title="以下的 MySQL example image 的意思是？"></a><strong>以下的 MySQL example image 的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3ekwu-P3VY_S0_1hK5J-kdfmp0wrN7clSPT-G2QjU6EKZSy3fCf0DAhzvrIx1KEg3VEt9dALWAzccCgUoHFTEiR496rvQ7eNS2mIwniIO6gpzvXKB25z9SlBiNKH5VwHoQxmAa2OmaOUkmIvNFwed_OwQ=w1922-h1082-no?authuser=0"></li>
<li><strong>Answer</strong><br>SELECT 時加上 exclusive lock, 雖然 weight column 並沒有 index, 但 MySQL 為了做到 RR Isolation, 會把整張 table lock 住</li>
</ul>
<h6 id="使用-MySQL-的-range-lock-時-要特別注意什麼事？"><a href="#使用-MySQL-的-range-lock-時-要特別注意什麼事？" class="headerlink" title="使用 MySQL 的 range lock 時, 要特別注意什麼事？"></a><strong>使用 MySQL 的 range lock 時, 要特別注意什麼事？</strong></h6><p>range column 一定要有 index, 否則 MySQL 為了維持 RR Isolation, 會 lock 整張 table</p>
<h6 id="MySQL-的-range-lock-如果-range-column-並沒有-index-那會有什麼行為？"><a href="#MySQL-的-range-lock-如果-range-column-並沒有-index-那會有什麼行為？" class="headerlink" title="MySQL 的 range lock 如果 range column 並沒有 index, 那會有什麼行為？"></a><strong>MySQL 的 range lock 如果 range column 並沒有 index, 那會有什麼行為？</strong></h6><p>MySQL 為了維持 RR Isolation, 會 lock 整張 table</p>
<h6 id="以下的-MySQL-example-image-的意思是？-2"><a href="#以下的-MySQL-example-image-的意思是？-2" class="headerlink" title="以下的 MySQL example image 的意思是？"></a><strong>以下的 MySQL example image 的意思是？</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eNnbNqUcPVOcj7T89BAI0MySfznedETHOYkouABM3KqdJCYYznbPScZ_2GxXRIp7JSBPGSfsSqXC7gIu7c3PwOoERWGiZET0SF065Ag2ZQnLLQ8Rdu_xPfzqdWxNbJyn__xqHJqoiNyYMvgrYt9yOqIg=w1400-h1178-no?authuser=0"></li>
<li><strong>Answer</strong><br>SELECT 時加上 exclusive lock, 所以所有 height &gt;= 170 這個 range 的 row 都被鎖住了</li>
</ul>
<h6 id="MySQL-的-repeatable-isolation-中-如何避免-lost-update"><a href="#MySQL-的-repeatable-isolation-中-如何避免-lost-update" class="headerlink" title="MySQL 的 repeatable isolation 中, 如何避免 lost update?"></a><strong>MySQL 的 repeatable isolation 中, 如何避免 lost update?</strong></h6><p>使用 Atomic operation, 像是 credit = credit - 1, 但如果要避免負數, 還是要使用 lock</p>
<h6 id="MySQL-的-repeatable-isolation-實作的-snapshot-只對什麼語法有效？"><a href="#MySQL-的-repeatable-isolation-實作的-snapshot-只對什麼語法有效？" class="headerlink" title="MySQL 的 repeatable isolation, 實作的 snapshot 只對什麼語法有效？"></a><strong>MySQL 的 repeatable isolation, 實作的 snapshot 只對什麼語法有效？</strong></h6><p>只對 DQL, 像是 select 有效, 對 DML, 像是 insert, update, delete 都無效</p>
<h6 id="MySQL-的-repeatable-isolation-是如何實作-snapshot-的？"><a href="#MySQL-的-repeatable-isolation-是如何實作-snapshot-的？" class="headerlink" title="MySQL 的 repeatable isolation 是如何實作 snapshot 的？"></a><strong>MySQL 的 repeatable isolation 是如何實作 snapshot 的？</strong></h6><p>會在 transaction 一開始進行一次 select, 並記錄下時間, 之後在此 transaction 中只可看到此時間之前的 committed row, 已經 transaction 自己本身作出的改變, 但這個規則只對 DQL (Data Query Language)有效, 對 DML (Data Manipulation Language) 無效</p>
<h6 id="以下的-MySQL-transaction-illustration-image-的意思是"><a href="#以下的-MySQL-transaction-illustration-image-的意思是" class="headerlink" title="以下的 MySQL transaction illustration image 的意思是?"></a><strong>以下的 MySQL transaction illustration image 的意思是?</strong></h6><ul>
<li><strong>Example</strong><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3cIlzcow0TaxIoSNLt8t-KlF4vTnzkHcxpAd5PY3G2ZO1fTRlCHs6mA1QIRfmvLrd_KEh6aAfrBwKnIYJ45atJjq-chqsdUFDTd-vGRFhPA5HemoO11mRlRgR6vCTg-tZtHlROplllre7DGo558OsoTxA=w1400-h1258-no?authuser=0"></li>
<li><strong>Answer</strong><br>MySQL 的 repeatable read 只可避免 phantom read, 但無法避免 phantom update, insert, delete 等其他操作<br>在 transaction 中, update 的作用範圍依然是所有已經 commit 的 row, 而在 transaction 中, 可以看到自己 update 的 row, 因此 update 造成了 write skew, 而 select 產生 phantom read</li>
</ul>
<h6 id="資料庫中-Serializable-Isolation-中的-Serializable-Snapshot-Isolation-是如何實作"><a href="#資料庫中-Serializable-Isolation-中的-Serializable-Snapshot-Isolation-是如何實作" class="headerlink" title="資料庫中, Serializable Isolation 中的 Serializable Snapshot Isolation, 是如何實作?"></a><strong>資料庫中, Serializable Isolation 中的 Serializable Snapshot Isolation, 是如何實作?</strong></h6><p>不特別對 transaction 做互相 block, 而是在最後 commit 的時候再做確認, 效能最佳, 但 2008 年才提出, 因此大部分資料庫都還沒有採用</p>
<h6 id="大部分的資料庫都採用哪種方式實作-Serializable-Isolation"><a href="#大部分的資料庫都採用哪種方式實作-Serializable-Isolation" class="headerlink" title="大部分的資料庫都採用哪種方式實作 Serializable Isolation?"></a><strong>大部分的資料庫都採用哪種方式實作 Serializable Isolation?</strong></h6><p>Two-phase Lock</p>
<h6 id="資料庫中-Serializable-Isolation-中的-Two-phase-Lock-是如何實作"><a href="#資料庫中-Serializable-Isolation-中的-Two-phase-Lock-是如何實作" class="headerlink" title="資料庫中, Serializable Isolation 中的 Two-phase Lock, 是如何實作?"></a><strong>資料庫中, Serializable Isolation 中的 Two-phase Lock, 是如何實作?</strong></h6><p>使用 Shared Lock 以及 Exclusive Lock 配合, 讓每一筆資料在同一時間最多都只會有一個 Transaction 對它進行讀寫, 還要搭配 Range Lock 避免 Phantom 現象, 大部分資料庫都採用這種實作</p>
<h6 id="資料庫中-Serializable-Isolation-中的-Serial-Order-是如何實作"><a href="#資料庫中-Serializable-Isolation-中的-Serial-Order-是如何實作" class="headerlink" title="資料庫中, Serializable Isolation 中的 Serial Order, 是如何實作?"></a><strong>資料庫中, Serializable Isolation 中的 Serial Order, 是如何實作?</strong></h6><p>真正照順序進行資料讀寫, 避免所有同時執行更新可能造成的衝突, 犧牲 concurrency, 效能差, 適合讀寫較快速的 In-Memory 資料庫, 如 redis</p>
<h6 id="資料庫中-Serializable-Isolation-有哪三種實作方式"><a href="#資料庫中-Serializable-Isolation-有哪三種實作方式" class="headerlink" title="資料庫中, Serializable Isolation 有哪三種實作方式?"></a><strong>資料庫中, Serializable Isolation 有哪三種實作方式?</strong></h6><p>Serial Order<br>Two-phase Lock<br>Serializable Snapshot Isolation</p>
<h6 id="資料庫中-何謂-Serializable-Isolation"><a href="#資料庫中-何謂-Serializable-Isolation" class="headerlink" title="資料庫中, 何謂 Serializable Isolation?"></a><strong>資料庫中, 何謂 Serializable Isolation?</strong></h6><p>可以保證在多個 Transaction 同時對資料庫進行讀寫所得到的結果, 會跟一次只讓一個 transaction 照順序 (serially) 進行讀寫所得到的結果完全一致, 最嚴格的 Isolation level, 但效能較差</p>
<h6 id="資料庫中-何謂-Repeatable-Read-Isolation"><a href="#資料庫中-何謂-Repeatable-Read-Isolation" class="headerlink" title="資料庫中, 何謂 Repeatable Read Isolation?"></a><strong>資料庫中, 何謂 Repeatable Read Isolation?</strong></h6><p>只要可以避免 Dirty Read 和 Non-repeatable Read, 就可以稱為 Repeatable Read Isolation, 依照實作方法不同, 有些資料庫的 Repeatable Read 可以避免 Lost Update 以及 Phantom</p>
<h6 id="資料庫中-何謂-Read-Committed-Isolation"><a href="#資料庫中-何謂-Read-Committed-Isolation" class="headerlink" title="資料庫中, 何謂 Read Committed Isolation?"></a><strong>資料庫中, 何謂 Read Committed Isolation?</strong></h6><p>只允許讀取已經被 Commit 的資料, 可以避免 dirty read</p>
<h6 id="資料庫中-何謂-Read-Uncommitted-Isolation"><a href="#資料庫中-何謂-Read-Uncommitted-Isolation" class="headerlink" title="資料庫中, 何謂 Read Uncommitted Isolation?"></a><strong>資料庫中, 何謂 Read Uncommitted Isolation?</strong></h6><p>允許讀取尚未被 commit 的資料</p>
<h6 id="資料庫中-Isolation-又分為哪四種？"><a href="#資料庫中-Isolation-又分為哪四種？" class="headerlink" title="資料庫中, Isolation 又分為哪四種？"></a><strong>資料庫中, Isolation 又分為哪四種？</strong></h6><p>Read Uncommitted Isolation<br>Read Committed Isolation<br>Repeatable Read Isolation<br>Serializable Isolation</p>
<h6 id="資料庫中-以下的情況又稱為？"><a href="#資料庫中-以下的情況又稱為？" class="headerlink" title="資料庫中, 以下的情況又稱為？"></a><strong>資料庫中, 以下的情況又稱為？</strong></h6><ul>
<li><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3cSrjdapjyC57uQPG55HZIc_KJxUokfg3YQzp0CX5D18325Cki7ho-O3jKdMCbKMdEym1LtUGrd72KnRLI40c-d3cFYiLzQE1m9NpMsLELWTS0x47Qs67rU3ugnXxufRO5grKF6s0YLFFhub4aVo3gBuw=w1400-h841-no?authuser=0"></li>
<li><strong>Answer</strong>:<br>Write Skew<br>只有 Serializable Isolation 可以避免</li>
</ul>
<h6 id="資料庫中-以下的情況又稱為？-1"><a href="#資料庫中-以下的情況又稱為？-1" class="headerlink" title="資料庫中, 以下的情況又稱為？"></a><strong>資料庫中, 以下的情況又稱為？</strong></h6><ul>
<li><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fgHsR4hH9u3VrwYE9FWHyJhZw4TsMHM5n9tbLKInhgwE4dX8_8woqOxqklNzkxmwPY6Qe55JyHP_7BA7BVBflzImjiwGuOfe5Dofwt1NUgn-DQTofoz41BRZeUrdnxC1mTKEUbFaN6znXnGRn31iH2QA=w1400-h841-no?authuser=0"></li>
<li><strong>Answer</strong>:<br>Phantom Read, Serializable Isolation 可以避免這個現象, Repeatable Read Isolation 視乎各個資料的實作, PostgreSQL 可以完全避免, MySQL InnoDB 只能避免 Phantom Read, 但無法避免 UPDATE, DELETE 等 DML 寫入的操作</li>
</ul>
<h6 id="資料庫中-以下的情況又稱為？-2"><a href="#資料庫中-以下的情況又稱為？-2" class="headerlink" title="資料庫中, 以下的情況又稱為？"></a><strong>資料庫中, 以下的情況又稱為？</strong></h6><ul>
<li><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3ebqdFM2ZmkDrmMigbqRe887FSRNiO3_vPqVRBmxWNaspmbTGfZuQh45FpeF6sGvmpfK_R3AkEfTiuoit_CugmX_l9CGELIhDD2qNAbc-I_goMzK-A-20n6gJRwVsyfQ0hAfsVqsXTRYdNnHM8yfOdfUg=w1400-h841-no?authuser=0"></li>
<li><strong>Answer</strong>:<br>Lost Update, Serializable Isolation 可以避免這個情況, Repeatable Read Isolation 看每個資料庫的實作不同有不同的行為, MySQL 無法避免 Lost Update, PostgreSQL 可以</li>
</ul>
<h6 id="資料庫中-以下的情況又稱為？-3"><a href="#資料庫中-以下的情況又稱為？-3" class="headerlink" title="資料庫中, 以下的情況又稱為？"></a><strong>資料庫中, 以下的情況又稱為？</strong></h6><ul>
<li><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3coTHFB5d9fvCUVMGMT-ygib7lAk8LmoaCKKdXoNapFR_1ux8klLdfDT_XMcctS-HK8Ts_djId1kf1-0Ut6SKCrLlXCQ0CiBBCJ5b6SIVXvRAb7wAvHhelbeA2oL98AKE4H5uR5ayP3OipquGwFNhIN6g=w1400-h841-no?authuser=0"></li>
<li><strong>Answer</strong>:<br>Read Skew (Non-repeatable Read), Repeatable Read 或更高的 Isolation 可避免這個情況</li>
</ul>
<h6 id="資料庫中-以下的情況又稱為？-4"><a href="#資料庫中-以下的情況又稱為？-4" class="headerlink" title="資料庫中, 以下的情況又稱為？"></a><strong>資料庫中, 以下的情況又稱為？</strong></h6><ul>
<li><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dgsXj5ZD0YgEzsv6DA3YvsBMak86F_h23dEnDnd-hEJWuY9KV5s7eAcUb0D2b2I7kRHYahe25l2w9QsB2JB6ZA9YrZeUcR4lhTRpzdOVhnomMCtmDEW8NT6NrJvn1r-psDcyq0o-8UcLkST4t54ueztg=w1400-h841-no?authuser=0"></li>
<li><strong>Answer</strong>:<br>Dirty Read, Read Committed 或更高的 Isolation 可避免 dirty read</li>
</ul>
<h6 id="以下的-MySQL-example-code-中-range-lock-範圍內的資料-InnoDB-可以讀嗎？可以寫嗎？"><a href="#以下的-MySQL-example-code-中-range-lock-範圍內的資料-InnoDB-可以讀嗎？可以寫嗎？" class="headerlink" title="以下的 MySQL example code 中, range lock 範圍內的資料 InnoDB 可以讀嗎？可以寫嗎？"></a><strong>以下的 MySQL example code 中, range lock 範圍內的資料 InnoDB 可以讀嗎？可以寫嗎？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT * FROM student WHERE height &gt;= 170 FOR UPDATE;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>如果 Isolation level 是 Serializable 的話, 不可讀不可寫<br>如果 Isolation level 是 Repeatable Read 的話, 可讀不可寫, 因為 InnoDB 的 RR Isolation 實作是採用 Snapshot Isolation, 讀取時都是讀取 Snapshot 內的資料</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-中-哪些資料會被鎖住？-會加上什麼鎖"><a href="#以下的-MySQL-example-code-中-哪些資料會被鎖住？-會加上什麼鎖" class="headerlink" title="以下的 MySQL example code 中, 哪些資料會被鎖住？ 會加上什麼鎖?"></a><strong>以下的 MySQL example code 中, 哪些資料會被鎖住？ 會加上什麼鎖?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT * FROM student WHERE height &gt;= 170 FOR UPDATE;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><strong>height &gt;= 170</strong> 的資料<br>exclusive lock</p>
</li>
</ul>
<h6 id="MySQL-中-如果一筆資料只被一個-transaction-加上-shared-lock-該-transaction-可以將此-shared-lock-升級成-exclusive-lock-嗎？"><a href="#MySQL-中-如果一筆資料只被一個-transaction-加上-shared-lock-該-transaction-可以將此-shared-lock-升級成-exclusive-lock-嗎？" class="headerlink" title="MySQL 中, 如果一筆資料只被一個 transaction 加上 shared lock, 該 transaction 可以將此 shared lock 升級成 exclusive lock 嗎？"></a><strong>MySQL 中, 如果一筆資料只被一個 transaction 加上 shared lock, 該 transaction 可以將此 shared lock 升級成 exclusive lock 嗎？</strong></h6><p>可以</p>
<h6 id="MySQL-中-當一筆資料被-1-個或-1-個以上的-transaction-加上-shared-lock-該筆資料可以被加上-exlusive-lock-嗎？"><a href="#MySQL-中-當一筆資料被-1-個或-1-個以上的-transaction-加上-shared-lock-該筆資料可以被加上-exlusive-lock-嗎？" class="headerlink" title="MySQL 中, 當一筆資料被 1 個或 1 個以上的 transaction 加上 shared lock, 該筆資料可以被加上 exlusive lock 嗎？"></a><strong>MySQL 中, 當一筆資料被 1 個或 1 個以上的 transaction 加上 shared lock, 該筆資料可以被加上 exlusive lock 嗎？</strong></h6><p>不行</p>
<h6 id="MySQL-中-同一筆資料可以同時被多個-transaction-加上-shared-lock-嗎？"><a href="#MySQL-中-同一筆資料可以同時被多個-transaction-加上-shared-lock-嗎？" class="headerlink" title="MySQL 中, 同一筆資料可以同時被多個 transaction 加上 shared lock 嗎？"></a><strong>MySQL 中, 同一筆資料可以同時被多個 transaction 加上 shared lock 嗎？</strong></h6><p>可以</p>
<h6 id="MySQL-中-當一個-transaction-取得某資料的-shared-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行寫入嗎"><a href="#MySQL-中-當一個-transaction-取得某資料的-shared-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行寫入嗎" class="headerlink" title="MySQL 中, 當一個 transaction 取得某資料的 shared lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行寫入嗎?"></a><strong>MySQL 中, 當一個 transaction 取得某資料的 shared lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行寫入嗎?</strong></h6><p>不行</p>
<h6 id="MySQL-中-當一個-transaction-取得某資料的-shared-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行讀取嗎"><a href="#MySQL-中-當一個-transaction-取得某資料的-shared-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行讀取嗎" class="headerlink" title="MySQL 中, 當一個 transaction 取得某資料的 shared lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行讀取嗎?"></a><strong>MySQL 中, 當一個 transaction 取得某資料的 shared lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行讀取嗎?</strong></h6><p>可以</p>
<h6 id="MySQL-中-當一個-transaction-取得某資料的-exclusive-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行讀取嗎"><a href="#MySQL-中-當一個-transaction-取得某資料的-exclusive-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行讀取嗎" class="headerlink" title="MySQL 中, 當一個 transaction 取得某資料的 exclusive lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行讀取嗎?"></a><strong>MySQL 中, 當一個 transaction 取得某資料的 exclusive lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行讀取嗎?</strong></h6><p>不行</p>
<h6 id="MySQL-中-當一個-transaction-取得某資料的-exclusive-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行寫入嗎"><a href="#MySQL-中-當一個-transaction-取得某資料的-exclusive-lock-在該-lock-釋放之前-其他-transaction-可以對此資料進行寫入嗎" class="headerlink" title="MySQL 中, 當一個 transaction 取得某資料的 exclusive lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行寫入嗎?"></a><strong>MySQL 中, 當一個 transaction 取得某資料的 exclusive lock, 在該 lock 釋放之前, 其他 transaction 可以對此資料進行寫入嗎?</strong></h6><p>不行</p>
<h6 id="MySQL-中-何謂-shared-lock"><a href="#MySQL-中-何謂-shared-lock" class="headerlink" title="MySQL 中, 何謂 shared lock?"></a><strong>MySQL 中, 何謂 shared lock?</strong></h6><p>當一個 transaction 取得資料的 shared lock 之後, 其他 transaction 可以 <strong>讀取</strong> 資料, 但無法 <strong>寫入</strong> 資料 </p>
<h6 id="MySQL-中-何謂-Exclusive-lock"><a href="#MySQL-中-何謂-Exclusive-lock" class="headerlink" title="MySQL 中, 何謂 Exclusive lock?"></a><strong>MySQL 中, 何謂 Exclusive lock?</strong></h6><p>當一個 transaction 取得資料的 exclusive lock 之後, 其他 transaction 無法對此資料做 <strong>讀取</strong> 以及 <strong>寫入</strong><br>例如： <code>select a from b for update</code></p>
<h6 id="以下的-MySQL-example-code-的意思是？-3"><a href="#以下的-MySQL-example-code-的意思是？-3" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlimport –user=&apos;marie_dyer&apos; --password=&apos;sevenangels&apos; \</span><br><span class="line">--replace --low-priority  --ignore-lines=&apos;1&apos; \</span><br><span class="line">--fields-enclosed-by=&apos;&quot;&apos; --fields-terminated-by=&apos;|&apos; --fields-escaped-by=&apos;\\&apos; \</span><br><span class="line">--lines-terminated-by=&apos;]\r\n&apos; \</span><br><span class="line">--columns=&apos;prospect_name, prospect_email, prospect_country&apos; \</span><br><span class="line">birdwatchers &apos;/tmp/birdwatcher_prospects_import.csv&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>基本上語法跟 LOAD DATA 是一樣的, 差別在於檔名若有 <code>-</code> 要改成 <code>_</code>, 以免 MySQL 判定為刪減符號<br>以下為 FIELDS 子句意思：</p>
</li>
</ul>
<p><strong>TERMINATED BY</strong>: 表示 <code>|</code> 為 field 跟 field 之間的間隔<br><strong>ENCLOSED BY</strong>: 表示每一個 field 的內容都會由 <code>&quot;</code> 包住<br><strong>ESCAPE BY</strong>: 標示跳脫用字元, 不過預設就是 <code>\</code>, 因此這個可省略<br>LINES 子句：<br><strong>STRINGS BY</strong>: 表示 <code>[</code> 開頭算一行的開始<br><strong>TERMINATED BY</strong>: 表示 <code>]\r\n</code> 為一行的結束, 正常 Linux 只需 <code>\n</code> 即可, 但考量到 Windows 環境, 因此多加了 <code>\r</code></p>
<h6 id="以下的-MySQL-example-code-的意思是？-4"><a href="#以下的-MySQL-example-code-的意思是？-4" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">( SELECT &apos;scientific name&apos;,&apos;common name&apos;,&apos;family name&apos; )</span><br><span class="line">UNION</span><br><span class="line">( SELECT birds.scientific_name,</span><br><span class="line">  IFNULL(common_name, &apos;&apos;),</span><br><span class="line">  bird_families.scientific_name</span><br><span class="line">  FROM rookery.birds</span><br><span class="line">  JOIN rookery.bird_families USING(family_id)</span><br><span class="line">  JOIN rookery.bird_orders USING(order_id)</span><br><span class="line">  WHERE bird_orders.scientific_name = &apos;Charadriiformes&apos;</span><br><span class="line">  ORDER BY common_name</span><br><span class="line">  INTO OUTFILE &apos;/tmp/birds-list.csv&apos;</span><br><span class="line">  FIELDS ENCLOSED BY &apos;&quot;&apos; TERMINATED BY &apos;|&apos; ESCAPED BY &apos;\\&apos;</span><br><span class="line">  LINES TERMINATED BY &apos;\n&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 SELECT INTO OUTFILE 將資料匯出, 子句部分語法跟 LOAD DATA 完全一樣<br>需使用 IFNULL 將 null 轉為空字串, 因為 INTO OUTFILE 預設會將 null 轉為 n<br>以下為 FIELDS 子句意思：</p>
</li>
</ul>
<p><strong>TERMINATED BY</strong>: 表示 <code>|</code> 為 field 跟 field 之間的間隔<br><strong>ENCLOSED BY</strong>: 表示每一個 field 的內容都會由 <code>&quot;</code> 包住<br><strong>ESCAPE BY</strong>: 標示跳脫用字元, 不過預設就是 <code>\</code>, 因此這個可省略<br>LINES 子句：<br><strong>STRINGS BY</strong>: 表示 <code>[</code> 開頭算一行的開始<br><strong>TERMINATED BY</strong>: 表示 <code>]\r\n</code> 為一行的結束, 正常 Linux 只需 <code>\n</code> 即可, 但考量到 Windows 環境, 因此多加了 <code>\r</code></p>
<h6 id="MySQL-中-如果目標-server-並不支援-LOAD-DATA-INFILE-那有什麼解法？"><a href="#MySQL-中-如果目標-server-並不支援-LOAD-DATA-INFILE-那有什麼解法？" class="headerlink" title="MySQL 中, 如果目標 server 並不支援 LOAD DATA INFILE, 那有什麼解法？"></a><strong>MySQL 中, 如果目標 server 並不支援 LOAD DATA INFILE, 那有什麼解法？</strong></h6><p>找一台有支援的使用 LOAD DATA 匯入後, 在匯出 mysqldump file, 再到目標 server 上復原 from mysqldump file</p>
<h6 id="MySQL-中-如果遠端登入使用-LOAD-DATA-匯入檔案操作-在-server-端跟-client-端都要開啟哪一個選項？"><a href="#MySQL-中-如果遠端登入使用-LOAD-DATA-匯入檔案操作-在-server-端跟-client-端都要開啟哪一個選項？" class="headerlink" title="MySQL 中, 如果遠端登入使用 LOAD DATA 匯入檔案操作, 在 server 端跟 client 端都要開啟哪一個選項？"></a><strong>MySQL 中, 如果遠端登入使用 LOAD DATA 匯入檔案操作, 在 server 端跟 client 端都要開啟哪一個選項？</strong></h6><p>local-infile=1</p>
<h6 id="以下的-MySQL-example-code-的意思是？-5"><a href="#以下的-MySQL-example-code-的意思是？-5" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">## csv 格式範例：</span><br><span class="line">[&quot;prospect name&quot;|&quot;prospect email&quot;|&quot;prospect country&quot;]</span><br><span class="line">[&quot;Mr. Bogdan Kecman&quot;|&quot;bodgan\@kecman-birds.com&quot;|&quot;Serbia&quot;]</span><br><span class="line">[&quot;Ms. Sveta Smirnova&quot;|&quot;bettasveta\@gmail.com&quot;|&quot;Russia&quot;]</span><br><span class="line">[&quot;Mr. Collin Charles&quot;|&quot;callincollin\@gmail.com&quot;|&quot;Malaysia&quot;]</span><br><span class="line">[&quot;Ms. Sveta A. Smirnova&quot;|&quot;bettasveta\@gmail.com&quot;|&quot;Russia&quot;]</span><br><span class="line"></span><br><span class="line">## SQL 範例</span><br><span class="line">LOAD DATA INFILE &apos;/tmp/birdwatcher-prospects.csv&apos;</span><br><span class="line">INTO TABLE birdwatchers.birdwatcher_prospects_import</span><br><span class="line">FIELDS TERMINATED BY &apos;|&apos; ENCLOSED BY &apos;&quot;&apos; ESCAPED BY &apos;\\&apos;</span><br><span class="line">LINES STARTING BY &apos;[&apos; TERMINATED BY &apos;]\r\n&apos;</span><br><span class="line">IGNORE 1 LINES</span><br><span class="line">(prospect_name, prospect_email, prospect_country);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Answer</strong>:<br>從 csv 檔讀取資料並匯入 database.table</li>
</ul>
<p><strong>FIELD TERMINATED BY</strong>: field 跟 field 之間由 <code>,</code> 區隔開來<br><strong>OPTIONALLY</strong>: 有則處理, 沒有則不執行<br><strong>ENCLOSED BY</strong>: 使用 <code>ENCLOSED BY &#39;&quot;&#39;</code>, 當 <code>&quot; (doube quote)</code> 有出現時, 會將兩個 <code>&quot; (double quote)</code> 之間的內容視為一個 column 的內容, 若沒出現則不使用, 為了應付某些 filed 的內容其實是 text, 會用 <code>&quot; (double quote)</code> 包住, 但內容有許多 <code>,(comma)</code><br><strong>IGNORE 1 LINES</strong>: 表示忽略第一行, 因為第一行是 field name, 我們並不會用到<br><strong>@niente</strong>: 因為 csv 檔中某些欄位的資料我們並不需要, 因此在建立 table 時只需要建立我們需要的 column, 在匯入時, 將沒用到的 fieldd 按照 csv 上的順序標示為 <code>@niente</code> (只要是變數就行, 名稱不重要), 這樣就不會將資料匯入啦<br><strong>@family, SET family</strong>: 可以在 LOAD DATA 的過程中, 針對 csv 上特定的 column 做處理, 匯入完成後就已經會是處理好的</p>
<h6 id="以下的-MySQL-example-code-的意思是？-6"><a href="#以下的-MySQL-example-code-的意思是？-6" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">LOAD DATA INFILE &apos;/tmp/Clements-Checklist-6.9-final.csv&apos;</span><br><span class="line">INTO TABLE rookery.clements_list_import</span><br><span class="line">FIELDS TERMINATED BY &apos;,&apos; OPTIONALLY ENCLOSED BY &apos;&quot;&apos;</span><br><span class="line">IGNORE 1 LINES;</span><br><span class="line">(id, change_type, @niente, @niente,</span><br><span class="line">scientific_name, english_name,</span><br><span class="line">@niente, bird_order, @family, @niente,</span><br><span class="line">@niente, @niente, @niente, @niente,</span><br><span class="line">@niente, @niente, @niente, @niente);</span><br><span class="line">SET family = SUBSTRING(@family, 1, LOCATE(&apos; (&apos;, @family) );</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 csv 檔讀取資料並匯入 database.table<br><strong>FIELD TERMINATED BY</strong>: field 跟 field 之間由 <code>,</code> 區隔開來<br><strong>OPTIONALLY</strong>: 有則處理, 沒有則不執行<br><strong>ENCLOSED BY</strong>: 使用 <code>ENCLOSED BY &#39;&quot;&#39;</code>, 當 <code>&quot; (doube quote)</code> 有出現時, 會將兩個 <code>&quot; (double quote)</code> 之間的內容視為一個 column 的內容, 若沒出現則不使用, 為了應付某些 filed 的內容其實是 text, 會用 <code>&quot; (double quote)</code> 包住, 但內容有許多 <code>,(comma)</code><br><strong>IGNORE 1 LINES</strong>: 表示忽略第一行, 因為第一行是 field name, 我們並不會用到<br><strong>@niente</strong>: 因為 csv 檔中某些欄位的資料我們並不需要, 因此在建立 table 時只需要建立我們需要的 column, 在匯入時, 將沒用到的 fieldd 按照 csv 上的順序標示為 <code>@niente</code> (只要是變數就行, 名稱不重要), 這樣就不會將資料匯入啦<br><strong>@family, SET family</strong>: 可以在 LOAD DATA 的過程中, 針對 csv 上特定的 column 做處理, 匯入完成後就已經會是處理好的</p>
</li>
</ul>
<h6 id="使用-MySQL-時-當遇到-warning-時-如何顯示-warning"><a href="#使用-MySQL-時-當遇到-warning-時-如何顯示-warning" class="headerlink" title="使用 MySQL 時, 當遇到 warning 時, 如何顯示 warning?"></a><strong>使用 MySQL 時, 當遇到 warning 時, 如何顯示 warning?</strong></h6><figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW WARNINGS;</span><br></pre></td></tr></table></figure>

<h6 id="以下的-MySQL-example-code-的意思是？-7"><a href="#以下的-MySQL-example-code-的意思是？-7" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">LOAD DATA INFILE &apos;/tmp/Clements-Checklist-6.9-final.csv&apos;</span><br><span class="line">INTO TABLE rookery.clements_list_import</span><br><span class="line">FIELDS TERMINATED BY &apos;,&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>讀取 csv 檔並 insert 到指定 database.table, 以 <code>,</code> 為 filed 跟 field 之間的分隔點</p>
</li>
</ul>
<h6 id="MySQL-中-當我在-CREATE-TABLE-時-如果-column-name-可能是-MySQL-的保留字-那我要用什麼符號將-column-name-包住？"><a href="#MySQL-中-當我在-CREATE-TABLE-時-如果-column-name-可能是-MySQL-的保留字-那我要用什麼符號將-column-name-包住？" class="headerlink" title="MySQL 中, 當我在 CREATE TABLE 時, 如果 column name 可能是 MySQL 的保留字, 那我要用什麼符號將 column name 包住？"></a><strong>MySQL 中, 當我在 CREATE TABLE 時, 如果 column name 可能是 MySQL 的保留字, 那我要用什麼符號將 column name 包住？</strong></h6><p><em>` `</em> (backquote) 符號</p>
<h6 id="MySQL-中-若要執行-LOCK-TABLE-需先把哪一個選項關閉-以避免-LOCK-TABLE-與-TRANSACTION-相互影響？"><a href="#MySQL-中-若要執行-LOCK-TABLE-需先把哪一個選項關閉-以避免-LOCK-TABLE-與-TRANSACTION-相互影響？" class="headerlink" title="MySQL 中, 若要執行 LOCK TABLE, 需先把哪一個選項關閉, 以避免 LOCK TABLE 與 TRANSACTION 相互影響？"></a><strong>MySQL 中, 若要執行 LOCK TABLE, 需先把哪一個選項關閉, 以避免 LOCK TABLE 與 TRANSACTION 相互影響？</strong></h6><p>AUTOCOMMIT</p>
<h6 id="MySQL-中-目前-innoDB-是如何處理死鎖的？"><a href="#MySQL-中-目前-innoDB-是如何處理死鎖的？" class="headerlink" title="MySQL 中, 目前 innoDB 是如何處理死鎖的？"></a><strong>MySQL 中, 目前 innoDB 是如何處理死鎖的？</strong></h6><p>將持有最少行級排他鎖的 transaction rollback</p>
<h6 id="以下的-MySQL-example-code-中-當兩個-transaction-同時執行時-很可能會產生哪一種問題？"><a href="#以下的-MySQL-example-code-中-當兩個-transaction-同時執行時-很可能會產生哪一種問題？" class="headerlink" title="以下的 MySQL example code 中, 當兩個 transaction 同時執行時, 很可能會產生哪一種問題？"></a><strong>以下的 MySQL example code 中, 當兩個 transaction 同時執行時, 很可能會產生哪一種問題？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">事務1</span><br><span class="line">    START TRANSACTION;</span><br><span class="line">    UPDATE StockPrice SET close = 45.50 WHERE stock_id = 4 and date = &apos;2002-05-01&apos;;</span><br><span class="line">    UPDATE StockPrice SET close = 19.80 WHERE stock_id = 3 and date = &apos;2002-05-02&apos;;</span><br><span class="line">    COMMIT;</span><br><span class="line">事務2</span><br><span class="line">    START TRANSACTION;</span><br><span class="line">    UPDATE StockPrice SET high = 20.12 WHERE stock_id = 3 and date = &apos;2002-05-02&apos;;</span><br><span class="line">    UPDATE StockPrice SET high = 47.20 WHERE stock_id = 4 and date = &apos;2002-05-01&apos;;</span><br><span class="line">    COMMIT;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>死鎖, 即事務 1, 2 同時執行了第一條 update, 這時第一句 update 作用的 row 已被鎖住, 而當事務 1, 2 嘗試執行第二句 update 時, 發現該 row 已被鎖住, 彼此都在等對方釋放鎖, 故又稱為死鎖</p>
</li>
</ul>
<h6 id="以下的-MySQL-形容-屬於-ACID-中的哪一種？"><a href="#以下的-MySQL-形容-屬於-ACID-中的哪一種？" class="headerlink" title="以下的 MySQL 形容, 屬於 ACID 中的哪一種？"></a><strong>以下的 MySQL 形容, 屬於 ACID 中的哪一種？</strong></h6><ul>
<li><strong>Example</strong>:<br>一旦事務提交，則其所做的修改就會永久保存到數據庫中。此時即使系統崩潰，修改的數據也不會丟失。持久性是個有點模糊的概念，因為實際上持久性也分很多不同的級別。有些持久性策略能夠提供非常強的安全保障，而有些則未必。而且不可能有能做到100％的持久性保證的策略（如果數據庫本身就能做到真正的持久性，那麼備份又怎麼能增加持久性呢？）</li>
<li><strong>Answer</strong>:<br>durability (持久性)</li>
</ul>
<h6 id="以下的-MySQL-形容-屬於-ACID-中的哪一種？-1"><a href="#以下的-MySQL-形容-屬於-ACID-中的哪一種？-1" class="headerlink" title="以下的 MySQL 形容, 屬於 ACID 中的哪一種？"></a><strong>以下的 MySQL 形容, 屬於 ACID 中的哪一種？</strong></h6><ul>
<li><strong>Example</strong>:<br>通常來說，一個事務所做的修改在最終提交以前，對其他事務是不可見的</li>
<li><strong>Answer</strong>:<br>isolation (隔離性)</li>
</ul>
<h6 id="以下的-MySQL-形容-屬於-ACID-中的哪一種？-2"><a href="#以下的-MySQL-形容-屬於-ACID-中的哪一種？-2" class="headerlink" title="以下的 MySQL 形容, 屬於 ACID 中的哪一種？"></a><strong>以下的 MySQL 形容, 屬於 ACID 中的哪一種？</strong></h6><ul>
<li><strong>Example</strong>:<br>數據庫總是從一個一致性的狀態轉換到另外一個一致性的狀態。在前面的例子中，一致性確保了，即使在執行第三、四條語句之間時系統崩潰，支票賬戶中也不會損失200美元，因為事務最終沒有提交，所以事務中所做的修改也不會保存到數據庫中。</li>
<li><strong>Answer</strong>:<br>consistency (一致性)</li>
</ul>
<h6 id="以下的-MySQL-形容-屬於-ACID-中的哪一種？-3"><a href="#以下的-MySQL-形容-屬於-ACID-中的哪一種？-3" class="headerlink" title="以下的 MySQL 形容, 屬於 ACID 中的哪一種？"></a><strong>以下的 MySQL 形容, 屬於 ACID 中的哪一種？</strong></h6><ul>
<li><strong>Example</strong>:<br>一個事務必須被視為一個不可分割的最小工作單元，整個事務中的所有操作要麼全部提交成功，要麼全部失敗回滾，對於一個事務來說，不可能只執行其中的一部分操作</li>
<li><strong>Answer</strong>:<br>atomicity (原子性)</li>
</ul>
<h6 id="MySQL-中的-ACID-分別是哪四種特性？"><a href="#MySQL-中的-ACID-分別是哪四種特性？" class="headerlink" title="MySQL 中的 ACID, 分別是哪四種特性？"></a><strong>MySQL 中的 ACID, 分別是哪四種特性？</strong></h6><p>atomicity (原子性)<br>consistency (一致性)<br>isolation (隔離性)<br>durability (持久性)</p>
<h6 id="以下的-MySQL-Image-是？？"><a href="#以下的-MySQL-Image-是？？" class="headerlink" title="以下的 MySQL Image 是？？"></a><strong>以下的 MySQL Image 是？？</strong></h6><ul>
<li><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3f8F7UIcwsl1kqV9s8A-iZ62JiTHlM4hYJCsrvNeyVmTS_UlzKN97od8Ii-JRNAfYH5aH7xP5TopMTZdN-5YiNeWoI5q3_ptgXzreCB1EqaOlNi22_meBIrlSkRhCDb5zLE2IH2yeZlB6trQKVSyv8zYA=w1559-h744-no?authuser=0"></li>
<li><strong>Answer</strong>:<br>MySQL 邏輯架構圖</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-8"><a href="#以下的-MySQL-example-code-的意思是？-8" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlbinlog --database=rookery  --start-position=&quot;1284889&quot; --to-last-log \</span><br><span class="line">            binaryLogAbsoluteLocation |</span><br><span class="line">            mysql --user=userName --password</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 binary log 備份中, 從 position 1284889 開始復原, 直到最後一個 log, 復原範圍有包含 1284889</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-9"><a href="#以下的-MySQL-example-code-的意思是？-9" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlbinlog --database=databaseName--stop-position=&quot;1258707&quot; \</span><br><span class="line">             binaryLogAbsoluteLocation |</span><br><span class="line">             mysql --user=userName --password</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 binary log 備份中, 復原到 position 1258707, 復原範圍不包含 1258707</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-10"><a href="#以下的-MySQL-example-code-的意思是？-10" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># at 1258707</span><br><span class="line">#140916 13:10:24 server id 1 end_log_pos 1258778 </span><br><span class="line">Query thread_id=382 exec_time=0 error_code=0</span><br><span class="line">SET TIMESTAMP=1410887424/*!*/;</span><br><span class="line">SET @@session.sql_mode=0/*!*/;</span><br><span class="line"></span><br><span class="line">BEGIN</span><br><span class="line">/*!*/;</span><br><span class="line"></span><br><span class="line"># at 1258778</span><br><span class="line">#140916 13:10:24 server id 1 end_log_pos 1258900 </span><br><span class="line">Query thread_id=382 exec_time=0 error_code=0</span><br><span class="line">use `rookery`/*!*/;</span><br><span class="line">SET TIMESTAMP=1410887424/*!*/;</span><br><span class="line"></span><br><span class="line">DELETE FROM birds_simple WHERE common_name LIKE &apos;%Blue%&apos;</span><br><span class="line">/*!*/;</span><br><span class="line"></span><br><span class="line"># at 1258900</span><br><span class="line">#140916 13:10:24 server id 1 end_log_pos 1258927 Xid = 45248</span><br><span class="line"></span><br><span class="line">COMMIT/*!*/;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>binary log 中的一次 transaction 的紀錄, 1258707 為起點, 1258900 為終點, 1258927 為下一個起點</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-11"><a href="#以下的-MySQL-example-code-的意思是？-11" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqlbinlog --database=databaseName \</span><br><span class="line">            /binaryLogAbsoluteLocation &gt; whateverNameYouLike.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>將 binary log 匯出成 txt 檔, 方便手動尋找 position</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-12"><a href="#以下的-MySQL-example-code-的意思是？-12" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dLHgEznBsXr7t-82j2rYygjpH1OHPP0bZCGAqyJ5WQFhUTvuc0_niupQiQAqC_vQustP5808xVodm9edAGaMUkzw_VQXiCF54XsSSSPmb3_3z38vlhj1AAKAh3LQfQXcy4xw9CUOMFHm3TWUURcUfWfQ=w554-h172-no?authuser=0"></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW VARIABLES WHERE Variable_Name LIKE &apos;datadir&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>取得實際檔案存放位置</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-13"><a href="#以下的-MySQL-example-code-的意思是？-13" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eCOB4piETTlFOeCde2FZYK5Pvg5nEZtsfQO-EFuQkSf14JOwJafQQdkQzrIlrzHiPPmyuS0YI00jSXOmCxephH3nA0-IQXRKUvWXMplnGbDs-beIAPokuysuWARL7r24FXEkICxpWctx1uSqN2El5YXA=w1980-h262-no?authuser=0"></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW MASTER STATUS;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>顯示當前的 binary log</p>
</li>
</ul>
<p><strong>Binlog_Do_DB</strong>: 指定哪些資料庫才要記錄到 binary log<br><strong>Binlog_Ignore_DB</strong>: 指定哪些資料庫不要記錄到 binary log<br><strong>Executed_Gtid_Set</strong>: 已經執行的 transaction 編號</p>
<h6 id="MySQL-中-何謂-DDL"><a href="#MySQL-中-何謂-DDL" class="headerlink" title="MySQL 中, 何謂 DDL?"></a><strong>MySQL 中, 何謂 DDL?</strong></h6><p>Data Definition Language, 例如 CREATE, DROP, ALTER</p>
<h6 id="以下的-MySQL-example-code-的意思是？-14"><a href="#以下的-MySQL-example-code-的意思是？-14" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW BINARY LOGS</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>顯示 binary log 是否有啟動<br>若有則顯示 log<br>若無則返回錯誤 <code>ERROR 1381 (HY000): You are not using binary logging</code></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是？-15"><a href="#以下的-MySQL-example-code-的意思是？-15" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">log-bin</span><br><span class="line">binlog-ignore-db=mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>啟動 binary log 功能<br>不 log mysql 這個 table, 安全考量</p>
</li>
</ul>
<h6 id="MySQL-中-如果我想要從一個-dump-file-中只復原一部分的-table-該怎麼做？"><a href="#MySQL-中-如果我想要從一個-dump-file-中只復原一部分的-table-該怎麼做？" class="headerlink" title="MySQL 中, 如果我想要從一個 dump file 中只復原一部分的 table, 該怎麼做？"></a><strong>MySQL 中, 如果我想要從一個 dump file 中只復原一部分的 table, 該怎麼做？</strong></h6><p>  修改 dump file, 只留下開頭, 結尾變數, 以及需要的 table 段落<br>  或是修改 create database, 改成一個臨時的 database name, 匯出後在從該臨時 database 中取出資料, 完成後再刪掉該 temporary database<br>  或是賦予一個臨時使用者該 table 的權限, 讓這個使用者去執行 restore</p>
<h6 id="以下的-MySQL-example-code-的意思是？-16"><a href="#以下的-MySQL-example-code-的意思是？-16" class="headerlink" title="以下的 MySQL example code 的意思是？"></a><strong>以下的 MySQL example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqldump --user=admin_backup --password --lock-tables \</span><br><span class="line">          --databases rookery --tables birds &gt; birds-humans.sql</span><br><span class="line"></span><br><span class="line">mysqldump --user=admin_backup --password --lock-tables \</span><br><span class="line">          --databases birdwatchers --tables humans &gt;&gt; birds-humans.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>備份兩個資料庫的不同資料表, 但只產生一個 dump file</p>
</li>
</ul>
<h6 id="以下的-shell-script-的意思是"><a href="#以下的-shell-script-的意思是" class="headerlink" title="以下的 shell script 的意思是?"></a><strong>以下的 shell script 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">my_user=<span class="hljs-string">'admin_back'</span></span><br><span class="line">my_pwd=<span class="hljs-string">'my_silly_password'</span></span><br><span class="line"></span><br><span class="line">db1=<span class="hljs-string">'rookery'</span></span><br><span class="line">db2=<span class="hljs-string">'birdwatchers'</span></span><br><span class="line"></span><br><span class="line">date_today=$(date +%Y-%m-%d)</span><br><span class="line"></span><br><span class="line">backup_dir=<span class="hljs-string">'/data/backup/'</span></span><br><span class="line">dump_file=<span class="hljs-variable">$db1</span>-<span class="hljs-variable">$db2</span>-<span class="hljs-variable">$date_today</span><span class="hljs-string">'.sql'</span></span><br><span class="line"></span><br><span class="line">/usr/bin/mysqldump --user=<span class="hljs-variable">$my_usr</span> --password=<span class="hljs-variable">$my_pwd</span> --lock-tables \</span><br><span class="line">                   --databases <span class="hljs-variable">$db1</span> <span class="hljs-variable">$db2</span> &gt; <span class="hljs-variable">$backup_dir</span><span class="hljs-variable">$dump_file</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">exit</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>備份 MySQL Database 的 script</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是"><a href="#以下的-MySQL-example-code-的意思是" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">LOCK TABLES `bird_families` WRITE;</span><br><span class="line"></span><br><span class="line">/*!40000 ALTER TABLE `bird_families` DISABLE KEYS */;</span><br><span class="line"></span><br><span class="line">INSERT INTO `bird_families` VALUES</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/*!40000 ALTER TABLE `bird_families` ENABLE KEYS */;</span><br><span class="line"></span><br><span class="line">UNLOCK TABLES;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>通常還原資料, 在執行 INSERT 敘述時, 會先 DISABLE KEYS, 等到 INSERT 都完成後, 再 ENABLE KEYS, 這樣的效率會比 INSERT 時一筆筆的 INSERT INDEX 來得好</p>
</li>
</ul>
<h6 id="MySQL-dump-復原資料時-預設會覆蓋掉原本存在的資料嗎？"><a href="#MySQL-dump-復原資料時-預設會覆蓋掉原本存在的資料嗎？" class="headerlink" title="MySQL dump 復原資料時, 預設會覆蓋掉原本存在的資料嗎？"></a><strong>MySQL dump 復原資料時, 預設會覆蓋掉原本存在的資料嗎？</strong></h6><p>會哦, 因為會先 drop 現存的同名 table, 再 insert</p>
<h6 id="以下的-MySQL-example-code-的意思是-1"><a href="#以下的-MySQL-example-code-的意思是-1" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqldump --user=specifiedUserAndHostName \</span><br><span class="line">          --password --lock-all-tables </span><br><span class="line">          --all-databases &gt; /preferredLocationAndFileName.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><strong>–user</strong>: 要求 mysqlsump 使用 <code>admin_backup</code> 這個帳號與 MySQL Server 互動<br><strong>–password</strong>: 指定使用帳號的密碼<br><strong>–lock-all-tables</strong>: 在開始備份前, 先把所有資料表鎖定<br><strong>–all-databases</strong>: 指定匯出所有資料庫</p>
</li>
</ul>
<h6 id="以下位於-dump-檔的-MySQL-example-code-的意思是"><a href="#以下位於-dump-檔的-MySQL-example-code-的意思是" class="headerlink" title="以下位於 dump 檔的 MySQL example code 的意思是?"></a><strong>以下位於 dump 檔的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><strong>*!40101</strong>: 當 MySQL 版本在 4.01.01 以上時, 該行指令才會執行<br>設定一個變數 @OLD_CHARACTER_SET_CLIENT, 並將目前的通用變數 <code>CHARACTER_SET_CLIENT</code> 儲存起來</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-2"><a href="#以下的-MySQL-example-code-的意思是-2" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">GRANT &apos;roleName&apos; TO &apos;userName&apos;@&apos;hostName&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>賦予使用者 Role 權限</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-3"><a href="#以下的-MySQL-example-code-的意思是-3" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE ROLE &apos;roleName&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立 Role, 可賦予 Role 權限, 在賦予使用者 Role</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-4"><a href="#以下的-MySQL-example-code-的意思是-4" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SET ROLE &apos;admin_import_role&apos;;</span><br><span class="line"></span><br><span class="line">LOAD DATA INFILE</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">SET ROLE NONE;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>當該使用者有被賦予該 Role 時, 可切換該 Role<br>執行完權限後, 登出 Role</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-5"><a href="#以下的-MySQL-example-code-的意思是-5" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">RENAME USER &apos;lena_stankoska&apos;@&apos;lena_stankoska_home&apos;</span><br><span class="line">TO &apos;lena&apos;@&apos;stankoskahouse.com&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>重新命名使用者帳號</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-6"><a href="#以下的-MySQL-example-code-的意思是-6" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW PROCESSLIST;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>當我們刪除一個使用者後, 如果該使用者在當下仍與 Server 處於一個連線狀態中, 那該使用者依然可以對資料庫進行操作, 這時可以透過 SHOW PROCESSLIST 列出連線, 並使用 <code>kill processId</code> 刪除該連線<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eITBPO8i_Eaq2_BvUbQNGY-rY5vbz9kVaNMCkotQXVIUkzjkjh6t0y1UI_gH04U9JrBvLNX8fSKCmBYx_5nMG9RV6mGCWg50y4g8XZoqqF4HyruWRhd9Mowml7yKFOmZl3d_PP49EmQtgbzJt2h-Qzvw=w2940-h374-no?authuser=2"></p>
</li>
</ul>
<h6 id="MySQL-中-當我刪除一個使用者後-如果該使用者在當下仍跟-Server-處於連線狀態-該使用者還能操作資料庫嗎？"><a href="#MySQL-中-當我刪除一個使用者後-如果該使用者在當下仍跟-Server-處於連線狀態-該使用者還能操作資料庫嗎？" class="headerlink" title="MySQL 中, 當我刪除一個使用者後, 如果該使用者在當下仍跟 Server 處於連線狀態, 該使用者還能操作資料庫嗎？"></a><strong>MySQL 中, 當我刪除一個使用者後, 如果該使用者在當下仍跟 Server 處於連線狀態, 該使用者還能操作資料庫嗎？</strong></h6><p>  可以</p>
<h6 id="以下的-MySQL-example-code-的意思是-7"><a href="#以下的-MySQL-example-code-的意思是-7" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">REVOKE ALL PRIVILEGES</span><br><span class="line">ON rookery.*</span><br><span class="line">FROM &apos;michael_stone&apos;@&apos;localhost&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 REVOKE 語法, 從 <code>&#39;michael_stone@localhost&#39;</code> user 身上收回 rookery 資料庫的所有的權限</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-8"><a href="#以下的-MySQL-example-code-的意思是-8" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON rookery.*</span><br><span class="line">TO &apos;admin_granter&apos;@&apos;localhost&apos;</span><br><span class="line">IDENTIFIED BY &apos;avocet_123&apos;</span><br><span class="line">WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">GRANT ALL PRIVILEGES ON birdwatchers.*</span><br><span class="line">TO &apos;admin_granter&apos;@&apos;localhost&apos;</span><br><span class="line">IDENTIFIED BY &apos;avocet_123&apos;</span><br><span class="line">WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>透過 <strong>WITH GRANT OPTION</strong> 語法, 可以將自身擁有的權限賦予給其他帳號</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-9"><a href="#以下的-MySQL-example-code-的意思是-9" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE USER &apos;admin_import&apos;@&apos;localhost&apos;</span><br><span class="line">IDENTIFIED BY &apos;another_pwd_789&apos;;</span><br><span class="line"></span><br><span class="line">GRANT FILE ON *.*</span><br><span class="line">TO &apos;admin_import&apos;@&apos;localhost&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立一個可從檔案匯入資料的帳號, 擁有權限的帳號相當於可以讀取 MySQL 在主機上有權觸及的任何檔案, 並且可以把資料匯入到任何一個資料庫, 反之, 也可從資料庫會出資料, 甚至是含有密碼的資料庫</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-10"><a href="#以下的-MySQL-example-code-的意思是-10" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE USER &apos;admin_restore&apos;@&apos;localhost&apos;</span><br><span class="line">IDENTIFIED BY &apos;different_pwd_456&apos;;</span><br><span class="line"></span><br><span class="line">GRANT INSERT, LOCK TABLES, CREATE,</span><br><span class="line">CREATE TEMPORARY TABLES, INDEX, ALTER</span><br><span class="line">ON rookery.*</span><br><span class="line">TO &apos;admin_restore&apos;@&apos;localhost&apos;;</span><br><span class="line"></span><br><span class="line">GRANT INSERT, LOCK TABLES, CREATE,</span><br><span class="line">CREATE TEMPORARY TABLES, INDEX, ALTER</span><br><span class="line">ON birdwatchers.*</span><br><span class="line">TO &apos;admin_restore&apos;@&apos;localhost&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立一個專門還原備份資料的使用者<br>要從 dump file 復原, 所以必須要具有 INSERT 權限<br>復原時為了能鎖定資料表, 因此需要 LOCK TABLES 權限<br>要重建資料表, 因此需要 CREATE 權限<br>要重建 index, 因此需要 INDEX 權限<br>dump 內的 SQL 敘述可能會修改資料表, 因此需要 ALTER 權限<br>如果想把資料還原至臨時資料表, 那就需要 CREATE TEMPORARY TABLES 權限<br>如果還有包含 TRIGGER 或 VIEW, 那就要加上 CREATE VIEW 和 TRIGGER 權限</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-11"><a href="#以下的-MySQL-example-code-的意思是-11" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE USER &apos;admin_backup&apos;@&apos;localhost&apos;</span><br><span class="line">IDENTIFIED BY &apos;its_password_123&apos;;</span><br><span class="line"></span><br><span class="line">GRANT SELECT, LOCK TABLES</span><br><span class="line">ON rookery.*</span><br><span class="line">TO &apos;admin_backup&apos;@&apos;localhost&apos;;</span><br><span class="line"></span><br><span class="line">GRANT SELECT, LOCK TABLES</span><br><span class="line">ON birdwatchers.*</span><br><span class="line">TO &apos;admin_backup&apos;@&apos;localhost&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立一個管理備份用的帳號, 賦予 SELECT 權限, 所以可讀取資料庫, 因為在備份的過程中必須 lock table, 所以賦予 LOCK TABLES 權限, 只限定特定資料庫</p>
</li>
</ul>
<h6 id="以下的-Shell-script-example-code-的意思是"><a href="#以下的-Shell-script-example-code-的意思是" class="headerlink" title="以下的 Shell script example code 的意思是?"></a><strong>以下的 Shell script example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">mysql_connect=&quot;mysql --user root -pmy_pwd&quot;</span><br><span class="line"></span><br><span class="line">results=`$mysql_connect --skip-column-names \</span><br><span class="line">         --execute &apos;SHOW TABLES FROM birdwatchers;&apos;`</span><br><span class="line"></span><br><span class="line">items=$(echo $results | tr &quot; &quot; &quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">for item in $items</span><br><span class="line">do</span><br><span class="line"></span><br><span class="line">  if [ $item = &apos;humans&apos; ] ||</span><br><span class="line">     [ $item = &apos;birder_families&apos; ] ||</span><br><span class="line">     [ $item = &apos;birding_events_children&apos; ]</span><br><span class="line">  then</span><br><span class="line">    continue</span><br><span class="line">  fi</span><br><span class="line"></span><br><span class="line">  `$mysql_connect --execute &quot;GRANT SELECT ON birdwatchers.$item \</span><br><span class="line">                             TO &apos;lena_stankoska&apos;@&apos;lena_stankoska_home&apos;&quot;`</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>由於 MySQL 中, 如果要 GRANT 特定權限給特定 table 必須要一個一個指定, 所以使用 shell script 來批量 GRANT</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-12"><a href="#以下的-MySQL-example-code-的意思是-12" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT COLUMN_GET(choices, answer AS CHAR)</span><br><span class="line">  AS &apos;Birding Site&apos;,</span><br><span class="line">COUNT(*) AS &apos;Votes&apos;,</span><br><span class="line">CONCAT( TRUNCATE( (COUNT(*) / @fav_site_total) * 100, 1), &apos;%&apos;)</span><br><span class="line">  AS &apos;Percent&apos;</span><br><span class="line">FROM survey_answers</span><br><span class="line">JOIN survey_questions USING(question_id)</span><br><span class="line">WHERE survey_id = 1</span><br><span class="line">AND question_id = 1</span><br><span class="line">GROUP BY answer;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>TRUNCATE() 的 arg1 表示要處理的 input, arg2 表示小數位 1 位之後都要拿掉</p>
</li>
</ul>
<h6 id="以下的-MySQL-function-的差異是"><a href="#以下的-MySQL-function-的差異是" class="headerlink" title="以下的 MySQL function 的差異是?"></a><strong>以下的 MySQL function 的差異是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ROUND()</span><br><span class="line">FLOOR()</span><br><span class="line">CEILING()</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>四捨五入, 無條件捨去, 無條件進位</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-13"><a href="#以下的-MySQL-example-code-的意思是-13" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT COLUMN_GET(choices, answer AS CHAR)</span><br><span class="line">  AS &apos;Birding Site&apos;,</span><br><span class="line">COUNT(*) AS &apos;Votes&apos;,</span><br><span class="line">(COUNT(*) / @fav_site_total) AS &apos;Percent&apos;</span><br><span class="line">FROM survey_answers</span><br><span class="line">JOIN survey_questions USING(question_id)</span><br><span class="line">WHERE survey_id = 1</span><br><span class="line">AND question_id = 1</span><br><span class="line">GROUP BY answer;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>@fav_site_total 為 variable, 需事先定義</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-14"><a href="#以下的-MySQL-example-code-的意思是-14" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SET @fav_site_total =</span><br><span class="line">(SELECT COUNT(*)</span><br><span class="line">FROM survey_answers</span><br><span class="line">JOIN survey_questions USING(question_id)</span><br><span class="line">WHERE survey_id = 1</span><br><span class="line">AND question_id = 1);</span><br><span class="line"></span><br><span class="line">SELECT @fav_site_total;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>@fav_site_total 為變數, assign 一段 SQL query</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-15"><a href="#以下的-MySQL-example-code-的意思是-15" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT IFNULL(COLUMN_GET(choices, answer AS CHAR), &apos;total&apos;)</span><br><span class="line">AS &apos;Birding Site&apos;, COUNT(*) AS &apos;Votes&apos;</span><br><span class="line">FROM survey_answers</span><br><span class="line">JOIN survey_questions USING(question_id)</span><br><span class="line">WHERE survey_id = 1</span><br><span class="line">AND question_id = 1</span><br><span class="line">GROUP BY answer WITH ROLLUP;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 COLUMN_GET(), 從 choices column 取值。 其為 MariaDB 的 blob data type, 可以存多組 key/value, 並且取值時要指定型別</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-16"><a href="#以下的-MySQL-example-code-的意思是-16" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT NOW(), event_date, start_time,</span><br><span class="line">CONCAT(</span><br><span class="line">   DATEDIFF(event_date, DATE(NOW())), &apos; Days, &apos;,</span><br><span class="line">   DATE_FORMAT(TIMEDIFF(start_time, TIME(NOW())), &apos;%k hours, %i minutes&apos;))</span><br><span class="line">   AS &apos;Time to Event&apos;</span><br><span class="line">FROM birding_events;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 DATEDIFF() 取得 <strong>event_date</strong> 以及 <strong>NOW()</strong> 的差異天數<br>使用 TIMEDIFF() 將 start_time 以及現在的時間的差異 <strong>小時, 分鐘</strong> 取出<br>再使用 CONCAT 串起來<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dnV6FOj-6J3wQ-FDwa2S46j11ngndzbvAaG03B6HA7oQrTP1xyyDigAyt4L-qgZWdgSAiG9JPg3DSEETU8rqnl7q5dTdUysgbXBYqh2ZMJHvKie7t4eFJWbbST28-cRH7DzQpkmhskx7zx2wI4tS8w7Q=w1350-h150-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-17"><a href="#以下的-MySQL-example-code-的意思是-17" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CURDATE() AS &apos;Today&apos;,</span><br><span class="line">DATE_FORMAT(membership_expiration, &apos;%M %e, %Y&apos;)</span><br><span class="line">   AS &apos;Date Membership Expires&apos;,</span><br><span class="line">DATEDIFF(membership_expiration, CURDATE())</span><br><span class="line">   AS &apos;Days Until Expiration&apos;</span><br><span class="line">FROM humans</span><br><span class="line">WHERE human_id = 4;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 DATEDIFF() 來比較兩個日期時間的差異天數<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3f9w98Lp6bWxrsSeOPErWilxclYurqga7yfCDB3gdoR_J4CG_nYoUasEeGzfUdkH3JuFIvNQkfIz7pF6s-wXCh5KiucijT9sI9CjWe2aF4UpHQ5dwQiMsNvnD2V5f1cS4wMxoZV74RgnfGRlRdFTE2QfQ=w1098-h166-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-18"><a href="#以下的-MySQL-example-code-的意思是-18" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">COUNT(time_seen) AS &apos;Sightings Recorded&apos;</span><br><span class="line">FROM bird_sightings</span><br><span class="line">JOIN humans USING(human_id)</span><br><span class="line">WHERE CONCAT(QUARTER(time_seen), YEAR(time_seen)) =</span><br><span class="line">CONCAT(</span><br><span class="line">   QUARTER(</span><br><span class="line">      STR_TO_DATE(</span><br><span class="line">         PERIOD_ADD( EXTRACT(YEAR_MONTH FROM CURDATE()), -3),</span><br><span class="line">                             &apos;%Y%m&apos;) ),</span><br><span class="line">   YEAR(</span><br><span class="line">      STR_TO_DATE(</span><br><span class="line">         PERIOD_ADD( EXTRACT(YEAR_MONTH FROM CURDATE()), -3),</span><br><span class="line">                             &apos;%Y%m&apos;) ) )</span><br><span class="line">GROUP BY human_id LIMIT 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>先用 EXTRACT() 將 YEAR_MONTH 從目前時間取出, 接著使用 PERIOD_ADD() 減掉 3 個月, 再用 STR_TO_DATE 設定成 ‘%Y%m’ 格式, 最後再用 QUARTER() 以及 YEAR 算出第幾季以及第幾年<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eU2uwBaix5YszaenNWm8fXL3IJ0ayqe9qp8apx8-Nq-vJgUYvpbajziTM2EFmPxruDe5_oUEeWgdnxnHAaqResY3qLFF0RpN8IA_n3r-TCjneLaCexff3MWUz8_4u4Q7Hr46ZlNd_jXvvcWrX7XP71_A=w722-h282-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-19"><a href="#以下的-MySQL-example-code-的意思是-19" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT TIME(NOW()),</span><br><span class="line">TIME_TO_SEC(NOW()),</span><br><span class="line">TIME_TO_SEC(NOW()) / 60 /60 AS &apos;Hours&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>僅將 <strong>時間</strong> 部分轉換成秒數, 即今天至今已過了幾秒<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dKyHGO5w46f2XGJMjIE2hm8CLTOHEtA6ummhPc2JtSWVfW1zPZp0kfdg4psDTciLU5Jh8lgEUjJqd-RGGE3CjwdkHE_xqH4Yh215D-TEW2cvmkr3BsW3iL1c0zMODa_L4U2BY6U4uT1jSR71wWO5CTEA=w976-h156-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-20"><a href="#以下的-MySQL-example-code-的意思是-20" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">UPDATE bird_sightings</span><br><span class="line">SET time_seen = DATE_ADD(time_seen, INTERVAL &apos;1 2&apos; DAY_HOUR)</span><br><span class="line">WHERE sighting_id = 16;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 DATE_ADD(), 增加 1 天 2 小時</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-21"><a href="#以下的-MySQL-example-code-的意思是-21" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">UPDATE humans</span><br><span class="line">SET membership_expiration = DATE_ADD(membership_expiration, INTERVAL -1 YEAR)</span><br><span class="line">WHERE CONCAT(name_first, SPACE(1), name_last) = &apos;Melissa Lee&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>當使用負號, DATE_ADD() 也有 DATE_SUB() 的效果</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-22"><a href="#以下的-MySQL-example-code-的意思是-22" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">UPDATE humans</span><br><span class="line">SET membership_expiration = DATE_SUB(membership_expiration, INTERVAL 1 YEAR)</span><br><span class="line">WHERE CONCAT(name_first, SPACE(1), name_last) = &apos;Melissa Lee&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>更新 membership_expiration, 使用 DATE_SUB 扣掉一年</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-23"><a href="#以下的-MySQL-example-code-的意思是-23" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">UPDATE humans</span><br><span class="line">SET membership_expiration = DATE_ADD(membership_expiration, INTERVAL 3 MONTH)</span><br><span class="line">WHERE country_id = &apos;uk&apos;</span><br><span class="line">AND membership_expiration &gt; CURDATE( );</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>更新 membership_expiration, 使用 DATE_ADD 將日期往後增加三個月</p>
</li>
</ul>
<h6 id="以下的-MySQL-my-cnf-example-code-的意思是？"><a href="#以下的-MySQL-my-cnf-example-code-的意思是？" class="headerlink" title="以下的 MySQL my.cnf example code 的意思是？"></a><strong>以下的 MySQL my.cnf example code 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">default-time-zone=&apos;GMT&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>將 server 的預設時區改為 GMT</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-24"><a href="#以下的-MySQL-example-code-的意思是-24" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name AS &apos;Bird&apos;,</span><br><span class="line">CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">DATE_FORMAT(time_seen, &apos;%r&apos;) AS &apos;System Time Spotted&apos;,</span><br><span class="line">DATE_FORMAT(CONVERT_TZ(time_seen, &apos;US/Eastern&apos;, &apos;Europe/Rome&apos;), &apos;%r&apos;) </span><br><span class="line">  AS &apos;Birder Time Spotted&apos;</span><br><span class="line">FROM bird_sightings</span><br><span class="line">JOIN humans USING(human_id)</span><br><span class="line">JOIN rookery.birds USING(bird_id)</span><br><span class="line">JOIN rookery.conservation_status USING(conservation_status_id) LIMIT 3;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 CONVERT_TZ, arg1 為時間, arg2 為來源時區, arg3 為欲轉換成的時區, 再將結果作為 parameter 帶入 DATE_FORMAT()<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3cRNgaEJnYozPr1Fu1JgGhNK1m9xvtJa_FMBBI1f_4VxpztvbMOG51HJseURsQ594Lm3nCVpCizBHk43n3zdaS0hyNqgUla1qMncCrOlegqsA6PUZDcfCZ4xdmNXZfNDm0PzrmznB-F2Pv_JHCykDF8gg=w1194-h210-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-25"><a href="#以下的-MySQL-example-code-的意思是-25" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW VARIABLES LIKE &apos;time_zone&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>取得 MySQL 系統時區<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3d4VGASGTQBeW0k4Vl5RMAB4soLpPjR0DmM8GvLBhA6nTnohK7dkDxDEwBZ35QbYmV0vgqt3kE7yaJXG4NrB0oICf12ZkudAVgi1s_fvLG_OqofnS8cv8WULW7JfjEF81cDhwfgqUFLB748n2PzmDIDig=w408-h142-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-26"><a href="#以下的-MySQL-example-code-的意思是-26" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT DATE_FORMAT(CURDATE(), GET_FORMAT(DATE,&apos;EUR&apos;))</span><br><span class="line">   AS &apos;Date in Europe&apos;,</span><br><span class="line">DATE_FORMAT(CURDATE(), GET_FORMAT(DATE,&apos;USA&apos;))</span><br><span class="line">   AS &apos;Date in U.S.&apos;,</span><br><span class="line">REPLACE(DATE_FORMAT(CURDATE(), GET_FORMAT(DATE,&apos;USA&apos;)), &apos;.&apos;, &apos;-&apos;)</span><br><span class="line">   AS &apos;Another Date in U.S.&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 GET_FORMAT 取得特定地區的時間格式, 再將結果帶入 DATE_FORMAT 完成格式設定<br>使用 REPLACE 將不喜歡的格式做客製化替換<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3f4lntKBqX4j2wgHYDVmtHRmM3rsj5T69tGNW1_T_NK13JKp5-GZAseiMbDlkmWtIEELMCrr58GMREp2RM1s1gZ7_LyDep5lqzlom536LkFYaoy5cnaGliBOj4rBAi2OLQj2LjLgVOKhUJZ-YNfLrzwFQ=w852-h142-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-27"><a href="#以下的-MySQL-example-code-的意思是-27" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name AS &apos;Endangered Bird&apos;,</span><br><span class="line">CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">DATE_FORMAT(time_seen, &apos;%W, %M %e, %Y&apos;) AS &apos;Date Spotted&apos;,</span><br><span class="line">TIME_FORMAT(time_seen, &apos;%l:%i %p&apos;) AS &apos;Time Spotted&apos;</span><br><span class="line">FROM bird_sightings</span><br><span class="line">JOIN humans USING(human_id)</span><br><span class="line">JOIN rookery.birds USING(bird_id)</span><br><span class="line">JOIN rookery.conservation_status USING(conservation_status_id)</span><br><span class="line">WHERE conservation_category = &apos;Threatened&apos; LIMIT 3;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 DATE_FORMAT, TIME_FORMAT 從指定時間擷取並輸入定義的格式, 格式碼可<a href="https://lh3.googleusercontent.com/pw/ACtC-3fRVByzBoNC2ZHa5xcOibwQ4dg92GqTXG5GfTA4jGHwkUSKd-8Ut45re0xSI_QqBPteoUB6qiTdKQzOo8EeH2Qz8SrF_mbO6609SVRaOubpuyb-IobR676pAgkC4YCTdpmVnb4ZhfAeonbBMH4p1Bj31A=w1112-h1600-no?authuser=0" target="_blank" rel="noopener">參考</a><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dtMv8Io-btkq2UQwoqVM0uo_vYJC6QCr29XDqc4lQ8ayt1h2d4vT_XURAirpy34KHND13o5DmB6Lp-gCMrIfG6di0ygI6u7vjT995tPwFABlkSkb10yj2QVCCAYuEdfhDwFclx5BdMhSU3MT9-aaQVow=w1200-h202-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-28"><a href="#以下的-MySQL-example-code-的意思是-28" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT time_seen,</span><br><span class="line">EXTRACT(YEAR_MONTH FROM time_seen) AS &apos;Year &amp; Month&apos;,</span><br><span class="line">EXTRACT(MONTH FROM time_seen) AS &apos;Month Only&apos;,</span><br><span class="line">EXTRACT(HOUR_MINUTE FROM time_seen) AS &apos;Hour &amp; Minute&apos;,</span><br><span class="line">EXTRACT(HOUR FROM time_seen) AS &apos;Hour Only&apos;</span><br><span class="line">FROM bird_sightings JOIN humans USING(human_id)</span><br><span class="line">LIMIT 3;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 EXTRACT() 從指定時間中擷取特定格式, EXTRACT() 支援格式可<a href="https://lh3.googleusercontent.com/pw/ACtC-3dqUVTlPUMHdpBmM_QU6i0LgZseJ0T01Unirov9bdR7H9beJRhoE29RZ1K9E0RECrFuQajKnsHk6daK_EYacSFAfGFAyO_bKmCz9ncwRfglSYkX3xi4Fc-StfdMS8Y8iOwMlR_u9-sEbHtG-dAZ5LfP4Q=w696-h1704-no?authuser=0" target="_blank" rel="noopener">參考</a><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3frOI8ATEShz_N1HZyXw8r-SeRN7VbBylhxdQ9zkCd8IYaTedU6_o7JH5TyRvIaUuS5-NPis4LpS9E1jzVQLAsih-DAfAxIdXdOKlmWB3QGWoLsvrGrCQCwbsF6-niBP2wA8TPeKgCXmVGM_M2ICx2meg=w1356-h218-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-29"><a href="#以下的-MySQL-example-code-的意思是-29" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT time_seen,</span><br><span class="line">EXTRACT(YEAR_MONTH FROM time_seen) AS &apos;Year &amp; Month&apos;,</span><br><span class="line">EXTRACT(MONTH FROM time_seen) AS &apos;Month Only&apos;,</span><br><span class="line">EXTRACT(HOUR_MINUTE FROM time_seen) AS &apos;Hour &amp; Minute&apos;,</span><br><span class="line">EXTRACT(HOUR FROM time_seen) AS &apos;Hour Only&apos;</span><br><span class="line">FROM bird_sightings JOIN humans USING(human_id)</span><br><span class="line">LIMIT 3;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 EXTRACT() 從指定時間中擷取特定格式, EXTRACT() 支援格式可<a href="https://lh3.googleusercontent.com/pw/ACtC-3dqUVTlPUMHdpBmM_QU6i0LgZseJ0T01Unirov9bdR7H9beJRhoE29RZ1K9E0RECrFuQajKnsHk6daK_EYacSFAfGFAyO_bKmCz9ncwRfglSYkX3xi4Fc-StfdMS8Y8iOwMlR_u9-sEbHtG-dAZ5LfP4Q=w696-h1704-no?authuser=0" target="_blank" rel="noopener">參考</a><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3frOI8ATEShz_N1HZyXw8r-SeRN7VbBylhxdQ9zkCd8IYaTedU6_o7JH5TyRvIaUuS5-NPis4LpS9E1jzVQLAsih-DAfAxIdXdOKlmWB3QGWoLsvrGrCQCwbsF6-niBP2wA8TPeKgCXmVGM_M2ICx2meg=w1356-h218-no?authuser=0"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-30"><a href="#以下的-MySQL-example-code-的意思是-30" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name AS &apos;Endangered Bird&apos;,</span><br><span class="line">CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">CONCAT(DAYNAME(time_seen), &apos;, &apos;, MONTHNAME(time_seen), SPACE(1),</span><br><span class="line">  DAY(time_seen), &apos;, &apos;, YEAR(time_seen)) AS &apos;Date Spotted&apos;,</span><br><span class="line">CONCAT(HOUR(time_seen), &apos;:&apos;, MINUTE(time_seen),</span><br><span class="line">  IF(HOUR(time_seen) &lt; 12, &apos; a.m.&apos;, &apos; p.m.&apos;)) AS &apos;Time Spotted&apos;</span><br><span class="line">FROM bird_sightings</span><br><span class="line">JOIN humans USING(human_id)</span><br><span class="line">JOIN rookery.birds USING(bird_id)</span><br><span class="line">JOIN rookery.conservation_status USING(conservation_status_id)</span><br><span class="line">WHERE conservation_category = &apos;Threatened&apos; LIMIT 3;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eoskj7AUogq4jmWfLb7-dI5iGJUWz8UV6L5eDFXrafIGL9w5ZaVIHs9-XN3KiLWMuTQ_HKFvIpc6Za5G5YYlSJaQNwxp_gzNWrG9uYEwiEXvI8jKywSlEVtFVn3uzSRQq8Hw7fRgDQ-amYaa1-nW7mGA=w1352-h212-no?authuser=0"><br>使用 DAYNAME(), MONTHNAME, 分別擷取帶入時間, 並輸出成 <strong>Day 的英文單字</strong>, <strong>月份英文單字</strong><br>使用 DAY(), YEAR(), HOUR(), MINUTE(), 分別擷取帶入時間的 <strong>天</strong>, <strong>年</strong>, <strong>時</strong>, <strong>分</strong><br>最後判斷, 如果 HOUR 小於 12, 即為上午 a.m., 大於 12, 即下午 p.m.</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-31"><a href="#以下的-MySQL-example-code-的意思是-31" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">time_seen, YEAR(time_seen), MONTH(time_seen), DAY(time_seen),</span><br><span class="line">MONTHNAME(time_seen), DAYNAME(time_seen)</span><br><span class="line">FROM bird_sightings JOIN humans USING(human_id)</span><br><span class="line">WHERE bird_id = 309 \G</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3c3GhlwuBEL-0uPRC9FJ-ImkNJxSXb1HDkRz571CZkFs3ZfoH2f2TV3_t4QVeTvWIVyKMo6VniY6dzp-VfpvOiFWCzOEeCB0n1JysgCnDgVMGRWX7Da6IQY9jbsKy0i_9yDxGgQi6jKjkAgGkN62ZIXTQ=w1074-h260-no?authuser=0"><br>使用 YEAR(), MONTH(), DAY(), 分別擷取帶入時間的 <strong>年</strong>, <strong>月</strong>, <strong>日</strong><br>使用 MONTHNAME(), DAYNAME(), 分別擷取並輸出成帶入時間的 <strong>月份英文單字</strong>, <strong>day 的英文單字</strong></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-32"><a href="#以下的-MySQL-example-code-的意思是-32" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">time_seen, HOUR(time_seen), MINUTE(time_seen), SECOND(time_seen)</span><br><span class="line">FROM bird_sightings JOIN humans USING(human_id)</span><br><span class="line">WHERE bird_id = 309 \G</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dlhJ2763E6CXuF5pp3k00zJTFc_7OJgHVvjth0NQCHyrPvo5pmY37E_9M14U5iyuZdAKV_ehH9IY1lGBpj5cKq0wM17AiyKUUbjFeGy4IyK_Oi335QExW8xShQH8eTfpI3uJRnuH2g2Q3u4_0zBWMnHA=w1072-h204-no?authuser=0"><br>使用 HOUR(), MINUTE(), SECOND(), 分別擷取帶入時間的 <strong>小時</strong>, <strong>分</strong>, <strong>秒</strong></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-33"><a href="#以下的-MySQL-example-code-的意思是-33" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">time_seen, DATE(time_seen), TIME(time_seen)</span><br><span class="line">FROM bird_sightings</span><br><span class="line">JOIN humans USING(human_id)</span><br><span class="line">WHERE bird_id = 309;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3feB2ngYRfVdXNaL3c94cuoPCGBleI_fkgIZxm-CgRI6ALNMgPcRshpeLH_ZGDJtO1NZG8axLMUO7h4W-2m6IXVBgsAn7imnLlN1w9EMLOe83frCffIpBtJN5IDcfqwdqrsmjvxk8zpebhTSIExlYgKaA=w1254-h152-no?authuser=0"><br>使用 DATE(), TIME() 分別擷取帶入時間的 <strong>年月日</strong> 以及 <strong>時間</strong> 部分</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-34"><a href="#以下的-MySQL-example-code-的意思是-34" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line">ROUND((UNIX_TIMESTAMP( ) - UNIX_TIMESTAMP(time_seen)) / 60 / 60 / 24)</span><br><span class="line">   AS &apos;Days Since Spotted&apos;</span><br><span class="line">FROM bird_sightings JOIN humans USING(human_id)</span><br><span class="line">WHERE bird_id = 309;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eLNtMOG3MF8YjmvFeuyU0E_1DFukmbz5JOT_ZUOH6GXoUnsjao1HKaWmlr7tjvXHeCo1G2DnO8iOBgqa1SvPgKgYbL2hsdrMTyhERwgLWbHrO2ShsIbjIbhY5asOEUyPYYh_CO62Me0zz4SRLOB822Jg=w618-h152-no?authuser=0"></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS &apos;Birdwatcher&apos;,</span><br><span class="line"># UNIX_TIMESTAMP() 為取得 1970 年 1 月 1 號至今所經過的秒數</span><br><span class="line"># 帶入特定時間點並經過計算後, 可取得特定時間點至今所經過的天數</span><br><span class="line">ROUND((UNIX_TIMESTAMP() - UNIX_TIMESTAMP(time_seen)) / 60 / 60 / 24)</span><br><span class="line">   AS &apos;Days Since Spotted&apos;</span><br><span class="line">FROM bird_sightings JOIN humans USING(human_id)</span><br><span class="line">WHERE bird_id = 309;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-35"><a href="#以下的-MySQL-example-code-的意思是-35" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT NOW(), CURDATE(), CURTIME();</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3f2Q6KEQsP2PqS2DY-m8VwUYZAvw2gifnl2WZQgR-4ftknaxYFuLYMskW8AHy2Rejfk8iYdsP1ubbgILMXyl9_Q440wcP9YiqzNjsRQ7w_jop4QttbJsFZdZgSZg4HA1_zxLT8L54XkbgAjPqYFdxOMgw=w732-h102-no?authuser=0"><br>分別是取得當前日期時間, 當前日期, 當前時間</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-36"><a href="#以下的-MySQL-example-code-的意思是-36" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT NOW(), SLEEP(4) AS &apos;Zzz&apos;, SYSDATE(), SLEEP(2) AS &apos;Zzz&apos;, SYSDATE();</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dF4ZjW2F4Us_lz5QG_fhn3FgK_vDcwYXzsH84ISaw24SAKvuMXX1Om0FLDBv0CjOPDctRE4vhWsq_TESBvtvOhw5xX37XjGLJ8aJfMfcOhTnMap2rS4zEenBIVFUJZRPVxIXx2uuwcpL7up-iua1iGCA=w1658-h102-no?authuser=0"><br>NOW() 是取得 SQL Query 執行當下的時間, 而 SYSDATE() 是取得該函式執行當下的時間, 如果要在複雜的 SQL Query 當中取得某段函式的執行時間時, 便可使用 SYSDATE()</p>
</li>
</ul>
<h6 id="MySQL-中-以下幾個函式的功能都一樣-為什麼需要這麼多不同名稱卻同功能的函示？"><a href="#MySQL-中-以下幾個函式的功能都一樣-為什麼需要這麼多不同名稱卻同功能的函示？" class="headerlink" title="MySQL 中, 以下幾個函式的功能都一樣, 為什麼需要這麼多不同名稱卻同功能的函示？"></a><strong>MySQL 中, 以下幾個函式的功能都一樣, 為什麼需要這麼多不同名稱卻同功能的函示？</strong></h6><ul>
<li><strong>Example</strong>:<br>NOW(), CURRENT_TIMESTAMP(), LOCALTIME(), LOCALTIMESTAMP()</li>
<li><strong>Answer</strong>:<br>因為為了配合其他種類的資料庫, 像是 PostgreSQL, Oracle, Sybase 等等…<br>這樣原本使用其他資料庫的應用程式就可以在不更動程式碼下直接更換資料庫</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-37"><a href="#以下的-MySQL-example-code-的意思是-37" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT UNCOMPRESS(birding_background) AS Background</span><br><span class="line">FROM humans</span><br><span class="line">WHERE name_first = &apos;Melissa&apos; AND name_last = &apos;Lee&apos; \G</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>UNCOMPRESS function 可以解壓縮 COMPRESS function 壓縮過的欄位資料</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-38"><a href="#以下的-MySQL-example-code-的意思是-38" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT INTO humans</span><br><span class="line">(formal_title, name_first, name_last, join_date, birding_background)</span><br><span class="line">VALUES(&apos;Ms&apos;, &apos;Melissa&apos;, &apos;Lee&apos;, CURDATE(), COMPRESS(&quot;lengthy background...&quot;));</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>COMPRESS function 可以壓縮字串, 適用於大量的 text, 效能有待研究</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-39"><a href="#以下的-MySQL-example-code-的意思是-39" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT bird_name, gender_age, bird_image</span><br><span class="line">FROM bird_images</span><br><span class="line">WHERE bird_name LIKE &apos;%Plover%&apos;</span><br><span class="line">ORDER BY CONVERT(gender_age USING utf8)</span><br><span class="line">LIMIT 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>將 gender_age 的 character set 暫時轉為 utf8</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-40"><a href="#以下的-MySQL-example-code-的意思是-40" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT bird_name, gender_age, bird_image</span><br><span class="line">FROM bird_images</span><br><span class="line">WHERE bird_name LIKE &apos;%Plover%&apos;</span><br><span class="line">ORDER BY CONVERT(gender_age, CHAR)</span><br><span class="line">LIMIT 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>將 gender_age 的 column type 暫時轉換為 CHAR, 只反映在結果上, 並不會真正更動資料庫</p>
</li>
</ul>
<h6 id="MySQL-中-如果-column-type-是-enum-那排序上會依照-enum-的排序還是-collation-的排序？"><a href="#MySQL-中-如果-column-type-是-enum-那排序上會依照-enum-的排序還是-collation-的排序？" class="headerlink" title="MySQL 中, 如果 column type 是 enum, 那排序上會依照 enum 的排序還是 collation 的排序？"></a><strong>MySQL 中, 如果 column type 是 enum, 那排序上會依照 enum 的排序還是 collation 的排序？</strong></h6><p>enum 的排序</p>
<h6 id="以下的-MySQL-example-code-的意思是-41"><a href="#以下的-MySQL-example-code-的意思是-41" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT sorting_id, bird_name, bird_image</span><br><span class="line">FROM bird_images ORDER BY CAST(sorting_id AS INT) LIMIT 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>將 sorting_id column type 暫時轉換為 INT, 只作用到結果, 不會變動 column type</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-為什麼-sorting-id-的排列方式是如此"><a href="#以下的-MySQL-example-為什麼-sorting-id-的排列方式是如此" class="headerlink" title="以下的 MySQL example 為什麼 sorting_id 的排列方式是如此?"></a><strong>以下的 MySQL example 為什麼 sorting_id 的排列方式是如此?</strong></h6><ul>
<li><p><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fPAS4KqqtzGeAU12yKAWD2BP9Zen-xVonh7-Gh6E5EE8jc8HenpqFzj3OUG58SVoA7N2tqY4__6RJoTRi4j05QyWYjoJ8NRj7yt5AThkItAJjPcGd6uGvFIWrnHmlc4Pk4JibmiSHF_A3_PpBedzAzjA=w1044-h280-no?authuser=0"></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT sorting_id, bird_name, bird_image</span><br><span class="line">FROM bird_images</span><br><span class="line">ORDER BY sorting_id</span><br><span class="line">LIMIT 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>因為 sorting_id column 的 column type 被設為 char, 而非 int</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-42"><a href="#以下的-MySQL-example-code-的意思是-42" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><p><img src="https://lh3.googleusercontent.com/pw/ACtC-3dZmUV2lxpqaVP8bgD6SCJAjA-vaPSY0RQaYfWCYqo0NlODpYV_1xfvpo_BKcVeVquShiT50JFTyzzjUTd56MBxHDgizOwff27--7doto15R4hZVqJRdqCg5iq5o9p9BGA9EoLtZTUzRWb0QdOO-3Whig=w710-h160-no?authuser=0"></p>
<ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name AS Original,</span><br><span class="line">REPLACE(common_name, &apos;Gt.&apos;, &apos;Great&apos;) AS Replaced</span><br><span class="line">FROM birds</span><br><span class="line">WHERE common_name REGEXP &apos;Gt.&apos; LIMIT 1;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>REPLACE() 跟 REPLACE 不同<br>直接尋找 ‘Gt.’ 並將之替換為 ‘Great’, 只改變顯示結果, 並不會真正的更動資料庫</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-43"><a href="#以下的-MySQL-example-code-的意思是-43" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><p><img src="https://lh3.googleusercontent.com/pw/ACtC-3dBcljw4liFBsgiYPQ9qeStIrWDoE22Xba3Zyd4446hYqcdDfCmTWijLiSWx-5bMkxdlZQ5M8H8nToPlxfjf79xR710ax3LazSzRJOEv_0xxvh5ApzpT-IY2R5peojEnIX1fVOpC2FQRCvsrUnUOk-W_Q=w710-h160-no?authuser=0"></p>
<ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name AS Original,</span><br><span class="line">INSERT(common_name, LOCATE(&apos;Gt.&apos;, common_name), 3, &apos;Great&apos;) AS Adjusted</span><br><span class="line">FROM birds</span><br><span class="line">WHERE common_name REGEXP &apos;Gt.&apos; LIMIT 1;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>INSERT() 跟 INSERT 不同, INSERT() 只會將結果替換掉指定的字串, 不會真正的更動資料庫<br>arg1 為要作用的欄位, arg2 為替換起始位置, arg3 為總共要覆蓋原本字串多少個字, arg4 為要用來替換的字串<br>如上 example, LOCATE 會回傳 1, 所以從 1 開始替換 ‘Gt.’ 共三個字, 所以會全部覆蓋掉<br>若不希望覆蓋掉任何字, arg3 可指定 0</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-44"><a href="#以下的-MySQL-example-code-的意思是-44" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS Name,</span><br><span class="line">common_name AS Bird,</span><br><span class="line">SUBSTRING(comments, 1, 25) AS Comments</span><br><span class="line">FROM birdwatchers.bird_sightings</span><br><span class="line">JOIN birdwatchers.humans USING(human_id)</span><br><span class="line">JOIN rookery.birds USING(bird_id)</span><br><span class="line">WHERE MATCH (comments) AGAINST (&apos;beautiful&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(name_first, SPACE(1), name_last) AS Name,</span><br><span class="line">common_name AS Bird,</span><br><span class="line"># 從第 1 個位置開始取, 取 25 個字</span><br><span class="line">SUBSTRING(comments, 1, 25) AS Comments</span><br><span class="line">FROM birdwatchers.bird_sightings</span><br><span class="line">JOIN birdwatchers.humans USING(human_id)</span><br><span class="line">JOIN rookery.birds USING(bird_id)</span><br><span class="line"># 唯有先行建立 FULLTEXT INDEX, 方可使用 MATCH ... AGAINST 函數</span><br><span class="line"># 從 &apos;comments&apos; column 尋找 &apos;beautiful&apos; 字串</span><br><span class="line">WHERE MATCH (comments) AGAINST (&apos;beautiful&apos;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-45"><a href="#以下的-MySQL-example-code-的意思是-45" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE FULLTEXT INDEX comment_index</span><br><span class="line">ON bird_sightings (comments);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立 FULLTEXT index 名為 comment_index, 唯有建立 FULLTEXT index 方可使用 match … against 函數</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-46"><a href="#以下的-MySQL-example-code-的意思是-46" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT IGNORE INTO possible_duplicate_email</span><br><span class="line">(human_id, email_address_1, email_address_2, entry_date)</span><br><span class="line">VALUES(LAST_INSERT_ID(), &apos;bobyfischer@mymail.com&apos;, &apos;bobbyfischer@mymail.com&apos;)</span><br><span class="line">WHERE ABS( STRCMP(&apos;bobbyrobin@mymail.com&apos;, &apos;bobyrobin@mymail.com&apos;) ) = 1 ;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT IGNORE INTO possible_duplicate_email</span><br><span class="line">(human_id, email_address_1, email_address_2, entry_date)</span><br><span class="line">VALUES(LAST_INSERT_ID(), &apos;bobyfischer@mymail.com&apos;, &apos;bobbyfischer@mymail.com&apos;)</span><br><span class="line">## ABS 會將 value 轉為絕對值, 即 -1 變成 1, 1 還是 1</span><br><span class="line">## STRCMP 會比較兩個數, 相等則為 0, 否則則為 1 或 -1</span><br><span class="line">WHERE ABS( STRCMP(&apos;bobbyrobin@mymail.com&apos;, &apos;bobyrobin@mymail.com&apos;) ) = 1 ;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-47"><a href="#以下的-MySQL-example-code-的意思是-47" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT IF(CHAR_LENGTH(comments) &gt; 100), &apos;long&apos;, &apos;short&apos;)</span><br><span class="line">FROM bird_sightings</span><br><span class="line">WHERE sighting_id = 2;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>select <code>&#39;comments&#39;</code> 欄位, 如果長度大於 100, 則回傳 <code>&#39;long&#39;</code>, 反之則回傳 <code>&#39;short&#39;</code></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-48"><a href="#以下的-MySQL-example-code-的意思是-48" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3fv-rQ7tzspcmyeZ2XQUaRcRD9rrd0RyH-gxr7NOXB-jOBoIUKZRf8Zm9ww6m1veO0MO7Z5F4H4U6Ho4MOpnsiZlm-_kamXXv-Dk3MU8EYSz297cq8MZH56BqOIy_0xaVwBqssH7tsSmAHIcHg8iPr77w=w774-h224-no?authuser=0"><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eTTAw26GSGEeuRePK-a-nHoYnqV-CnjY-sYCnF6QrevQ_Sbnm5J99Mn2tTK_Kkn23uaLSuc9v1K_o7gDKfNOkLxhmX5ilCqlF9zLluV-KtnjEN6q05faeaiVmLTA4MbmEXYPdfteBZezRladlBEhqcmg=w214-h164-no?authuser=0"></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT FIND_IN_SET(&apos;Anahit Vanetsyan&apos;, Names) AS Position</span><br><span class="line">  FROM</span><br><span class="line">    (SELECT GROUP_CONCAT(Name ORDER BY join_date) AS Names</span><br><span class="line">     FROM</span><br><span class="line">       ( SELECT CONCAT(name_first, SPACE(1), name_last) AS Name,</span><br><span class="line">         join_date</span><br><span class="line">         FROM humans</span><br><span class="line">         WHERE country_id = &apos;ru&apos;)</span><br><span class="line">       AS derived_1 )</span><br><span class="line">    AS derived_2;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>GROUP_CONCAT 會將 Name column 的所有姓名連接起來, 並 ORDER BY join_date, 然後 FIND_IN_SET() 從 Name column 中找到 ‘Anahit Vanetsyan’ 的位置</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-的意思是-49"><a href="#以下的-MySQL-example-code-的意思是-49" class="headerlink" title="以下的 MySQL example code 的意思是?"></a><strong>以下的 MySQL example code 的意思是?</strong></h6><ul>
<li><p><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3evheWl4A6EdFxznfZBHZ2EZrpoCIfbblBndOR4rE69PPacvJNTtvPak2V5f9fqwFWhVdsFnjNKSu49PlvOakOKJMWqvdCBe2JfDetwMba9_gO1z_3zj20FuZwoHJT7ux4V_IS1cdPwFyqekyiGNykNaw=w364-h248-no?authuser=0"><br><img src="https://lh3.googleusercontent.com/pw/ACtC-3e2PdSbQRQ1cIqySO17As5bRqmoyyPF4pWMGWCPPB7YOs3tLsB7t7aV-MQZ3a1pCmJVsJ6h-losYKEbbedwOLjzhu1CIer8tE9pHU5phwm1dlldS3Xj6K-6ZzaCa8gX5wOKkvqtKmFHNrrrX9GZwZXjuw=w264-h248-no?authuser=0"></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT</span><br><span class="line">SUBSTRING(common_name, 1, LOCATE(&apos; Avocet&apos;, common_name) ) AS &apos;Avocet&apos;</span><br><span class="line">FROM birds</span><br><span class="line">JOIN bird_families USING(family_id)</span><br><span class="line">WHERE bird_families.scientific_name = &apos;Recurvirostridae&apos;</span><br><span class="line">AND birds.common_name LIKE &apos;%Avocet%&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>LOCATE 會取得 ‘ Avocet’ 前面那一個空格的位置, 而 SUBSTRING 從第 1 個位置開始取, 取 LOCATE 得到的結果, 正好把 ‘Avocet’ 濾掉</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？"><a href="#以下的-MySQL-query-的意思是？" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># +--------------------------------------------------------+</span><br><span class="line"># | prospect_name                                          |</span><br><span class="line"># +--------------------------------------------------------+</span><br><span class="line"># | Ms.| Caryn-Amy     |           Rose                    |</span><br><span class="line"># | Mr.| Colin         |           Charles                 |</span><br><span class="line"># | Mr.| Kenneth       |           Dyer                    |</span><br><span class="line"># | Ms.| Sveta         |           Smirnova                |</span><br><span class="line"># +--------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">SELECT SUBSTRING_INDEX(prospect_name, &apos;|&apos;, 1) AS title,</span><br><span class="line">SUBSTRING_INDEX( SUBSTRING_INDEX(prospect_name, &apos;|&apos;, 2), &apos;|&apos;, -1) AS first_name,</span><br><span class="line">SUBSTRING_INDEX(prospect_name, &apos;|&apos;, -1) AS last_name</span><br><span class="line">FROM prospects WHERE prospect_id = 7;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">// 取到第一個 &apos;|&apos; 之前的所有字串</span><br><span class="line">SELECT SUBSTRING_INDEX(prospect_name, &apos;|&apos;, 1) AS title,</span><br><span class="line">// 內函數取得第兩個 &apos;|&apos; 之前的所有字串, 外函數則是從尾端往前找, 直到找到 &apos;|&apos;, 取這之間的字串</span><br><span class="line">SUBSTRING_INDEX( SUBSTRING_INDEX(prospect_name, &apos;|&apos;, 2), &apos;|&apos;, -1) AS first_name,</span><br><span class="line">// 從尾端往前找, 直到找到 &apos;|&apos;, 取這之間的字串</span><br><span class="line">SUBSTRING_INDEX(prospect_name, &apos;|&apos;, -1) AS last_name</span><br><span class="line">FROM prospects WHERE prospect_id = 7;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-1"><a href="#以下的-MySQL-query-的意思是？-1" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># +--------------------------------------------------------+</span><br><span class="line"># | prospect_name                                          |</span><br><span class="line"># +--------------------------------------------------------+</span><br><span class="line"># | Ms. Caryn-Amy                Rose                      |</span><br><span class="line"># | Mr. Colin                    Charles                   |</span><br><span class="line"># | Mr. Kenneth                  Dyer                      |</span><br><span class="line"># | Ms. Sveta                    Smirnova                  |</span><br><span class="line"># +--------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">SELECT SUBSTRING(prospect_name, 1, 2) AS title,</span><br><span class="line">SUBSTRING(prospect_name FROM 5 FOR 25) AS first_name,</span><br><span class="line">SUBSTRING(prospect_name, -25) AS last_name</span><br><span class="line">FROM prospects LIMIT 3;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">// 從第 1 個開始取, 取 2 個</span><br><span class="line">SELECT SUBSTRING(prospect_name, 1, 2) AS title,</span><br><span class="line">// 從第 5 個開始取, 取 25 個</span><br><span class="line">SUBSTRING(prospect_name FROM 5 FOR 25) AS first_name,</span><br><span class="line">// 取後面算來 25 個</span><br><span class="line">SUBSTRING(prospect_name, -25) AS last_name</span><br><span class="line">FROM prospects LIMIT 3;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-2"><a href="#以下的-MySQL-query-的意思是？-2" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># +--------------------------------------------------------+</span><br><span class="line"># | prospect_name                                          |</span><br><span class="line"># +--------------------------------------------------------+</span><br><span class="line"># | Ms. Caryn-Amy                Rose                      |</span><br><span class="line"># | Mr. Colin                    Charles                   |</span><br><span class="line"># | Mr. Kenneth                  Dyer                      |</span><br><span class="line"># | Ms. Sveta                    Smirnova                  |</span><br><span class="line"># +--------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">SELECT LEFT(prospect_name, 2) AS title,</span><br><span class="line">MID(prospect_name, 5, 25) AS first_name,</span><br><span class="line">RIGHT(prospect_name, 25) AS last_name</span><br><span class="line">FROM prospects LIMIT 4;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>LEFT: 從左邊開始取, 取 2 個<br>MID: 從第 5 個開始取, 取 25 個<br>RIGHT: 從後面往前取, 取 25 個</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-3"><a href="#以下的-MySQL-query-的意思是？-3" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(RPAD(common_name, 20, &apos;.&apos; ),</span><br><span class="line">RPAD(Families.scientific_name, 15, &apos;.&apos;),</span><br><span class="line">Orders.scientific_name) AS Birds</span><br><span class="line">FROM birds</span><br><span class="line">JOIN bird_families AS Families USING(family_id)</span><br><span class="line">JOIN bird_orders AS Orders</span><br><span class="line">WHERE common_name != &apos;&apos;</span><br><span class="line">AND Orders.scientific_name = &apos;Ciconiiformes&apos;</span><br><span class="line">ORDER BY common_name LIMIT 3;</span><br><span class="line"></span><br><span class="line"># +--------------------------------------------------+</span><br><span class="line"># | Birds                                            |</span><br><span class="line"># +--------------------------------------------------+</span><br><span class="line"># | Abbott&apos;s Babbler....Pellorneidae...Ciconiiformes |</span><br><span class="line"># | Abbott&apos;s Booby......Sulidae........Ciconiiformes |</span><br><span class="line"># | Abbott&apos;s Starling...Sturnidae......Ciconiiformes |</span><br><span class="line"># +--------------------------------------------------+</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>利用 RPAD 將空格填滿, arg1 為作用的 column, arg2 為該 column 預期的字串長度, arg3 為不足字串長度時, 要使用什麼字符將之補滿</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-4"><a href="#以下的-MySQL-query-的意思是？-4" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT QUOTE(common_name)</span><br><span class="line">FROM birds</span><br><span class="line">WHERE common_name LIKE &quot;%Prince%&quot;</span><br><span class="line">ORDER BY common_name;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># 將資料夾上 quote 輸出, 並 escape 特殊符號</span><br><span class="line">SELECT QUOTE(common_name)</span><br><span class="line">FROM birds</span><br><span class="line">WHERE common_name LIKE &quot;%Prince%&quot;</span><br><span class="line">ORDER BY common_name;</span><br><span class="line"></span><br><span class="line"># +----------------------------------+</span><br><span class="line"># | QUOTE(common_name)               |</span><br><span class="line"># +----------------------------------+</span><br><span class="line"># | &apos;Prince Henry\&apos;s Laughingthrush&apos; |</span><br><span class="line"># | &apos;Prince Ruspoli\&apos;s Turaco&apos;       |</span><br><span class="line"># | &apos;Princess Parrot&apos;                |</span><br><span class="line"># +----------------------------------+</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-5"><a href="#以下的-MySQL-query-的意思是？-5" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT LCASE(common_name) AS Species,</span><br><span class="line">UCASE(bird_families.scientific_name) AS Family</span><br><span class="line">FROM birds</span><br><span class="line">JOIN bird_families USING(family_id)</span><br><span class="line">WHERE common_name LIKE &apos;%Wren%&apos;</span><br><span class="line">ORDER BY Species</span><br><span class="line">LIMIT 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">## 將 common_name column 的值轉為小寫</span><br><span class="line">SELECT LCASE(common_name) AS Species,</span><br><span class="line">## 將 scientific_name column 的值轉為大寫</span><br><span class="line">UCASE(bird_families.scientific_name) AS Family</span><br><span class="line">FROM birds</span><br><span class="line">## 經由 family_id JOIN 兩張表</span><br><span class="line">JOIN bird_families USING(family_id)</span><br><span class="line">WHERE common_name LIKE &apos;%Wren%&apos;</span><br><span class="line">ORDER BY Species</span><br><span class="line">LIMIT 5;</span><br><span class="line"></span><br><span class="line"># +-------------------------+---------------+</span><br><span class="line"># | Species                 | Family        |</span><br><span class="line"># +-------------------------+---------------+</span><br><span class="line"># | apolinar&apos;s wren         | TROGLODYTIDAE |</span><br><span class="line"># | band-backed wren        | TROGLODYTIDAE |</span><br><span class="line"># | banded wren             | TROGLODYTIDAE |</span><br><span class="line"># | bar-winged wood-wren    | TROGLODYTIDAE |</span><br><span class="line"># | bar-winged wren-babbler | TIMALIIDAE    |</span><br><span class="line"># +-------------------------+---------------+</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-6"><a href="#以下的-MySQL-query-的意思是？-6" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -p --skip-column-names -e \</span><br><span class="line">&quot;SELECT CONCAT_WS(&apos;|&apos;, IFNULL(formal_title, &apos; &apos;), IFNULL(name_first, &apos; &apos;),</span><br><span class="line">IFNULL(name_last, &apos; &apos;), IFNULL(street_address, &apos; &apos;),</span><br><span class="line">IFNULL(city, &apos; &apos;), IFNULL(state_province, &apos; &apos;),</span><br><span class="line">IFNULL(postal_code, &apos; &apos;), IFNULL(country_id, &apos; &apos;))</span><br><span class="line">FROM birdwatchers.humans WHERE membership_type = &apos;premium&apos;</span><br><span class="line">AND membership_expiration &gt; CURDATE();&quot; &gt; rookery_patch_mailinglist.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -p --skip-column-names -e \</span><br><span class="line"># 跳過欄位那一欄不做處理, -p 代表 password, -e 代表執行 &quot;&quot; 內的程式碼</span><br><span class="line"># 使用 &apos;|&apos; 來連接並隔開每個 column 的value</span><br><span class="line"># CONCAT_WS, WS 為 with seprarator 的意思</span><br><span class="line">&quot;SELECT CONCAT_WS(&apos;|&apos;, IFNULL(formal_title, &apos; &apos;), IFNULL(name_first, &apos; &apos;),</span><br><span class="line"># 加上 IFNULL, 若 NULL 的話也會輸出空字串, 否則 CONCAT_WS 會不處理直接跳過</span><br><span class="line"># 造成 select 8 個欄位, 但卻只輸出 4 個欄位的值, 也不知道哪個欄位沒值</span><br><span class="line">IFNULL(name_last, &apos; &apos;), IFNULL(street_address, &apos; &apos;),</span><br><span class="line">IFNULL(city, &apos; &apos;), IFNULL(state_province, &apos; &apos;),</span><br><span class="line">IFNULL(postal_code, &apos; &apos;), IFNULL(country_id, &apos; &apos;))</span><br><span class="line">FROM birdwatchers.humans WHERE membership_type = &apos;premium&apos;</span><br><span class="line"># 將結果輸出到 txt 檔</span><br><span class="line">AND membership_expiration &gt; CURDATE();&quot; &gt; rookery_patch_mailinglist.txt</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-7"><a href="#以下的-MySQL-query-的意思是？-7" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name AS &apos;Bird&apos;,</span><br><span class="line">conservation_state AS &apos;Status&apos;</span><br><span class="line">FROM birds</span><br><span class="line">LEFT JOIN conservation_status USING(conservation_status_id)</span><br><span class="line">WHERE common_name LIKE &apos;%Egret%&apos;</span><br><span class="line">ORDER BY Status, Bird;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 birds table select common_name column (命名呈現的 column name 為 Bird), conservation_state column (命名呈現的 column name 為 Status)<br>left join conservation_status table, 透過 conservation_status_id<br>left join 會先取出 birds table, 所以如果並沒有對應的 conservation_status_id 的話, 就會顯示 null<br>像是</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">+--------------------+-----------------+</span><br><span class="line">| Bird               | Status          |</span><br><span class="line">+--------------------+-----------------+</span><br><span class="line">| Great Egret        | NULL            |</span><br><span class="line">| Cattle Egret       | Least Concern   |</span><br><span class="line">| Intermediate Egret | Least Concern   |</span><br><span class="line">| Little Egret       | Least Concern   |</span><br><span class="line">| Snowy Egret        | Least Concern   |</span><br><span class="line">| Reddish Egret      | Near Threatened |</span><br><span class="line">| Chinese Egret      | Vulnerable      |</span><br><span class="line">| Slaty Egret        | Vulnerable      |</span><br><span class="line">+--------------------+-----------------+</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-8"><a href="#以下的-MySQL-query-的意思是？-8" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT book_id, title, status_name</span><br><span class="line">FROM books</span><br><span class="line">JOIN status_names USING(status_id);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>JOIN books 跟 status_names 兩張 table, 因為要用來 connect 兩張 table 的 key 都一樣, 因此使用 USING</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-9"><a href="#以下的-MySQL-query-的意思是？-9" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT book_id, title, status_name</span><br><span class="line">FROM books</span><br><span class="line">JOIN status_names ON(status = status_id);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>JOIN books 跟 status_names 兩張 table, 用 ON 連結 status 以及 status_id 欄位</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-10"><a href="#以下的-MySQL-query-的意思是？-10" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT &apos;Pelecanidae&apos; AS &apos;Family&apos;,</span><br><span class="line">    COUNT(*) AS &apos;Species&apos;</span><br><span class="line">    FROM birds, bird_families AS families</span><br><span class="line">    WHERE birds.family_id = families.family_id</span><br><span class="line">    AND families.scientific_name = &apos;Pelecanidae&apos;</span><br><span class="line">UNION</span><br><span class="line">  SELECT &apos;Ardeidae&apos;,</span><br><span class="line">    COUNT(*)</span><br><span class="line">    FROM birds, bird_families AS families</span><br><span class="line">    WHERE birds.family_id = families.family_id</span><br><span class="line">    AND families.scientific_name = &apos;Ardeidae&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">    ## &apos;Pelacanidae&apos; 為不存在的欄位, 以純文字賦予欄位值, 結果如下</span><br><span class="line">SELECT &apos;Pelecanidae&apos; AS &apos;Family&apos;,</span><br><span class="line">    ## Species 為另一個 column</span><br><span class="line">    COUNT(*) AS &apos;Species&apos;</span><br><span class="line">    FROM birds, bird_families AS families</span><br><span class="line">    WHERE birds.family_id = families.family_id</span><br><span class="line">    AND families.scientific_name = &apos;Pelecanidae&apos;</span><br><span class="line">UNION</span><br><span class="line">    ## 因為使用 Union, 這邊不須再加 alias, 會自動歸類到 &apos;Family&apos; column</span><br><span class="line">  SELECT &apos;Ardeidae&apos;,</span><br><span class="line">    COUNT(*)</span><br><span class="line">    FROM birds, bird_families AS families</span><br><span class="line">    WHERE birds.family_id = families.family_id</span><br><span class="line">    AND families.scientific_name = &apos;Ardeidae&apos;;</span><br><span class="line">    </span><br><span class="line">## +-------------+---------+</span><br><span class="line">## | Family      | Species |</span><br><span class="line">## +-------------+---------+</span><br><span class="line">## | Pelecanidae |      10 |</span><br><span class="line">## | Ardeidae    |     157 |</span><br><span class="line">## +-------------+---------+</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-11"><a href="#以下的-MySQL-query-的意思是？-11" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">DELETE FROM humans, prize_winners</span><br><span class="line">USING humans JOIN prize_winners</span><br><span class="line">WHERE name_first = &apos;Elena&apos;</span><br><span class="line">AND name_last = &apos;Bokova&apos;</span><br><span class="line">AND email_address LIKE &apos;%yahoo.com&apos;</span><br><span class="line">AND humans.human_id = prize_winners.human_id;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">// 同時 delete humans 以及 prize_winners 的資料</span><br><span class="line">// 如果不加 prize_winners, 那該 table 上的資料就</span><br><span class="line">// 不會被刪除</span><br><span class="line">DELETE FROM humans, prize_winners</span><br><span class="line">// JOIN prize_winners table</span><br><span class="line">USING humans JOIN prize_winners</span><br><span class="line">WHERE name_first = &apos;Elena&apos;</span><br><span class="line">AND name_last = &apos;Bokova&apos;</span><br><span class="line">AND email_address LIKE &apos;%yahoo.com&apos;</span><br><span class="line">AND humans.human_id = prize_winners.human_id;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-12"><a href="#以下的-MySQL-query-的意思是？-12" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE TEMPORARY TABLE possible_duplicates</span><br><span class="line">(name_1 varchar(25), name_2 varchar(25));</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立一個臨時的 table, 當退出 MySQL client 時, 該 table 會自動銷毀</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-13"><a href="#以下的-MySQL-query-的意思是？-13" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT INTO humans</span><br><span class="line">(formal_title, name_first, name_last, email_address, better_birders_site)</span><br><span class="line">VALUES(&apos;Mr&apos;,&apos;Barry&apos;,&apos;Pilson&apos;, &apos;barry@gomail.com&apos;, 1),</span><br><span class="line">      (&apos;Ms&apos;,&apos;Lexi&apos;,&apos;Hollar&apos;, &apos;alexandra@mysqlresources.com&apos;, 1),</span><br><span class="line">      (&apos;Mr&apos;,&apos;Ricky&apos;,&apos;Adams&apos;, &apos;ricky@gomail.com&apos;, 1)</span><br><span class="line">ON DUPLICATE KEY</span><br><span class="line">UPDATE better_birders_site = 2;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>因為 email_address 有 unique 特性, 所以當 insert 過程中發現有 duplicate 的 row 時, 會 update 該 row 的 better_birders_site column 為 2</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-錯誤的原因是？"><a href="#以下的-MySQL-query-錯誤的原因是？" class="headerlink" title="以下的 MySQL query 錯誤的原因是？"></a><strong>以下的 MySQL query 錯誤的原因是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">UPDATE prize_winners, humans</span><br><span class="line">SET winner_date = CURDATE()</span><br><span class="line">WHERE winner_date IS NULL</span><br><span class="line">AND country_id = &apos;uk&apos;</span><br><span class="line">AND prize_winners.human_id = humans.human_id</span><br><span class="line">ORDER BY RAND()</span><br><span class="line">LIMIT 2;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>order by 及 limit 只適用於單一 table, 當 update 複數的 table 時就會出錯</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-14"><a href="#以下的-MySQL-query-的意思是？-14" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">UPDATE prize_winners, humans</span><br><span class="line">SET winner_date = NULL,</span><br><span class="line">    prize_chosen = NULL,</span><br><span class="line">    prize_sent = NULL</span><br><span class="line">WHERE country_id = &apos;uk&apos;</span><br><span class="line">AND prize_winners.human_id = humans.human_id;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 human table 中取得 ‘country_id = uk’ 的 row, 再經此找到符合 ‘prize_winners.human_id = humans.human_id’ 的 prize_winners<br>最後 update 這些 prize_winners 的 winner_date, prize_chosen, prize_sent columns</p>
</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-15"><a href="#以下的-MySQL-query-的意思是？-15" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE humans</span><br><span class="line">CHANGE COLUMN formal_title formal_title ENUM(&apos;Mr.&apos;,&apos;Ms.&apos;,&apos;Mr&apos;,&apos;Ms&apos;);</span><br><span class="line"></span><br><span class="line">UPDATE humans</span><br><span class="line">SET formal_title = SUBSTRING(formal_title, 1, 2);</span><br><span class="line"></span><br><span class="line">ALTER TABLE humans</span><br><span class="line">CHANGE COLUMN formal_title formal_title ENUM(&apos;Mr&apos;,&apos;Ms&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">## 修改 humans table</span><br><span class="line">ALTER TABLE humans</span><br><span class="line">## 將 column formal_title 改成 formal_title, type 為 ENUM(&apos;Mr.&apos;, &apos;Ms.&apos;, &apos;Mr&apos;, &apos;Ms&apos;);</span><br><span class="line">CHANGE COLUMN formal_title formal_title ENUM(&apos;Mr.&apos;,&apos;Ms.&apos;,&apos;Mr&apos;,&apos;Ms&apos;);</span><br><span class="line"></span><br><span class="line">## 更新 humans table</span><br><span class="line">UPDATE humans</span><br><span class="line">## 更新 formal_title column, 取 formal_title 的值, 從第一個字開始取, 共取兩個字</span><br><span class="line">## 因此 &quot;Mr.&quot; 會變成 &quot;Mr&quot;</span><br><span class="line">SET formal_title = SUBSTRING(formal_title, 1, 2);</span><br><span class="line"></span><br><span class="line">## 同上, 修改 formal_title colum 的 type</span><br><span class="line">ALTER TABLE humans</span><br><span class="line">CHANGE COLUMN formal_title formal_title ENUM(&apos;Mr&apos;,&apos;Ms&apos;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-query-的意思是？-16"><a href="#以下的-MySQL-query-的意思是？-16" class="headerlink" title="以下的 MySQL query 的意思是？"></a><strong>以下的 MySQL query 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">select common_name as &apos;hawks&apos;</span><br><span class="line">from birds</span><br><span class="line">where common_name regexp &apos;[[:space:]]hawk|[[.hyphen.]]hawk&apos;</span><br><span class="line">and common_name not regexp &apos;hawk-owl|hawk owl&apos;</span><br><span class="line">order by family_id;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">## select common_name column, 並定義新欄位名稱為 Hawks</span><br><span class="line">select common_name as &apos;hawks&apos;</span><br><span class="line">## 從 birds table</span><br><span class="line">from birds</span><br><span class="line">## common_name 的值必須是 &quot; hawk&quot;, 或是 &quot;-hawk&quot;</span><br><span class="line">where common_name regexp &apos;[[:space:]]hawk|[[.hyphen.]]hawk&apos;</span><br><span class="line">## common_name 的值必須不是 &quot;hawk_owl&quot; 或 &quot;hawk owl&quot;</span><br><span class="line">and common_name not regexp &apos;hawk-owl|hawk owl&apos;</span><br><span class="line">## 經由 family_id column 排序</span><br><span class="line">order by family_id;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-column-information-中-latin1-bin-的-bin-是什麼意思？"><a href="#以下的-MySQL-column-information-中-latin1-bin-的-bin-是什麼意思？" class="headerlink" title="以下的 MySQL column information 中, latin1_bin 的 bin 是什麼意思？"></a><strong>以下的 MySQL column information 中, latin1_bin 的 bin 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW FULL COLUMNS</span><br><span class="line">FROM birds LIKE &apos;common_name&apos; \G</span><br><span class="line"></span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">     Field: common_name</span><br><span class="line">      Type: varchar(255)</span><br><span class="line"> Collation: latin1_bin</span><br><span class="line">      Null: YES</span><br><span class="line">       Key:</span><br><span class="line">   Default: NULL</span><br><span class="line">     Extra:</span><br><span class="line">Privileges: select,insert,update,references</span><br><span class="line">   Comment:</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>binary 的意思, 表示儲存在該欄位的資料都會以 binary 定序</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-是什麼意思？"><a href="#以下的-MySQL-example-code-是什麼意思？" class="headerlink" title="以下的 MySQL example code 是什麼意思？"></a><strong>以下的 MySQL example code 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name AS &apos;Hawks&apos;</span><br><span class="line">FROM birds</span><br><span class="line">WHERE common_name REGEXP BINARY &apos;Hawk&apos;</span><br><span class="line">AND common_name NOT REGEXP &apos;Hawk-Owl&apos;</span><br><span class="line">ORDER BY family_id LIMIT 10;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>一般來說, REGEXP 不會區分大小寫, 若要區分, 可加上 BINARY, 會以二進制定序, h 跟 H 的二進制碼不同, 所以可以區分大小寫</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-是什麼意思？-1"><a href="#以下的-MySQL-example-code-是什麼意思？-1" class="headerlink" title="以下的 MySQL example code 是什麼意思？"></a><strong>以下的 MySQL example code 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT common_name, scientific_name, family_id</span><br><span class="line">FROM birds</span><br><span class="line">WHERE family_id IN(103, 160, 162, 164)</span><br><span class="line">AND common_name != &apos;&apos;</span><br><span class="line">ORDER BY common_name</span><br><span class="line">LIMIT 3, 2;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從第三筆之後開始查詢, 取得兩筆資料, 相當於 offset 3, limit 2</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-是什麼意思？-2"><a href="#以下的-MySQL-example-code-是什麼意思？-2" class="headerlink" title="以下的 MySQL example code 是什麼意思？"></a><strong>以下的 MySQL example code 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT HIGH_PRIORITY INTO bird_sightings</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>MySQL 預設 insert 的 priority 就大於 select, 但如果預設值被改掉, 就可以使用上面的語法</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-有個與-MySQL-Client-不方便的地方-是什麼？"><a href="#以下的-MySQL-example-code-有個與-MySQL-Client-不方便的地方-是什麼？" class="headerlink" title="以下的 MySQL example code 有個與 MySQL Client 不方便的地方, 是什麼？"></a><strong>以下的 MySQL example code 有個與 MySQL Client 不方便的地方, 是什麼？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT LOW_PRIORITY INTO bird_sightings</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>在 low priority instruction 被執行之前, client 會一直卡住</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-是什麼意思？-3"><a href="#以下的-MySQL-example-code-是什麼意思？-3" class="headerlink" title="以下的 MySQL example code 是什麼意思？"></a><strong>以下的 MySQL example code 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT LOW_PRIORITY INTO bird_sightings</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>先完成手邊的工作, 再處理 low priority 的工作</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-是什麼意思？-4"><a href="#以下的-MySQL-example-code-是什麼意思？-4" class="headerlink" title="以下的 MySQL example code 是什麼意思？"></a><strong>以下的 MySQL example code 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">REPLACE INTO bird_families</span><br><span class="line">(scientific_name, brief_description, order_id)</span><br><span class="line">VALUES(&apos;Viduidae&apos;, &apos;Indigobirds &amp; Whydahs&apos;, 128),</span><br><span class="line">(&apos;Estrildidae&apos;, &apos;Waxbills, Weaver Finches, &amp; Allies&apos;, 128),</span><br><span class="line">(&apos;Ploceidae&apos;, &apos;Weavers, Malimbe, &amp; Bishops&apos;, 128);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>將指定的 value insert 到指定的欄位, 如果遇到重複的, 則覆寫, 相當於 Laravel 中的 insertOrUpdate</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-是什麼意思？-5"><a href="#以下的-MySQL-example-code-是什麼意思？-5" class="headerlink" title="以下的 MySQL example code 是什麼意思？"></a><strong>以下的 MySQL example code 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">UPDATE bird_families, bird_orders</span><br><span class="line">SET bird_families.order_id = bird_orders.order_id</span><br><span class="line">WHERE bird_families.order_id IS NULL</span><br><span class="line">AND cornell_bird_order = bird_orders.scientific_name;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>將 bird_families table 中的 order_id update 為 bird_orders table 中的 order_id<br>只更新 where clause 中限制的 record</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-是什麼意思？-6"><a href="#以下的-MySQL-example-code-是什麼意思？-6" class="headerlink" title="以下的 MySQL example code 是什麼意思？"></a><strong>以下的 MySQL example code 是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT IGNORE INTO bird_families</span><br><span class="line">(scientific_name, brief_description, cornell_bird_order)</span><br><span class="line">SELECT bird_family, examples, bird_order</span><br><span class="line">FROM cornell_birds_families_orders;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 cornell_birds_families_orders table, select bird_family, examples, bird_order 三個欄位, 並將 select 的結果 insert 到 bird_families table 的 scientific_name, brief_description, cornell_bird_order 欄位, 同時, 若過程中出現錯誤, ignore 錯誤繼續執行</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-中-為什麼會失敗？"><a href="#以下的-MySQL-example-code-中-為什麼會失敗？" class="headerlink" title="以下的 MySQL example code 中, 為什麼會失敗？"></a><strong>以下的 MySQL example code 中, 為什麼會失敗？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE conservation_status</span><br><span class="line">CHANGE status_id conservation_status_id INT AUTO_INCREMENT PRIMARY KEY;</span><br><span class="line"></span><br><span class="line">ERROR 1068: Multiple primary key defined</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>status_id 欄位原本已經有 primary_key, 這是一個 index<br>上面的語法在原本已經有一個 index 的同時, 又要增加一個 index, 所以報錯<br>應該要先把原本的 index 拿掉</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-中-為什麼最後一行的-common-name-要重複兩次？"><a href="#以下的-MySQL-example-code-中-為什麼最後一行的-common-name-要重複兩次？" class="headerlink" title="以下的 MySQL example code 中, 為什麼最後一行的 common_name 要重複兩次？"></a><strong>以下的 MySQL example code 中, 為什麼最後一行的 common_name 要重複兩次？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE birds_new</span><br><span class="line">ADD COLUMN body_id CHAR(2) AFTER wing_id,</span><br><span class="line">ADD COLUMN bill_id CHAR(2) AFTER body_id,</span><br><span class="line">ADD COLUMN endangered BIT DEFAULT b&apos;1&apos; AFTER bill_id,</span><br><span class="line">CHANGE COLUMN common_name common_name VARCHAR(255);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>第一次是指要變更的 column 名稱<br>第二次是指要變更成哪個名稱</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-code-中-在建立-bill-id-column-時-理論上-body-id-column-應該還沒創建出來-那為什麼可以指定-bill-id-after-body-id-呢？"><a href="#以下的-MySQL-example-code-中-在建立-bill-id-column-時-理論上-body-id-column-應該還沒創建出來-那為什麼可以指定-bill-id-after-body-id-呢？" class="headerlink" title="以下的 MySQL example code 中, 在建立 bill_id column 時, 理論上 body_id column 應該還沒創建出來, 那為什麼可以指定 bill_id after body_id 呢？"></a><strong>以下的 MySQL example code 中, 在建立 bill_id column 時, 理論上 body_id column 應該還沒創建出來, 那為什麼可以指定 bill_id after body_id 呢？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ALTER TABLE birds_new</span><br><span class="line">ADD COLUMN body_id CHAR(2) AFTER wing_id,</span><br><span class="line">ADD COLUMN bill_id CHAR(2) AFTER body_id,</span><br><span class="line">ADD COLUMN endangered BIT DEFAULT b&apos;1&apos; AFTER bill_id,</span><br><span class="line">CHANGE COLUMN common_name common_name VARCHAR(255);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>在 MySQL ALTER 的過程中, 會先建立一張虛擬的表格, 如果語法執行上都沒有問題, 會用這張虛擬表格取代原本的<br>如果語法有錯, 則會刪除這張虛擬表格</p>
</li>
</ul>
<h6 id="MySQL-的-column-property-character-set-以及-collation-分別代表的意思是？"><a href="#MySQL-的-column-property-character-set-以及-collation-分別代表的意思是？" class="headerlink" title="MySQL 的 column property character set 以及 collation, 分別代表的意思是？"></a><strong>MySQL 的 column property <code>character set</code> 以及 <code>collation</code>, 分別代表的意思是？</strong></h6><p>character set: 該欄位會儲存的語言屬於哪一種編碼<br>collation: 該欄位該以什麼樣的語種排序</p>
<h6 id="以下的-MySQL-command-的意思是？"><a href="#以下的-MySQL-command-的意思是？" class="headerlink" title="以下的 MySQL command 的意思是？"></a><strong>以下的 MySQL command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SHOW CREATE TABLE birds \G</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>顯示建立該 table 的語法</p>
</li>
</ul>
<h6 id="MySQL-中-CHAR-跟-VARCHAR-使用的大原則是？"><a href="#MySQL-中-CHAR-跟-VARCHAR-使用的大原則是？" class="headerlink" title="MySQL 中, CHAR 跟 VARCHAR, 使用的大原則是？"></a><strong>MySQL 中, CHAR 跟 VARCHAR, 使用的大原則是？</strong></h6><p>如果確切知道有幾個 character, 就使用 CHAR, 否則則使用 VARCHAR</p>
<h6 id="MySQL-中-CHAR-跟-VARCHAR-哪個較不會產生-fragmentation"><a href="#MySQL-中-CHAR-跟-VARCHAR-哪個較不會產生-fragmentation" class="headerlink" title="MySQL 中, CHAR 跟 VARCHAR, 哪個較不會產生 fragmentation?"></a><strong>MySQL 中, CHAR 跟 VARCHAR, 哪個較不會產生 fragmentation?</strong></h6><p>VARCHAR</p>
<h6 id="MySQL-中-CHAR-跟-VARCHAR-哪個使用-index-的-performance-較佳？"><a href="#MySQL-中-CHAR-跟-VARCHAR-哪個使用-index-的-performance-較佳？" class="headerlink" title="MySQL 中, CHAR 跟 VARCHAR, 哪個使用 index 的 performance 較佳？"></a><strong>MySQL 中, CHAR 跟 VARCHAR, 哪個使用 index 的 performance 較佳？</strong></h6><p>CHAR</p>
<h6 id="MySQL-中-當我使用-mysql-client-select-有時會因為資料太多而資料欄位沒有排列好-像下圖一樣-這時候可以使用哪個-command-來顯示正確的格式？"><a href="#MySQL-中-當我使用-mysql-client-select-有時會因為資料太多而資料欄位沒有排列好-像下圖一樣-這時候可以使用哪個-command-來顯示正確的格式？" class="headerlink" title="MySQL 中, 當我使用 mysql client select, 有時會因為資料太多而資料欄位沒有排列好, 像下圖一樣, 這時候可以使用哪個 command 來顯示正確的格式？"></a><strong>MySQL 中, 當我使用 mysql client select, 有時會因為資料太多而資料欄位沒有排列好, 像下圖一樣, 這時候可以使用哪個 command 來顯示正確的格式？</strong></h6><ul>
<li><strong>Example</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3dAIYjJ92lwi-2YKq_9IVVY-779K6GbYuQfgdjCGlSJAgWeaBVWJrzwMtQL2wk6G_o8vLbJuuyIT3BcHq0OTvlw08sMFaZMMytL10EbfhiiIwQyDRglE6XGJMXJlfYVjufFRRSWLIlmTI8pnIniMb71Ww=w3414-h2002-no?authuser=0"></li>
<li><strong>Answer</strong>:<br>可在最後用 <code>\G</code> 取代 <code>;</code></li>
</ul>
<h6 id="MySQL-中-virtualAs-column-type-的作用是？"><a href="#MySQL-中-virtualAs-column-type-的作用是？" class="headerlink" title="MySQL 中, virtualAs column type 的作用是？"></a><strong>MySQL 中, virtualAs column type 的作用是？</strong></h6><p>虛擬 column, 內容來自於其他 column 的計算結果(自定義), 比如說, 新增一個 virtualAs column 叫做 full_name, 自定義內容來自於 first_name + last_name</p>
<h6 id="command-line-中-如果-filesystem-的目前登入者跟-MySQL-的-user-是同一個-那在登入時我還需要使用-mysql-u-username-p-password-嗎？"><a href="#command-line-中-如果-filesystem-的目前登入者跟-MySQL-的-user-是同一個-那在登入時我還需要使用-mysql-u-username-p-password-嗎？" class="headerlink" title="command line 中, 如果 filesystem 的目前登入者跟 MySQL 的 user 是同一個, 那在登入時我還需要使用 mysql -u username -p password 嗎？"></a><strong>command line 中, 如果 filesystem 的目前登入者跟 MySQL 的 user 是同一個, 那在登入時我還需要使用 <code>mysql -u username -p password</code> 嗎？</strong></h6><p>不需要, 直接使用 <code>mysql -p</code> 即可</p>
<h6 id="以下的-mysql-command-的意思是？"><a href="#以下的-mysql-command-的意思是？" class="headerlink" title="以下的 mysql command 的意思是？"></a><strong>以下的 mysql command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -u root -p -e &quot;GRANT ALL ON *.* TO &apos;russell&apos;@&apos;localhost&apos;;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>賦予 russell, host 為 localhost, 所有資料庫以及 table 的操作權限<br>第一個 * 的位置代表資料庫, * 表示全部資料庫<br>第二個 * 的位置代表 table, * 表示全部 table</p>
</li>
</ul>
<h6 id="以下的-mysql-command-的意思是？-1"><a href="#以下的-mysql-command-的意思是？-1" class="headerlink" title="以下的 mysql command 的意思是？"></a><strong>以下的 mysql command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -u root -p -e &quot;SHOW GRANTS FOR &apos;russell&apos;@&apos;localhost&apos; \G&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>顯示 russell 的所有權限</p>
</li>
</ul>
<h6 id="以下的-mysql-command-的意思是？-2"><a href="#以下的-mysql-command-的意思是？-2" class="headerlink" title="以下的 mysql command 的意思是？"></a><strong>以下的 mysql command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -u root -p -e &quot;GRANT SELECT ON *.* TO &apos;russell&apos;@&apos;localhost&apos;;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>給予 russell user, host 為 localhost, select 所有資料庫所有 table 的權限</p>
</li>
</ul>
<h6 id="以下的-mysql-command-的意思是？-3"><a href="#以下的-mysql-command-的意思是？-3" class="headerlink" title="以下的 mysql command 的意思是？"></a><strong>以下的 mysql command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -u root -p -e &quot;GRANT USAGE ON *.*</span><br><span class="line">TO &apos;russell&apos;@&apos;localhost&apos;</span><br><span class="line">IDENTIFIED BY &apos;Rover#My_1st_Dog&amp;Not_Yours!&apos;;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">## 給予存取所有資料庫所有 table 的權限, 這裡是指可存取的 database 以及 table</span><br><span class="line">## 但並沒有給予任何實際上的權限, 如 select, update, insert</span><br><span class="line">mysql -u root -p -e &quot;GRANT USAGE ON *.*</span><br><span class="line">## 賦予上面的權限給 user russell, host 為 localhost</span><br><span class="line">TO &apos;russell&apos;@&apos;localhost&apos;</span><br><span class="line">## 密碼為 Rover#My_1st_Dog&amp;Not_Yours!</span><br><span class="line">IDENTIFIED BY &apos;Rover#My_1st_Dog&amp;Not_Yours!&apos;;&quot;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-mysql-command-的意思是？-4"><a href="#以下的-mysql-command-的意思是？-4" class="headerlink" title="以下的 mysql command 的意思是？"></a><strong>以下的 mysql command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysqladmin -u root -p flush-privileges</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>當完成一些設定更新後, 下達上面的指令讓設定生效</p>
</li>
</ul>
<h6 id="以下的-mysql-command-的意思是？-5"><a href="#以下的-mysql-command-的意思是？-5" class="headerlink" title="以下的 mysql command 的意思是？"></a><strong>以下的 mysql command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -u root -p -e &quot;SELECT User,Host FROM mysql.user;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>列出所有的 user 以及 host</p>
</li>
</ul>
<h6 id="以下的-mysql-command-的意思是？-6"><a href="#以下的-mysql-command-的意思是？-6" class="headerlink" title="以下的 mysql command 的意思是？"></a><strong>以下的 mysql command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">mysql -u root -p -e &quot;SET PASSWORD FOR &apos;root&apos;@&apos;127.0.0.1&apos; PASSWORD(&apos;new_pwd&apos;);&quot;</span><br><span class="line">mysql -u root -p -e &quot;SET PASSWORD FOR &apos;root&apos;@&apos;localhost&apos; PASSWORD(&apos;new_pwd&apos;);&quot;</span><br><span class="line">mysql -u root -p -e &quot;DROP USER &apos;root&apos;@&apos;%&apos;;&quot;</span><br><span class="line">mysql -u root -p -e &quot;DROP USER &apos;&apos;@&apos;localhost&apos;;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>1, 2 行給 root 的不同 host 設定新密碼, 儘管 127.0.0.1 等於 localhost, 但也必須分別設定密碼<br>3, <code>&#39;root&#39;@&#39;%&#39;</code> 表示不管從任何 host 都可以 claim 自己是 root, 這樣的設定並不安全, 必須刪除<br>4, <code>&#39;&#39;@&#39;localhost&#39;</code> 表示只要是來自 localhost, 任何 username 都被接受, 這樣的設定也不安全, 應該要刪除這樣的 anonymous user</p>
</li>
</ul>
<h6 id="Mysql-中-如果搜尋的字串是-開頭-那可以用-index-嗎？"><a href="#Mysql-中-如果搜尋的字串是-開頭-那可以用-index-嗎？" class="headerlink" title="Mysql 中, 如果搜尋的字串是 % 開頭, 那可以用 index 嗎？"></a><strong>Mysql 中, 如果搜尋的字串是 <code>%</code> 開頭, 那可以用 index 嗎？</strong></h6><p>不行</p>
<h6 id="Mysql-中-set-column-type-的特性是？"><a href="#Mysql-中-set-column-type-的特性是？" class="headerlink" title="Mysql 中, set column type 的特性是？"></a><strong>Mysql 中, set column type 的特性是？</strong></h6><p>可指定一個允許輸入值列表, 所有 insert 的值都必須在這列表內才允許輸入, 與 enum 不同之處在於, enum 只允許 insert 一個值, set 允許 insert 零個或多個</p>
<h6 id="如何在已知-root-現有密碼的情況下重新設定-root-密碼？"><a href="#如何在已知-root-現有密碼的情況下重新設定-root-密碼？" class="headerlink" title="如何在已知 root 現有密碼的情況下重新設定 root 密碼？"></a><strong>如何在已知 root 現有密碼的情況下重新設定 root 密碼？</strong></h6><figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">mysqladmin -u root -p flush-privileges password</span><br></pre></td></tr></table></figure>

<h6 id="Mysql-中-enum-column-type-的特性是？"><a href="#Mysql-中-enum-column-type-的特性是？" class="headerlink" title="Mysql 中, enum column type 的特性是？"></a><strong>Mysql 中, enum column type 的特性是？</strong></h6><p>可指定一個允許輸入值列表, 所有 insert 的值都必須在這列表內才允許輸入, 與 enum 不同之處在於, enum 只允許 insert 一個值, set 允許 insert 零個或多個</p>
<h6 id="Mysql-中-date-datetime-timestamp-三種-data-type-差異分別是？"><a href="#Mysql-中-date-datetime-timestamp-三種-data-type-差異分別是？" class="headerlink" title="Mysql 中, date, datetime, timestamp, 三種 data type 差異分別是？"></a><strong>Mysql 中, date, datetime, timestamp, 三種 data type 差異分別是？</strong></h6><p>date: yyyy-mm-dd<br>datetime: yyyy-mm-dd hh:mm:ss<br>timestamp: yyyy-mm-dd hh:mm:ss 除此之外, timestamp 會將收到的時間轉成 UTC, 當 query 此欄位時, 會再從 UTC 轉成目前時區</p>
<h6 id="Mysql-中-float-double-decimal-由小至大的排列順序為？"><a href="#Mysql-中-float-double-decimal-由小至大的排列順序為？" class="headerlink" title="Mysql 中, float, double, decimal, 由小至大的排列順序為？"></a><strong>Mysql 中, float, double, decimal, 由小至大的排列順序為？</strong></h6><p>float, double, decimal</p>
<h6 id="Mysql-中-若要精準的儲存一個數字-含小數點-建議使用哪個-type"><a href="#Mysql-中-若要精準的儲存一個數字-含小數點-建議使用哪個-type" class="headerlink" title="Mysql 中, 若要精準的儲存一個數字(含小數點), 建議使用哪個 type?"></a><strong>Mysql 中, 若要精準的儲存一個數字(含小數點), 建議使用哪個 type?</strong></h6><p>decimal</p>
<h6 id="Mysql-中-double-type-有效位數約為？"><a href="#Mysql-中-double-type-有效位數約為？" class="headerlink" title="Mysql 中, double type 有效位數約為？"></a><strong>Mysql 中, double type 有效位數約為？</strong></h6><p>17 位</p>
<h6 id="Mysql-中-float-type-有效位數約為？"><a href="#Mysql-中-float-type-有效位數約為？" class="headerlink" title="Mysql 中, float type 有效位數約為？"></a><strong>Mysql 中, float type 有效位數約為？</strong></h6><p>7 位數</p>
<h6 id="Mysqld-通常代表什麼？"><a href="#Mysqld-通常代表什麼？" class="headerlink" title="Mysqld 通常代表什麼？"></a><strong>Mysqld 通常代表什麼？</strong></h6><p>MySQL Daemon, 通常代表 MySQL Server</p>
<h6 id="以下的-SQL-語法中的意思是？"><a href="#以下的-SQL-語法中的意思是？" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE INDEX prod_name_ind</span><br><span class="line">ON PRODUCTS (prod_name);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立一個 index, 名為 prod_name_ind, table 為 PRODUCTS, 欄位為 prod_name</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-1"><a href="#以下的-SQL-語法中的意思是？-1" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">BEGIN TRANSACTION</span><br><span class="line">INSERT INTO Customers(cust_id, cust_name)</span><br><span class="line">VALUES(&apos;1000000010&apos;, &apos;Toys Emporium&apos;);</span><br><span class="line">SAVE TRANSACTION StartOrder;</span><br><span class="line">INSERT INTO Orders(order_num, order_date, cust_id)</span><br><span class="line">VALUES(20100,&apos;2001/12/1&apos;,&apos;1000000010&apos;);</span><br><span class="line">IF @@ERROR &lt;&gt; 0 ROLLBACK TRANSACTION StartOrder;</span><br><span class="line">INSERT INTO OrderItems(order_num, order_item, prod_id, quantity, item_price)</span><br><span class="line">VALUES(20100, 1, &apos;BR01&apos;, 100, 5.49);</span><br><span class="line">IF @@ERROR &lt;&gt; 0 ROLLBACK TRANSACTION StartOrder;</span><br><span class="line">INSERT INTO OrderItems(order_num, order_item, prod_id, quantity, item_price)</span><br><span class="line">VALUES(20100, 2, &apos;BR03&apos;, 100, 10.99);</span><br><span class="line">IF @@ERROR &lt;&gt; 0 ROLLBACK TRANSACTION StartOrder;</span><br><span class="line">COMMIT TRANSACTION</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>在第一個 insert 建立一個 savepoint StartOrder, 如果之後的語法失敗, 回到 savepoint</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-2"><a href="#以下的-SQL-語法中的意思是？-2" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE VIEW ProductCustomers AS</span><br><span class="line">SELECT cust_name, cust_contact, prod_id</span><br><span class="line">FROM Customers, Orders, OrderItems</span><br><span class="line">WHERE Customers.cust_id = Orders.cust_id</span><br><span class="line"> AND OrderItems.order_num = Orders.order_num;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立一個 VIEW, 為一張虛擬的 table, 可藉此簡單化省略重複複雜 SQL 語法</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-3"><a href="#以下的-SQL-語法中的意思是？-3" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">INTO CustCopy</span><br><span class="line">FROM Customers;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 Customers table 撈出所有 record, 再 insert 到 CustCopy table</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-4"><a href="#以下的-SQL-語法中的意思是？-4" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">INSERT INTO Customers(cust_id,</span><br><span class="line">                      cust_contact,</span><br><span class="line">                      cust_email,</span><br><span class="line">                      cust_name,</span><br><span class="line">                      cust_address,</span><br><span class="line">                      cust_city,</span><br><span class="line">                      cust_state,</span><br><span class="line">                      cust_zip,</span><br><span class="line">                      cust_country)</span><br><span class="line">SELECT cust_id,</span><br><span class="line">       cust_contact,</span><br><span class="line">       cust_email,</span><br><span class="line">       cust_name,</span><br><span class="line">       cust_address,</span><br><span class="line">       cust_city,</span><br><span class="line">       cust_state,</span><br><span class="line">       cust_zip,</span><br><span class="line">       cust_country</span><br><span class="line">FROM CustNew;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 CustNew table 中 select 出 record, 在 insert 進 Customers table</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-5"><a href="#以下的-SQL-語法中的意思是？-5" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_name, cust_contact, cust_email</span><br><span class="line">FROM Customers</span><br><span class="line">WHERE cust_state IN (&apos;IL&apos;,&apos;IN&apos;,&apos;MI&apos;)</span><br><span class="line">UNION</span><br><span class="line">SELECT cust_name, cust_contact, cust_email</span><br><span class="line">FROM Customers</span><br><span class="line">WHERE cust_name = &apos;Fun4All&apos;</span><br><span class="line">ORDER BY cust_name, cust_contact;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>只在最後一個 SELECT 使用 ORDER BY, 因為 UNION 會將它用來排序所有 SELECT 語句返回的結果</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-6"><a href="#以下的-SQL-語法中的意思是？-6" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_name, cust_contact, cust_email </span><br><span class="line">FROM Customers </span><br><span class="line">WHERE cust_state IN (&apos;IL&apos;,&apos;IN&apos;,&apos;MI&apos;) </span><br><span class="line">UNION ALL</span><br><span class="line">SELECT cust_name, cust_contact, cust_email </span><br><span class="line">FROM Customers </span><br><span class="line">WHERE cust_name = &apos;Fun4All&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 UNION 語法同時執行兩個 query, UNION 默認取消重複的 record, ALL 表示不默認取消</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-7"><a href="#以下的-SQL-語法中的意思是？-7" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_name, cust_contact</span><br><span class="line">FROM Customers AS C, Orders AS O, OrderItems AS OI</span><br><span class="line">WHERE C.cust_id = O.cust_id</span><br><span class="line"> AND OI.order_num = O.order_num</span><br><span class="line"> AND prod_id = &apos;RGAN01&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>使用 AS 來縮短 SQL 語法</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-8"><a href="#以下的-SQL-語法中的意思是？-8" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT prod_name, vend_name, prod_price, quantity</span><br><span class="line">FROM OrderItems, Products, Vendors</span><br><span class="line">WHERE Products.vend_id = Vendors.vend_id</span><br><span class="line"> AND OrderItems.prod_id = Products.prod_id</span><br><span class="line"> AND order_num = 20007;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從三個 table 中取出指定的 column, 並指定連結</p>
</li>
</ul>
<h6 id="以下的-SQL-語法會取出多少行的-record？"><a href="#以下的-SQL-語法會取出多少行的-record？" class="headerlink" title="以下的 SQL 語法會取出多少行的 record？"></a><strong>以下的 SQL 語法會取出多少行的 record？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT vend_name, prod_name, prod_price</span><br><span class="line">FROM Vendors, Products;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>因為沒有指定關聯, 所以共會取出 Vendors 與 Products 行數的相乘</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中的意思是？-9"><a href="#以下的-SQL-語法中的意思是？-9" class="headerlink" title="以下的 SQL 語法中的意思是？"></a><strong>以下的 SQL 語法中的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_name, </span><br><span class="line">       cust_state,</span><br><span class="line">       (SELECT COUNT(*) </span><br><span class="line">        FROM Orders </span><br><span class="line">        WHERE Orders.cust_id = Customers.cust_id) AS orders</span><br><span class="line">FROM Customers </span><br><span class="line">ORDER BY cust_name;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>利用子查詢取得 orders 欄位, 即在 orders table 中, cust_id 跟 Customers table 中的 cust_id 相同</p>
</li>
</ul>
<h6 id="以下的-SQL-語法中-作為子查詢-可以-select-多個-column-嗎？"><a href="#以下的-SQL-語法中-作為子查詢-可以-select-多個-column-嗎？" class="headerlink" title="以下的 SQL 語法中, 作為子查詢, 可以 select 多個 column 嗎？"></a><strong>以下的 SQL 語法中, 作為子查詢, 可以 select 多個 column 嗎？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_id</span><br><span class="line">FROM Orders</span><br><span class="line">WHERE order_num IN (SELECT order_num</span><br><span class="line">                    FROM OrderItems</span><br><span class="line">                    WHERE prod_id = &apos;RGAN01&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>不行</p>
</li>
</ul>
<h6 id="以下的-SQL-語法的意思是？"><a href="#以下的-SQL-語法的意思是？" class="headerlink" title="以下的 SQL 語法的意思是？"></a><strong>以下的 SQL 語法的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_id</span><br><span class="line">FROM Orders</span><br><span class="line">WHERE order_num IN (SELECT order_num</span><br><span class="line">                    FROM OrderItems</span><br><span class="line">                    WHERE prod_id = &apos;RGAN01&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從子查詢得到的結果來 filter</p>
</li>
</ul>
<h6 id="下面的-select-子句的排列順序是？"><a href="#下面的-select-子句的排列順序是？" class="headerlink" title="下面的 select 子句的排列順序是？"></a><strong>下面的 select 子句的排列順序是？</strong></h6><ul>
<li><strong>Example</strong><br>SELECT, FROM, WHERE, GROUP BY, HAVING, ORDER BY</li>
<li><strong>Answer</strong>:<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3eO_NrScVvF5M6te4kEX7VTplPkSEI-_0gkyRvJgKbeeANIH1XkUiS6nXi7ELtyGh0EDk4S6z0CR3WtHfsdEuGh4OQYaISqeEioE2dY6p0d0ENZAgD10YOsvnXs8desk4fYwGgPX7vv9Pa8Rq_P04qshw=w920-h472-no?authuser=0"></li>
</ul>
<h6 id="SQL-語法中-WHERE-跟-HAVING-差別是？"><a href="#SQL-語法中-WHERE-跟-HAVING-差別是？" class="headerlink" title="SQL 語法中, WHERE 跟 HAVING 差別是？"></a><strong>SQL 語法中, WHERE 跟 HAVING 差別是？</strong></h6><p>where 過濾行<br>having 過濾分組</p>
<h6 id="SQL-語法中-count-會否忽略-NULL-值？"><a href="#SQL-語法中-count-會否忽略-NULL-值？" class="headerlink" title="SQL 語法中, count(*) 會否忽略 NULL 值？"></a><strong>SQL 語法中, count(*) 會否忽略 NULL 值？</strong></h6><p>不會</p>
<h6 id="SQL-語法中-當使用-把不同-column-的值串在一起-卻發現有多餘的空白如下-example-在-example-2-當中-該怎麼去掉這些空白呢？"><a href="#SQL-語法中-當使用-把不同-column-的值串在一起-卻發現有多餘的空白如下-example-在-example-2-當中-該怎麼去掉這些空白呢？" class="headerlink" title="SQL 語法中, 當使用 + 把不同 column 的值串在一起, 卻發現有多餘的空白如下 example, 在 example 2 當中, 該怎麼去掉這些空白呢？"></a><strong>SQL 語法中, 當使用 + 把不同 column 的值串在一起, 卻發現有多餘的空白如下 example, 在 example 2 當中, 該怎麼去掉這些空白呢？</strong></h6><ul>
<li><p><strong>Example output</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">-----------------------------------------------------------</span><br><span class="line">Bear Emporium                                (USA        )</span><br><span class="line">Bears R Us                                   (USA        )</span><br><span class="line">Doll House Inc.                              (USA        )</span><br><span class="line">Fun and Games                                (England    )</span><br><span class="line">Furball Inc.                                 (USA        )</span><br><span class="line">Jouets et ours                               (France     )</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Example 2</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT RTRIM(vend_name) + &apos; (&apos; + 這裡是？(vend_country) + &apos;)&apos;</span><br><span class="line">FROM Vendors</span><br><span class="line">ORDER BY vend_name;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT RTRIM(vend_name) + &apos; (&apos; + RTRIM(vend_country) + &apos;)&apos;</span><br><span class="line">FROM Vendors</span><br><span class="line">ORDER BY vend_name;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="SQL-語法中-如果要把兩個不同-column-的-value-串在一起成一個字串輸出-如下-example-該使用什麼符號？？"><a href="#SQL-語法中-如果要把兩個不同-column-的-value-串在一起成一個字串輸出-如下-example-該使用什麼符號？？" class="headerlink" title="SQL 語法中, 如果要把兩個不同 column 的 value 串在一起成一個字串輸出, 如下 example, 該使用什麼符號？？"></a><strong>SQL 語法中, 如果要把兩個不同 column 的 value 串在一起成一個字串輸出, 如下 example, 該使用什麼符號？？</strong></h6><ul>
<li><p><strong>Example</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT vend_name 這裡是？ &apos; (&apos; 這裡是？ vend_country 這裡是？ &apos;)&apos;</span><br><span class="line">FROM Vendors</span><br><span class="line">ORDER BY vend_name;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT vend_name + &apos; (&apos; + vend_country + &apos;)&apos;</span><br><span class="line">FROM Vendors</span><br><span class="line">ORDER BY vend_name;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="SQL-語法中-wildcard-是否會耗費比較多的時間？"><a href="#SQL-語法中-wildcard-是否會耗費比較多的時間？" class="headerlink" title="SQL 語法中, wildcard 是否會耗費比較多的時間？"></a><strong>SQL 語法中, wildcard 是否會耗費比較多的時間？</strong></h6><p>會的</p>
<h6 id="SQL-語法中-當使用-wildcard-時-最好將語法置於開頭處或結尾處？"><a href="#SQL-語法中-當使用-wildcard-時-最好將語法置於開頭處或結尾處？" class="headerlink" title="SQL 語法中, 當使用 wildcard 時, 最好將語法置於開頭處或結尾處？"></a><strong>SQL 語法中, 當使用 wildcard 時, 最好將語法置於開頭處或結尾處？</strong></h6><p>結尾處</p>
<h6 id="SQL-語法中-假如我要找出所有名字以-J-或-M-起頭的聯絡人-在以下的-example-中-該使用哪個-wildcard"><a href="#SQL-語法中-假如我要找出所有名字以-J-或-M-起頭的聯絡人-在以下的-example-中-該使用哪個-wildcard" class="headerlink" title="SQL 語法中, 假如我要找出所有名字以 J 或 M 起頭的聯絡人, 在以下的 example 中, 該使用哪個 wildcard?"></a><strong>SQL 語法中, 假如我要找出所有名字以 J 或 M 起頭的聯絡人, 在以下的 example 中, 該使用哪個 wildcard?</strong></h6><ul>
<li><p><strong>Example</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_contact</span><br><span class="line">FROM Customers</span><br><span class="line">WHERE cust_contact LIKE &apos;這裡是？%&apos;</span><br><span class="line">ORDER BY cust_contact;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong></p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">SELECT cust_contact</span><br><span class="line">FROM Customers</span><br><span class="line">WHERE cust_contact LIKE &apos;[JM]%&apos;</span><br><span class="line">ORDER BY cust_contact;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="SQL-語法中-代表多字-wildcard-如果我要單個字的-wildcard-要使用哪個符號？"><a href="#SQL-語法中-代表多字-wildcard-如果我要單個字的-wildcard-要使用哪個符號？" class="headerlink" title="SQL 語法中, % 代表多字 wildcard, 如果我要單個字的 wildcard, 要使用哪個符號？"></a><strong>SQL 語法中, <em>%</em> 代表多字 wildcard, 如果我要單個字的 wildcard, 要使用哪個符號？</strong></h6><p><em>_</em>, 是一個 word, 不是 character</p>
<h6 id="SQL-語法中-以下-example-中的語法會撈出-value-為-null-的-row-嗎？"><a href="#SQL-語法中-以下-example-中的語法會撈出-value-為-null-的-row-嗎？" class="headerlink" title="SQL 語法中, 以下 example 中的語法會撈出 value 為 null 的 row 嗎？"></a><strong>SQL 語法中, 以下 example 中的語法會撈出 value 為 null 的 row 嗎？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">SELECT prod_name</span><br><span class="line">FROM Products</span><br><span class="line">WHERE prod_name LIKE <span class="hljs-string">'%'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>不會</p>
</li>
</ul>
<h6 id="以下的-SQL-語法是什麼意思？"><a href="#以下的-SQL-語法是什麼意思？" class="headerlink" title="以下的 SQL 語法是什麼意思？"></a><strong>以下的 SQL 語法是什麼意思？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">SELECT prod_name</span><br><span class="line">FROM Products</span><br><span class="line">LIMIT 5 OFFSET 5;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>抵銷 5 行, 也就是從第 6 行開始撈<br>撈 5 行資料</p>
</li>
</ul>
<h6 id="SQL-語法中-有區分大小寫嗎？"><a href="#SQL-語法中-有區分大小寫嗎？" class="headerlink" title="SQL 語法中, 有區分大小寫嗎？"></a><strong>SQL 語法中, 有區分大小寫嗎？</strong></h6><p>無</p>
<h6 id="SQL-語法中-inner-join-跟-join-差在哪？"><a href="#SQL-語法中-inner-join-跟-join-差在哪？" class="headerlink" title="SQL 語法中, inner join 跟 join 差在哪？"></a><strong>SQL 語法中, inner join 跟 join 差在哪？</strong></h6><p>一樣</p>
<h6 id="SQL-語法中-left-outer-join-跟-left-join-差在哪？"><a href="#SQL-語法中-left-outer-join-跟-left-join-差在哪？" class="headerlink" title="SQL 語法中, left outer join 跟 left join 差在哪？"></a><strong>SQL 語法中, left outer join 跟 left join 差在哪？</strong></h6><p>一樣</p>
<h6 id="SQL-語法中-right-outer-join-跟-right-join-差在哪？"><a href="#SQL-語法中-right-outer-join-跟-right-join-差在哪？" class="headerlink" title="SQL 語法中, right outer join 跟 right join 差在哪？"></a><strong>SQL 語法中, right outer join 跟 right join 差在哪？</strong></h6><p>一樣</p>
<h6 id="SQL-語法中-join-語法的用途是？"><a href="#SQL-語法中-join-語法的用途是？" class="headerlink" title="SQL 語法中, join 語法的用途是？"></a><strong>SQL 語法中, join 語法的用途是？</strong></h6><p>同時撈出兩張表的資料</p>
<h6 id="SQL-語法中-left-join-跟-right-join-語法的差別是？"><a href="#SQL-語法中-left-join-跟-right-join-語法的差別是？" class="headerlink" title="SQL 語法中, left join 跟 right join 語法的差別是？"></a><strong>SQL 語法中, left join 跟 right join 語法的差別是？</strong></h6><p>left join 除了 join 兩張表有相關的資料外, 還會把左邊表的所有不相關資料也撈出來, right join 則是會把右邊表的所有不相關資料取出</p>
<h6 id="以下的-MySQL-example-command-的意思是？"><a href="#以下的-MySQL-example-command-的意思是？" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">show variables like &apos;validate_password%&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>顯示密碼驗證相關訊息, 如下</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line"># validate_password.check_user_name	ON</span><br><span class="line"># validate_password.dictionary_file	</span><br><span class="line"># validate_password.length	8</span><br><span class="line"># validate_password.mixed_case_count	1</span><br><span class="line"># validate_password.number_count	1</span><br><span class="line"># validate_password.policy	MEDIUM</span><br><span class="line"># validate_password.special_char_count	1</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-1"><a href="#以下的-MySQL-example-command-的意思是？-1" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">SELECT user,authentication_string,plugin,host FROM mysql.user;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>user: username<br>authentication_string: 就是 password<br>plugin: 這邊是 authentication plugin, caching_sha2_password 可在 memory cache 之前使用過的 user, 增進效能<br>host: 該 user 的 host, username + host 才是一個完整的 user<br><img src="https://lh3.googleusercontent.com/pw/ACtC-3cyStcyEOpQ3RC-ZwRm0sdp2S0QJmpG6vdYXhw1tIk3TqLLIGYxiS6zcaFguwpOxOfCbxNI5CP6JT10C90alEBwRuDEF5Fo8qTm54RRQ2k4jEZBVwqn_pM4NmB5aYf7YVCJx1B75F_EzGPAEv7pzsMMLw=w3158-h214-no?authuser=2"></p>
</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-2"><a href="#以下的-MySQL-example-command-的意思是？-2" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED WITH mysql_native_password BY &apos;password&apos;;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>更改 root 密碼</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-3"><a href="#以下的-MySQL-example-command-的意思是？-3" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-built_in">set</span> global validate_password_length=3;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>修改密碼長度規則</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-4"><a href="#以下的-MySQL-example-command-的意思是？-4" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-built_in">set</span> global validate_password_policy=0;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>修改密碼驗證原則</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-5"><a href="#以下的-MySQL-example-command-的意思是？-5" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE mydatabase CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>建立資料庫 mydatabase, 設定 character set 為 utf8mb4, collate 為 utf8mb4_unicode_ci</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-6"><a href="#以下的-MySQL-example-command-的意思是？-6" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight bash hljs"><table><tr><td class="code"><pre><span class="line">mysql -uroot -pYourPassword -Bse <span class="hljs-string">"use test; delete from testTable;"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>從 shell 不進入 MySQL client 直接下達 command</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-7"><a href="#以下的-MySQL-example-command-的意思是？-7" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">set global log_timestamps = &apos;system&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>更改 log 的時區為系統時間</p>
</li>
</ul>
<h6 id="以下的-MySQL-example-command-的意思是？-8"><a href="#以下的-MySQL-example-command-的意思是？-8" class="headerlink" title="以下的 MySQL example command 的意思是？"></a><strong>以下的 MySQL example command 的意思是？</strong></h6><ul>
<li><p><strong>Example</strong>:</p>
<figure class="highlight plain hljs"><table><tr><td class="code"><pre><span class="line">DROP DATABASE `databaseName`;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Answer</strong>:<br>刪除資料庫</p>
</li>
</ul>
<br>

<h2 id="參考書目"><a href="#參考書目" class="headerlink" title="# 參考書目"></a># 參考書目</h2><ul>
<li><a href="https://www.tenlong.com.tw/products/9787115313980" target="_blank" rel="noopener">SQL 必知必會</a></li>
<li><a href="https://www.tenlong.com.tw/products/9789864763832" target="_blank" rel="noopener">MySQL 與 MariaDB 學習手冊 (Learning MySQL and MariaDB: Heading in the Right Direction with MySQL and MariaDB)</a></li>
</ul>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/zh-tw/tags/MySQL/">#MySQL</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/zh-tw/GCPLoadBalancer/">手把手教你理解並建立 GCP 平衡負載</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/zh-tw/gitlab/">Gitlab 學習筆記</a>
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="sharethis-inline-share-buttons"></div>
<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c72643b9ea706001139fd89&amp;product=inline-share-buttons" async="async"></script>

</div>



<div class="comments">
    <h3 class="title is-4">留言</h3>
    
<script>
    var disqus_config = function () {
        this.page.url = 'https://tn710617.github.io/zh-tw/mysql/';
        this.page.identifier = 'zh-tw/mysql/';
        
        this.language = 'zh';
        
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'rayscodingjourney' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2021 Ray&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
                <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
                <script>
                    if (window.mermaid) {
                        mermaid.initialize({theme: 'default'});
                    }
                </script>
            

            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/tn710617">
                
                    <i class="fab fa-github"></i>
                
            </a>
            
            <a class="navbar-item" title="Medium" href="https://medium.com/@raycodingjourney">
                
                    <i class="fab fa-medium"></i>
                
            </a>
            
            <a class="navbar-item" title="Linkedin" href="https://www.linkedin.com/in/ray-lee-99315315a">
                
                    <i class="fab fa-linkedin"></i>
                
            </a>
            
            <a class="navbar-item" title="Facebook" href="https://www.facebook.com/profile.php?id=100001626039430">
                
                    <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="navbar-item" title="CakeResume" href="https://www.cakeresume.com/resumes/ray-6edaef/edit">
                
                    <i class="far fa-address-card"></i>
                
            </a>
            
            <a class="navbar-item" title="E-Mail" href="mailto:tn710617@gmail.com">
                
                    <i class="far fa-envelope"></i>
                
            </a>
            
            <a class="navbar-item" title="Skype" href="skype:adad0310?call|chat">
                
                    <i class="fab fa-skype"></i>
                
            </a>
            
            

        </div>
    </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="站內搜尋">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '頁面',
                CATEGORIES: '分類',
                TAGS: '標籤',
                UNTITLED: '(無標題)',
            },
            CONTENT_URL: '/content.zh-tw.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>