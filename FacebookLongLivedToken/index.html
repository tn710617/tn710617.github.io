<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Get Facebook long-lived token and never expired token - Ray&#39;s Coding Journey</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="IntroductionIn this article, I’m going to share how to get Facebook’s long lived token and never expired token via either PHP or Facebook’s Graph API Explorer.">
<meta name="keywords" content="Facebook long-lived token,Facebook never expired token">
<meta property="og:type" content="article">
<meta property="og:title" content="Get Facebook long-lived token and never expired token">
<meta property="og:url" content="https://tn710617.github.io/FacebookLongLivedToken/index.html">
<meta property="og:site_name" content="Ray&#39;s Coding Journey">
<meta property="og:description" content="IntroductionIn this article, I’m going to share how to get Facebook’s long lived token and never expired token via either PHP or Facebook’s Graph API Explorer.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.imgur.com/1EiFEa9.png">
<meta property="og:image" content="https://i.imgur.com/Ku4WAUJ.png">
<meta property="og:image" content="https://i.imgur.com/KMy7vhk.png">
<meta property="og:image" content="https://i.imgur.com/Y8K4npf.png">
<meta property="og:image" content="https://i.imgur.com/IUZ3sDe.png">
<meta property="og:image" content="https://i.imgur.com/gZWA6cN.png">
<meta property="og:image" content="https://i.imgur.com/H2Fe0T7.png">
<meta property="og:updated_time" content="2019-06-20T01:28:16.956Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Get Facebook long-lived token and never expired token">
<meta name="twitter:description" content="IntroductionIn this article, I’m going to share how to get Facebook’s long lived token and never expired token via either PHP or Facebook’s Graph API Explorer.">
<meta name="twitter:image" content="https://i.imgur.com/1EiFEa9.png">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


    <link href="/zh-tw/FacebookLongLivedToken/" rel="alternate" hreflang="zh-TW">








    <meta name="description" content="IntroductionIn this article, I’m going to share how to get Facebook’s long lived token and never expired token via either PHP or Facebook’s Graph API Explorer.">
<meta name="keywords" content="Facebook long-lived token,Facebook never expired token">
<meta property="og:type" content="article">
<meta property="og:title" content="Get Facebook long-lived token and never expired token">
<meta property="og:url" content="https://tn710617.github.io/FacebookLongLivedToken/index.html">
<meta property="og:site_name" content="Ray&#39;s Coding Journey">
<meta property="og:description" content="IntroductionIn this article, I’m going to share how to get Facebook’s long lived token and never expired token via either PHP or Facebook’s Graph API Explorer.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://i.imgur.com/1EiFEa9.png">
<meta property="og:image" content="https://i.imgur.com/Ku4WAUJ.png">
<meta property="og:image" content="https://i.imgur.com/KMy7vhk.png">
<meta property="og:image" content="https://i.imgur.com/Y8K4npf.png">
<meta property="og:image" content="https://i.imgur.com/IUZ3sDe.png">
<meta property="og:image" content="https://i.imgur.com/gZWA6cN.png">
<meta property="og:image" content="https://i.imgur.com/H2Fe0T7.png">
<meta property="og:updated_time" content="2019-06-20T01:28:16.956Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Get Facebook long-lived token and never expired token">
<meta name="twitter:description" content="IntroductionIn this article, I’m going to share how to get Facebook’s long lived token and never expired token via either PHP or Facebook’s Graph API Explorer.">
<meta name="twitter:image" content="https://i.imgur.com/1EiFEa9.png">





    <link rel="icon" href="/images/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/sunburst.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
        
    
        
    
        
    
        
    
        
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-135063928-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-135063928-1');
</script>


    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    Learn or Die
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/archives">Archives</a>
            
            <a class="navbar-item " href="/categories">Categories</a>
            
            <a class="navbar-item " href="/tags">Tags</a>
            
            <a class="navbar-item " href="/schedule">Schedule</a>
            
            <a class="navbar-item " href="/about">About</a>
            
            <a class="navbar-item " href="/japanese">Japanese</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="Table of Contents">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#Introduction">1&nbsp;&nbsp;<b>Introduction</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Facebook-Graph-API-Explorer">2&nbsp;&nbsp;<b>Facebook Graph API Explorer</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#long-lived-token">2.1&nbsp;&nbsp;long lived token</a>
                    
                    
                    
                    <a class="navbar-item" href="#Never-expired-token">2.2&nbsp;&nbsp;Never expired token</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#PHP">3&nbsp;&nbsp;<b>PHP</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#long-lived-token-1">3.1&nbsp;&nbsp;long lived token</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Conclusion">4&nbsp;&nbsp;<b>Conclusion</b></a>
                    
                </div>
            </div>
            

            
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu7">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>English</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu" style="top:100%">
            <div class="dropdown-content">
            
                <a href="/FacebookLongLivedToken/" class="dropdown-item">
                    English
                </a>
            
                <a href="/zh-tw/FacebookLongLivedToken/" class="dropdown-item">
                    繁體中文
                </a>
            
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            Get Facebook long-lived token and never expired token
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-03-02T06:07:49.000Z" itemprop="datePublished">Mar 2 2019</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/Facebook/">Facebook</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 minutes read (About 394 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In this article, I’m going to share how to get Facebook’s long lived token and never expired token via either PHP or Facebook’s Graph API Explorer.<br><a id="more"></a><br>Currently I’m working on a Facebook live-stream selling optimized system, and found that the short lived token for web is only effective for not longer than 2 hours, far shorter than 3 months on Android, and 2 months on iOS.<br>Although it will be okay if we just set our script properly, I spent some time figuring out how to get long lived token and never expired token</p>
<h2 id="Facebook-Graph-API-Explorer"><a href="#Facebook-Graph-API-Explorer" class="headerlink" title="Facebook Graph API Explorer"></a>Facebook Graph API Explorer</h2><h3 id="long-lived-token"><a href="#long-lived-token" class="headerlink" title="long lived token"></a>long lived token</h3><p>Firstly, let’s get long lived token via Facebook’s Graph API Explorer</p>
<ul>
<li><p>Let’s create some Test Users<br><img src="https://i.imgur.com/1EiFEa9.png" alt></p>
</li>
<li><p>Get token from Test Users<br><img src="https://i.imgur.com/Ku4WAUJ.png" alt></p>
</li>
<li><p>On Graph API Explorer<br><img src="https://i.imgur.com/KMy7vhk.png" alt></p>
</li>
<li><p>Enter the token we just got</p>
</li>
<li>Press submit</li>
<li><p>Press the exclamation mark beside token，and press Open In Access Token Tool<br><img src="https://i.imgur.com/Y8K4npf.png" alt></p>
</li>
<li><p>Click Extend Access Token on bottom left corner<br><img src="https://i.imgur.com/IUZ3sDe.png" alt></p>
</li>
<li><p>got long lived token<br><img src="https://i.imgur.com/gZWA6cN.png" alt></p>
</li>
</ul>
<h3 id="Never-expired-token"><a href="#Never-expired-token" class="headerlink" title="Never expired token"></a>Never expired token</h3><p>Now, let’s get never expired token through Graph API Tool</p>
<ul>
<li>Firstly, let’s login with Test User account, and create a fan page</li>
<li>Secondly, let’s repeat all the process mentioned above, and then we will get a never expired token<br><img src="https://i.imgur.com/H2Fe0T7.png" alt></li>
</ul>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><h3 id="long-lived-token-1"><a href="#long-lived-token-1" class="headerlink" title="long lived token"></a>long lived token</h3><p>Now let’s get long lived token via calling Facebook’s API with PHP</p>
<ul>
<li><p>Call Facebook’s API with PHP’s function <code>file_get_contents</code></p>
<figure class="highlight php hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLongLivedToken</span><span class="hljs-params">($token)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    $url = <span class="hljs-string">'https://graph.facebook.com/oauth/access_token?grant_type=fb_exchange_token&amp;client_id=yourClientID&amp;client_secret=yourClientSecret&amp;fb_exchange_token=shortLivedToken;</span></span><br><span class="line"><span class="hljs-string">    return json_decode(file_get_contents($url), true);</span></span><br><span class="line"><span class="hljs-string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>You will get information below:</p>
<figure class="highlight json hljs"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="hljs-attr">"result"</span>: <span class="hljs-literal">true</span>,</span><br><span class="line">    <span class="hljs-attr">"response"</span>: &#123;</span><br><span class="line">        <span class="hljs-attr">"access_token"</span>: <span class="hljs-string">"EAAEpKfFACZA8BAGyTFU29VFIlEjhDaUe66eliyWdGQDfVTBUUdFZBZAGeZBEgTEwxgthvdABuzECYi1ahqm8ZCYNRSV9YMnegq7XxCouP1sR8kXMdnNFysGb2IHZBhSB3KENeTZCBzHrFSJ9BJLt9k6xkuWkJsVHnG0KahmFmybKTG6pVaFoZATN"</span>,</span><br><span class="line">        <span class="hljs-attr">"expires_in"</span>: <span class="hljs-number">5182393</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>As to how to get never expired token via PHP, it seems like we will need to pass the APP review and get more permission, so I’m not able to test it for now.</p>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/Facebook-long-lived-token/">#Facebook long-lived token</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/Facebook-never-expired-token/">#Facebook never expired token</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/submitMultipleItemsInPayPalIPNmethod/">Add multiple items on PayPal IPN method</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/buildABilingualBlog/">Build a multi-lingual blog with Hexo</a>
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="sharethis-inline-share-buttons"></div>
<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c72643b9ea706001139fd89&amp;product=inline-share-buttons" async="async"></script>

</div>



<div class="comments">
    <h3 class="title is-4">Comments</h3>
    
<script>
    var disqus_config = function () {
        this.page.url = 'https://tn710617.github.io/FacebookLongLivedToken/';
        this.page.identifier = 'FacebookLongLivedToken/';
        
        this.language = 'en';
        
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'rayscodingjourney' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2020 Ray&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            
                       <a class="navbar-item" title="GitHub" href="https://github.com/tn710617">
                           
                           <i class="fab fa-github"></i>
                           
                       </a>
                          
                       <a class="navbar-item" title="Medium" href="https://medium.com/@raycodingjourney">
                           
                           <i class="fab fa-medium"></i>
                           
                       </a>
                          
                       <a class="navbar-item" title="Linkedin" href="https://www.linkedin.com/in/ray-lee-99315315a">
                           
                           <i class="fab fa-linkedin"></i>
                           
                       </a>
                          
                       <a class="navbar-item" title="Facebook" href="https://www.facebook.com/profile.php?id=100001626039430">
                           
                           <i class="fab fa-facebook"></i>
                           
                       </a>
                          
                       <a class="navbar-item" title="CakeResume" href="https://www.cakeresume.com/resumes/ray-6edaef/edit">
                           
                           <i class="far fa-address-card"></i>
                           
                       </a>
                          
                       <a class="navbar-item" title="E-Mail" href="mailto:tn710617@gmail.com">
                           
                           <i class="far fa-envelope"></i>
                           
                       </a>
                          
                       <a class="navbar-item" title="Skype" href="skype:adad0310?call|chat">
                           
                           <i class="fab fa-skype"></i>
                           
                       </a>
                          
                       
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>